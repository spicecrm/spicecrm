<div class="slds-border--right">
    <div class="slds-p-around--x-small slds-border--bottom">
        <div class="slds-form-element slds-grid slds-grid--vertical-align-center">
            <label for="moduleselect" class="slds-form-element__label"><system-label label="LBL_MODULE"></system-label></label>
            <div class="slds-form-element__control slds-col">
                <div class="slds-select_container">
                    <select id="moduleselect" class="slds-select" [(ngModel)]="module">
                        <option value=""><system-label label="LBL_SELECT"></system-label></option>
                        <option *ngFor="let thismodule of modules" [value]="thismodule">{{thismodule}}</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <div system-to-bottom>
        <div *ngIf="loading" class="slds-align--absolute-center slds-height_full">
            <system-spinner></system-spinner>
        </div>
        <div *ngIf="!module && !loading" class="slds-align--absolute-center slds-height_full">
            <system-label label="LBL_MAKE_SELECTION"></system-label>
        </div>
        <div *ngIf="module && !loading" class="slds-tabs_default" style="background-color: transparent">
            <ul class="slds-tabs_default__nav" role="tablist">
                <li class="slds-tabs_default__item slds-text-title--caps" [class.slds-is-active]="activeTab == 'custom'" [title]="language.getLabel('LBL_CUSTOM')" role="presentation">
                    <a class="slds-tabs_default__link" href="javascript:void(0);" (click)="activeTab = 'custom'" role="tab" tabindex="0" aria-selected="true" aria-controls="tab-custom" id="tab-custom-item">
                        <system-label label="LBL_CUSTOM"></system-label>
                    </a>
                </li>
                <li class="slds-tabs_default__item slds-text-title--caps" [class.slds-is-active]="activeTab == 'global'" [title]="language.getLabel('LBL_GLOBAL')" role="presentation">
                    <a class="slds-tabs_default__link" href="javascript:void(0);" (click)="activeTab = 'global'" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-global" id="tab-global-item">
                        <system-label label="LBL_GLOBAL"></system-label>
                    </a>
                </li>
            </ul>
            <div id="tab-custom" class="slds-tabs_default__content slds-p-around--none" [ngClass]="activeTab == 'custom' ? 'slds-show' : 'slds-hide'" role="tabpanel" aria-labelledby="tab-custom-item">
                <ul class="slds-has-dividers_around-space slds-p-around--x-small">
                    <li *ngFor="let moduleDashlet of customModuleDashlets" class="slds-grid slds-grid--align-spread slds-item">
                        <a href="javascript:void(0);" class="slds-text-link_reset" (click)="goDetail(moduleDashlet)">{{moduleDashlet.name}}</a>
                        <button  class="slds-button slds-button--icon slds-col_bump-left" (click)="remove(moduleDashlet.id)">
                            <system-button-icon icon="clear"></system-button-icon>
                        </button>
                    </li>
                </ul>
                <div class="slds-p-around--x-small" [class.slds-border--top]="customModuleDashlets.length > 0">
                    <button  class="slds-align--absolute-center slds-button slds-button--icon slds-button--icon-border" style="border-radius: 50%;" (click)="add('custom')">
                        <system-button-icon icon="add" size="medium"></system-button-icon>
                    </button>
                </div>
            </div>
            <div id="tab-global" class="slds-tabs_default__content slds-p-around--none" [ngClass]="activeTab == 'global' ? 'slds-show' : 'slds-hide'" role="tabpanel" aria-labelledby="tab-global-item">
                <ul class="slds-has-dividers_around-space slds-p-around--x-small">
                    <li *ngFor="let moduleDashlet of moduleDashlets" class="slds-grid slds-grid--align-spread slds-item">
                        <a href="javascript:void(0);" class="slds-text-link_reset" (click)="goDetail(moduleDashlet)">{{moduleDashlet.name}}</a>
                        <button  class="slds-button slds-button--icon" (click)="remove(moduleDashlet.id)">
                            <system-button-icon icon="clear"></system-button-icon>
                        </button>
                    </li>
                </ul>
                <div class="slds-p-around--x-small" [class.slds-border--top]="moduleDashlets.length > 0">
                    <button  class="slds-align--absolute-center slds-button slds-button--icon slds-button--icon-border" style="border-radius: 50%;" (click)="add('global')">
                        <system-button-icon icon="add" size="medium"></system-button-icon>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
