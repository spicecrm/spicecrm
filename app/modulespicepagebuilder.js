/*!
 * 
 *                     aacService
 *
 *                     release: 2023.03.001
 *
 *                     date: 2024-01-09 16:51:03
 *
 *                     build: 2023.03.001.1704815463270
 *
 */
"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([["src_include_spicepagebuilder_modulespicepagebuilder_ts"],{99524:(e,t,i)=>{i.r(t),i.d(t,{ModuleSpicePageBuilder:()=>oi});var s=i(44755),n=i(53190),l=i(57239),o=i(62242),d=i(95030),c=i(83463);function a(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"input",6),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.value=t)}))("ngModelChange",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.emitJoinedValue())})),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("ngModel",e.value)}}function r(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"input",7),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.value=t)}))("ngModelChange",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.emitJoinedValue())})),o.qZA(),o.TgZ(1,"span",8),o._uU(2),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("ngModel",e.value),o.xp6(2),o.hij(" ",e.suffix," ")}}let u=(()=>{class SpicePageBuilderInputText{cdRef;suffix;label="";value="";onTouched;onChange;constructor(e){this.cdRef=e}registerOnChange(e){this.onChange=t=>{e(t)}}registerOnTouched(e){this.onTouched=e}writeValue(e){e&&(this.value=this.suffix?parseFloat(e):e,this.cdRef.detectChanges())}emitJoinedValue(){this.onChange(this.suffix?this.value+this.suffix:this.value)}static ɵfac=function(e){return new(e||SpicePageBuilderInputText)(o.Y36(o.sBO))};static ɵcmp=o.Xpm({type:SpicePageBuilderInputText,selectors:[["spice-page-builder-input-text"]],inputs:{suffix:"suffix",label:"label"},features:[o._Bn([{multi:!0,provide:d.JU,useExisting:(0,o.Gpc)((()=>SpicePageBuilderInputText))}])],decls:7,vars:5,consts:[[1,"slds-form-element"],[1,"slds-form-element__label"],[3,"label"],[1,"slds-form-element__control"],["type","text","class","slds-input",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["inputNumberContainer",""],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["type","number",1,"slds-input",3,"ngModel","ngModelChange"],[1,"slds-form-element__addon"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0)(1,"label",1),o._UZ(2,"system-label",2),o.qZA(),o.TgZ(3,"div",3),o.YNc(4,a,1,1,"input",4),o.YNc(5,r,3,2,"ng-template",null,5,o.W1O),o.qZA()()),2&e){const e=o.MAs(6);o.xp6(2),o.Q6J("label",t.label),o.xp6(1),o.ekj("slds-input-has-fixed-addon",!!t.suffix),o.xp6(1),o.Q6J("ngIf",!t.suffix)("ngIfElse",e)}},dependencies:[s.O5,c._,d.Fj,d.wV,d.JJ,d.On],encapsulation:2,changeDetection:0})}return SpicePageBuilderInputText})();var p=i(77579),g=i(44044),m=i(13278),f=i(93441),b=i(26625),h=i(14505);let x=(()=>{class SpicePageBuilderService{modal;toast;helper;injector;configurationService;cdRef;backend;isLoading=!1;customSections=[];customItems=[];response=new o.vpe;contentListId;dragPlaceholderNode;defaultPlaceholderHeight=200;isMouseIn;_page={tagName:"mjml",attributes:{},children:[{tagName:"body",attributes:{"background-color":"#ffffff",width:"550px"},children:[]},{tagName:"head",children:[{tagName:"html-attributes",children:[{tagName:"selector",attributes:{path:".spice-trackable-link a"},children:[{tagName:"html-attribute",attributes:{name:"data-trackinglink"},content:""}]}]}]}]};rssDateItem={tagName:"text",content:"RSS-ITEM-DATE-PLACEHOLDER",attributes:{"css-class":"rss-date","font-size":"10px","line-height":"14px",padding:"4px","container-background-color":"#ffffff"}};panelElements=[{tagName:"text",label:"LBL_TEXT",content:"Write text here...",icon:"text",attributes:{"font-size":"13px","line-height":"14px",padding:"4px","container-background-color":"#ffffff"}},{tagName:"image",label:"LBL_IMAGE",icon:"image",attributes:{align:"center",padding:"4px",target:"_blank"}},{tagName:"divider",label:"LBL_DIVIDER",icon:"dash",attributes:{padding:"8px","border-width":"2px",width:"100%","border-color":"#a2a2a2"}},{tagName:"spacer",label:"LBL_SPACER",icon:"steps",attributes:{height:"50px","vertical-align":"middle"}},{tagName:"button",label:"LBL_BUTTON",content:"New Button",icon:"link",attributes:{"border-radius":"4px","background-color":"#ca1b21",color:"#ffffff",padding:"4px","inner-padding":"4px",width:"100px",align:"center","font-size":"13px","text-align":"center","line-height":"14px",target:"_blank","vertical-align":"middle",href:"#"}},{tagName:"raw",label:"LBL_HTML_CODE",content:"Write code here...",icon:"insert_tag_field",attributes:{}},{tagName:"rss",label:"LBL_RSS_FEED",icon:"news",content:"Enter RSS name here...",href:"#",showDate:"1",count:"3",attributes:{"font-size":"16px","css-class":"rss-container"},children:[{tagName:"column",attributes:{width:"100%"},children:[{tagName:"section",attributes:{"css-class":"rss-item",padding:"0"},children:[{tagName:"column",attributes:{"css-class":"rss-item-image-column",width:"35%",padding:"0 0 5px 0"},children:[{tagName:"image",attributes:{"css-class":"rss-image",align:"right",width:"100%",padding:"4px","fluid-on-mobile":"true",target:"_blank",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAaVBMVEVHcEzhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgD////hWADiXwfjZA/kahnlcCHmdSnnejHogDrphUPqi0zhVwD2zLDun2r86+H++vf64M/sklfxroHzvJf99O3418HwywNDAAAADHRSTlMAPut1Cqe90RIRVSoKNZleAAAEvUlEQVRo3u2a13arMBBF47jFDh6BqBKd///IK+wAGjXTkqc7K0/Y8da0MwLx8fHfttjp9rXRbic34HA8X66b7XI+Hmyg0/3y6e1kn5e7EfN99na187fOOFzlbwB4Hplldsr1oDHkSAHxaRQnSZq8LH5Z9LLwafRpQSD+evN9nfepUL5lP0iYpJWw9GUGkMR5IXqK4Ki+oIidzpIXYaoCEAE5MjCeCD14Zzn79+l6kIwEqw908uHlwotgSNBdcuQyXhVuGAjRKoKwy0nPOolm5YHKBN9VZFLuj8O1aCnhXRl7xxFyHmO1wgfibkk1JUGyM0FOyu3VJCTem9C3yu0H8vWChLsTesgXgvjxrIbwFxB0CEUASpc1xDwIiSbZiDiv0jgKtxJUCPhTlGiSP4o2LztW8yQM1hM0T6iUhzh/DNbmrK5Cfx1Bh0iZjibI0wQo9vs5thFC5GIKFUjvUVdHZAUHQ6hUTGH5MFjLqmAxRocMtUSNEGFlHXqwBSJVa2CDiPQsxGCI3NN+93g4MHRB0BSIpBpOiAga92EdRBYmwh5uY/HcmKmQqanfQh5tPdMZRbukpiacsa7M28LlTARrIPL2rk8MjVLesNxGyqs5IVOkXjUAyDIgQVKz3EgpagJbIROLhJy1JkwTwD6Q3rKMRLWpQRmF3SBPhwJuwHTvKIsgNsw7igPSp1zXDgDatAspdggRu+6I+oKl/AB4iaY4zJl9KwT88jnjn4NX8QiCRm2cxlXJTshPK4iBmODBC16ltk3tbYI8QWUd48EbK/kvKtgKeQ7eVA4JhEpicruOzYeIxSIMUEWmmVWTHRDD0CqE7MKUfjYzLcsg/dyd1gsUf6WNYR8ImiGgbJtsAbM3o3XG5+k4QyDBlcx3gzxaPuY/46grS7O8rIGgSdXMyL1Du6q6YZ158E4UCNBa8hAWqrCoVp8m3DR4i3HJkCJNbtbNeCC00gdvwc0BM7oyZ2hBRmJthrTJEDC8M69hw2SMmZKdqZI4umyYLLMhQHiujhBj2/INEJGeqDOLOyBXGNm0kRAD0RgwLNitLvnLtkS+pfW4O/XLtkTgM9OcAiqnq9Nk8i2k75TpnzLc4EPrQeOMlxvSd2IcR/60dYc4N7QeJIWrvpwQIBUTNyht2UQTxhR/XMVafbkgYooPC8xHdce/N7Qe1LJ/aj+6BFKerkJ3R0WUQlOkmR6vIpkPwTeNU+uh683QQnKr8Gw2JMViVY6VWZmkijn03gFRNjxDZDxPXvUQmowb1/Nut6I99qiNE6Q2FHFO50K0R1FjELKq0OoVNX0Rz4VQKwR99FOvWCSrbHu4SGcQEWYvL0fiGzXxk7Y0+qqhsQuxHYL1CIkrKqWfVaOeb+Y3I3KlTSUtrvRVIzCbLyvyrUHBbU42BnBH5gtkMG6Eygp9ELXaqtdC+pvppszbvOO4uyBstR8UzSPM3PJvJmMmNqphoD4LBr/io6WD20l/StUfTXJeWTy5OcavaVM5GuiXssxySCOdAO5u0xng+fcgZ/0IcH87mo+wdzXpMPP3kiIdy8oHzPva3XxUvm/aT9ZD/93s+u14fWH/rBtfxNjFj8Nvv1ICxPRKyd+8HPM3r/n80QtL/+2d/QNYM8VY/rzpWAAAAABJRU5ErkJggg=="}}]},{tagName:"column",attributes:{"css-class":"rss-item-content-column",width:"65%",padding:"0 0 5px 0"},children:[{tagName:"button",content:"RSS-ITEM-HEADER-PLACEHOLDER",attributes:{"css-class":"rss-header",align:"left","inner-padding":"0","background-color":"#ffffff",color:"#000000",href:"RSS_ITEM_HEADER_HREF_PLACEHOLDER","font-size":"22px","line-height":"22px","font-weight":"500","text-align":"left",padding:"4px","container-background-color":"#ffffff"}},this.rssDateItem,{tagName:"text",content:"RSS-ITEM-DESCRIPTION-PLACEHOLDER",attributes:{"css-class":"rss-description","font-size":"14px","line-height":"14px",padding:"4px","container-background-color":"#ffffff"}}]}]}]}]}];panelDefaultSection={tagName:"section",children:[],attributes:{padding:"0"}};panelDefaultColumn={tagName:"column",children:[],attributes:{}};alignOptions=[{title:"LBL_LEFT_ALIGN",icon:"left_align_text",value:"left"},{title:"LBL_CENTER_ALIGN",icon:"center_align_text",value:"center"},{title:"LBL_RIGHT_ALIGN",icon:"right_align_text",value:"right"}];dropListGroup;defaultSuffix="px";constructor(e,t,i,s,n,l,o){this.modal=e,this.toast=t,this.helper=i,this.injector=s,this.configurationService=n,this.cdRef=l,this.backend=o,this.contentListId=_.uniqueId("panel-drop-list-")}set page(e){this.emitData(),this._page=e}get page(){return this._page}addDropListToGroup(e){this.dropListGroup&&!this.dropListGroup._items.has(e)&&(this.dropListGroup._items.add(e),this.dropListGroup._items.forEach((e=>e._group=this.dropListGroup)))}openMediaFilePicker(){const e=new p.x;return this.modal.openModal("MediaFilePicker").subscribe((t=>{t.instance.answer.subscribe((t=>{t||(e.next(void 0),e.complete());const i=this.configurationService.getCapabilityConfig("mediafiles");t.upload?this.modal.openModal("MediaFileUploader").subscribe((t=>{t.instance.answer.subscribe((t=>{e.next(t?i.public_url+t:void 0),e.complete()}))})):(e.next(t.id?i.public_url+t.id:void 0),e.complete())}))})),e.asObservable()}emitData(e){this.response.next(e?null:this.page)}loadCustomElements(){this.isLoading=!0,this.backend.getRequest("common/PageBuilder/customElements").subscribe((e=>{this.isLoading=!1,e.sections.forEach((e=>e.content=JSON.parse(e.content))),this.customSections=e.sections,e.items.forEach((e=>e.content=JSON.parse(e.content))),this.customItems=e.items,this.cdRef.detectChanges()}))}saveCustomElement(e,t){this.isMouseIn=void 0,this.modal.input("LBL_ENTER_NAME","LBL_NAME").subscribe((i=>{if(!i)return;const s={id:this.helper.generateGuid(),name:i,type:t,content:e};switch(t){case"item":this.customItems=[...this.customItems,{...s}];break;case"section":this.customSections=[...this.customSections,{...s}]}this.cdRef.detectChanges(),s.content=JSON.stringify(s.content),this.backend.postRequest("common/PageBuilder/customElements",null,s).subscribe({next:()=>this.toast.sendToast("LBL_DATA_SAVED","success"),error:()=>this.toast.sendToast("ERR_FAILED_TO_EXECUTE","error")})}))}deleteCustomElement(e,t){switch(t){case"item":this.customItems=this.customItems.filter((t=>t.id!=e));break;case"section":this.customSections=this.customSections.filter((t=>t.id!=e))}this.cdRef.detectChanges(),this.backend.deleteRequest("common/PageBuilder/customElements/"+e).subscribe({next:()=>this.toast.sendToast("LBL_DATA_SAVED","success"),error:()=>this.toast.sendToast("ERR_FAILED_TO_EXECUTE","error")})}openEditModal(e){this.isMouseIn=void 0,this.cdRef.detectChanges();const t=new p.x;return this.modal.openModal("SpicePageBuilderEditor",!0,this.injector).subscribe((i=>{i.instance.element=JSON.parse(JSON.stringify(e)),i.instance.response.subscribe((e=>{t.next(e),e&&t.complete()}))})),t.asObservable()}static ɵfac=function(e){return new(e||SpicePageBuilderService)(o.LFG(g.o),o.LFG(m.A),o.LFG(f._),o.LFG(o.zs3),o.LFG(b.C),o.LFG(o.sBO),o.LFG(h.y))};static ɵprov=o.Yz7({token:SpicePageBuilderService,factory:SpicePageBuilderService.ɵfac})}return SpicePageBuilderService})(),v=(()=>{class SpicePageBuilderInputSides{cdRef;spicePageBuilderService;label="";value={top:0,right:0,bottom:0,left:0};onTouched;onChange;constructor(e,t){this.cdRef=e,this.spicePageBuilderService=t}registerOnChange(e){this.onChange=t=>{e(t)}}registerOnTouched(e){this.onTouched=e}writeValue(e){if(!e)return;const t=e.split(" ");this.value={top:parseFloat(t[0]),right:parseFloat(1==t.length?e:t[1]),bottom:parseFloat(1==t.length?e:t[2]),left:parseFloat(1==t.length?e:t[3])},this.cdRef.detectChanges()}emitJoinedValue(){const e=this.spicePageBuilderService.defaultSuffix;this.onChange(`${this.value.top+e} ${this.value.right+e} ${this.value.bottom+e} ${this.value.left+e}`)}static ɵfac=function(e){return new(e||SpicePageBuilderInputSides)(o.Y36(o.sBO),o.Y36(x))};static ɵcmp=o.Xpm({type:SpicePageBuilderInputSides,selectors:[["spice-page-builder-input-sides"]],inputs:{label:"label"},features:[o._Bn([{multi:!0,provide:d.JU,useExisting:(0,o.Gpc)((()=>SpicePageBuilderInputSides))}])],decls:37,vars:9,consts:[[1,"slds-form-element","slds-form-element_compound"],[1,"slds-form-element__legend","slds-form-element__label"],[1,"slds-form-element__control"],[1,"slds-form-element__row"],[1,"slds-size_1-of-4"],[1,"slds-form-element"],[1,"slds-form-element__label"],[1,"slds-form-element__control","slds-input-has-fixed-addon"],["type","number","maxlength","4","size","4",1,"slds-input",3,"ngModel","ngModelChange"],[1,"slds-form-element__addon"]],template:function(e,t){1&e&&(o.TgZ(0,"fieldset",0)(1,"legend",1),o._uU(2),o.qZA(),o.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),o._uU(8,"Top"),o.qZA(),o.TgZ(9,"div",7)(10,"input",8),o.NdJ("ngModelChange",(function(e){return t.value.top=e}))("ngModelChange",(function(){return t.emitJoinedValue()})),o.qZA(),o.TgZ(11,"span",9),o._uU(12),o.qZA()()()(),o.TgZ(13,"div",4)(14,"div",5)(15,"label",6),o._uU(16,"Right"),o.qZA(),o.TgZ(17,"div",7)(18,"input",8),o.NdJ("ngModelChange",(function(e){return t.value.right=e}))("ngModelChange",(function(){return t.emitJoinedValue()})),o.qZA(),o.TgZ(19,"span",9),o._uU(20),o.qZA()()()(),o.TgZ(21,"div",4)(22,"div",5)(23,"label",6),o._uU(24,"Bottom"),o.qZA(),o.TgZ(25,"div",7)(26,"input",8),o.NdJ("ngModelChange",(function(e){return t.value.bottom=e}))("ngModelChange",(function(){return t.emitJoinedValue()})),o.qZA(),o.TgZ(27,"span",9),o._uU(28),o.qZA()()()(),o.TgZ(29,"div",4)(30,"div",5)(31,"label",6),o._uU(32,"Left"),o.qZA(),o.TgZ(33,"div",7)(34,"input",8),o.NdJ("ngModelChange",(function(e){return t.value.left=e}))("ngModelChange",(function(){return t.emitJoinedValue()})),o.qZA(),o.TgZ(35,"span",9),o._uU(36),o.qZA()()()()()()()),2&e&&(o.xp6(2),o.Oqu(t.label),o.xp6(8),o.Q6J("ngModel",t.value.top),o.xp6(2),o.hij(" ",t.spicePageBuilderService.defaultSuffix," "),o.xp6(6),o.Q6J("ngModel",t.value.right),o.xp6(2),o.hij(" ",t.spicePageBuilderService.defaultSuffix," "),o.xp6(6),o.Q6J("ngModel",t.value.bottom),o.xp6(2),o.hij(" ",t.spicePageBuilderService.defaultSuffix," "),o.xp6(6),o.Q6J("ngModel",t.value.left),o.xp6(2),o.hij(" ",t.spicePageBuilderService.defaultSuffix," "))},dependencies:[d.Fj,d.wV,d.JJ,d.nD,d.On],encapsulation:2,changeDetection:0})}return SpicePageBuilderInputSides})(),y=(()=>{class SpicePageBuilderInputColor{cdRef;label="";value="";onTouched;onChange;constructor(e){this.cdRef=e}registerOnChange(e){this.onChange=t=>{e(t)}}registerOnTouched(e){this.onTouched=e}writeValue(e){e&&(this.value=e,this.cdRef.detectChanges())}emitValue(){this.onChange(this.value)}static ɵfac=function(e){return new(e||SpicePageBuilderInputColor)(o.Y36(o.sBO))};static ɵcmp=o.Xpm({type:SpicePageBuilderInputColor,selectors:[["spice-page-builder-input-color"]],inputs:{label:"label"},features:[o._Bn([{multi:!0,provide:d.JU,useExisting:(0,o.Gpc)((()=>SpicePageBuilderInputColor))}])],decls:6,vars:3,consts:[[1,"slds-form-element"],[1,"slds-form-element__label"],[1,"slds-form-element__control","slds-input-has-fixed-addon"],["type","color",1,"slds-input",3,"ngModel","ngModelChange"],["type","text","maxlength","8","size","8",1,"slds-input","slds-m-left--x-small",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0)(1,"label",1),o._uU(2),o.qZA(),o.TgZ(3,"div",2)(4,"input",3),o.NdJ("ngModelChange",(function(e){return t.value=e}))("ngModelChange",(function(){return t.emitValue()})),o.qZA(),o.TgZ(5,"input",4),o.NdJ("ngModelChange",(function(e){return t.value=e}))("ngModelChange",(function(){return t.emitValue()})),o.qZA()()()),2&e&&(o.xp6(2),o.Oqu(t.label),o.xp6(2),o.Q6J("ngModel",t.value),o.xp6(1),o.Q6J("ngModel",t.value))},dependencies:[d.Fj,d.JJ,d.nD,d.On],encapsulation:2,changeDetection:0})}return SpicePageBuilderInputColor})();var w=i(66550),S=i(72656),M=i(44561),C=i(50151),Z=i(13418);let E=(()=>{class SpicePageBuilderElement{domSanitizer;modal;injector;cdRef;spicePageBuilderService;element;delete$=new o.vpe;isEditMode=!1;attributesList=[{name:"width",type:"text"},{name:"background-color",type:"color"}];style={};constructor(e,t,i,s,n){this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=s,this.spicePageBuilderService=n}ngOnInit(){this.generateStyle()}handleEditResponse(e){this.element.attributes=e.attributes,this.generateStyle(),this.spicePageBuilderService.emitData(),this.cdRef.detectChanges()}generateStyle(e){this.style=JSON.parse(JSON.stringify(e?_.pick(this.element.attributes,e):this.element.attributes))}setIsMouseIn(e){this.spicePageBuilderService.isMouseIn=e?"content":"section"}edit(){this.spicePageBuilderService.openEditModal(this.element).subscribe({next:e=>{e&&this.handleEditResponse(e)}})}static ɵfac=function(e){return new(e||SpicePageBuilderElement)(o.Y36(w.H7),o.Y36(g.o),o.Y36(o.zs3),o.Y36(o.sBO),o.Y36(x))};static ɵcmp=o.Xpm({type:SpicePageBuilderElement,selectors:[["spice-page-builder-element"]],inputs:{element:"element",isEditMode:"isEditMode"},outputs:{delete$:"delete$"},decls:18,vars:3,consts:[["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_ELEMENT"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.NdJ("mouseenter",(function(){return t.setIsMouseIn(!0)}))("mouseleave",(function(){return t.setIsMouseIn(!1)})),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3),o._UZ(4,"system-icon",4),o.qZA(),o.TgZ(5,"div",5)(6,"h2",6),o._UZ(7,"system-label",7),o.qZA()()()(),o.TgZ(8,"article",8),o.NdJ("dblclick",(function(){return t.edit()})),o._UZ(9,"div",9),o.qZA(),o.TgZ(10,"div",10)(11,"div",11)(12,"button",12),o._UZ(13,"system-button-icon",13),o.qZA(),o.TgZ(14,"button",14),o.NdJ("click",(function(){return t.edit()})),o._UZ(15,"system-button-icon",15),o.qZA(),o.TgZ(16,"button",16),o.NdJ("click",(function(){return t.delete$.emit()})),o._UZ(17,"system-button-icon",17),o.qZA()()()()),2&e&&(o.ekj("slds-is-hovered","content"==t.spicePageBuilderService.isMouseIn),o.xp6(9),o.Q6J("ngStyle",t.style))},dependencies:[s.PC,S.J,M.f,c._,C.S,Z.Bh],encapsulation:2,changeDetection:0})}return SpicePageBuilderElement})();var B=i(72868);function J(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("mouseenter",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!1))})),o.TgZ(1,"div",3)(2,"div",4)(3,"div",5),o._UZ(4,"system-icon",6),o.qZA(),o.TgZ(5,"div",7)(6,"h2",8),o._UZ(7,"system-label",9),o.qZA()(),o.TgZ(8,"button",10),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),o._UZ(9,"system-button-icon",11),o.qZA()()(),o.TgZ(10,"article",12),o.NdJ("dblclick",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o.TgZ(11,"div"),o._UZ(12,"img",13),o.qZA()(),o.TgZ(13,"div",14)(14,"div",15)(15,"button",16),o._UZ(16,"system-button-icon",17),o.qZA(),o.TgZ(17,"button",18),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o._UZ(18,"system-button-icon",19),o.qZA(),o.TgZ(19,"button",20),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.delete$.emit())})),o._UZ(20,"system-button-icon",21),o.qZA()()()()}if(2&e){const e=o.oxw();o.ekj("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),o.xp6(9),o.Q6J("inverse",!0),o.xp6(1),o.Q6J("ngStyle",e.style),o.xp6(1),o.Udp("background-color",e.element.attributes["container-background-color"]),o.xp6(1),o.Q6J("src",e.element.attributes.src,o.LSH)("ngStyle",e.style)}}function L(e,t){if(1&e&&(o.TgZ(0,"div",43)(1,"span",27),o._UZ(2,"system-label",44),o.qZA(),o.TgZ(3,"div",45),o._UZ(4,"img",46),o.qZA()()),2&e){const e=o.oxw(2);o.xp6(4),o.Q6J("src",e.element.attributes.src,o.LSH)}}function T(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",50),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function N(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",51),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function k(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-sides",50),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function D(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-color",50),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function A(e,t){if(1&e&&(o.ynx(0,47),o.YNc(1,T,1,2,"spice-page-builder-input-text",48),o.YNc(2,N,1,3,"spice-page-builder-input-text",49),o.YNc(3,k,1,2,"spice-page-builder-input-sides",48),o.YNc(4,D,1,2,"spice-page-builder-input-color",48),o.BQk()),2&e){const e=t.$implicit;o.Q6J("ngSwitch",e.type),o.xp6(1),o.Q6J("ngSwitchCase","text"),o.xp6(1),o.Q6J("ngSwitchCase","textSuffix"),o.xp6(1),o.Q6J("ngSwitchCase","sides"),o.xp6(1),o.Q6J("ngSwitchCase","color")}}function P(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",22)(1,"system-section",23)(2,"div",24)(3,"div",25)(4,"div",26)(5,"span",27),o._UZ(6,"system-label",28),o.qZA(),o.TgZ(7,"div",29)(8,"div",30)(9,"div",31)(10,"label",32)(11,"span",33),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.openMediaFilePicker())})),o._UZ(12,"system-button-icon",34),o.TgZ(13,"span"),o._UZ(14,"system-label",35),o.qZA()(),o.TgZ(15,"span",36),o._UZ(16,"system-label",37),o.qZA()()()()()(),o.YNc(17,L,5,1,"div",38),o.qZA()()()(),o.TgZ(18,"div",22)(19,"system-section",39)(20,"div",40)(21,"div",41),o.YNc(22,A,5,5,"ng-container",42),o.qZA()()()()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("alwaysExpanded",!0),o.xp6(16),o.Q6J("ngIf",!!e.element.attributes.src),o.xp6(2),o.Q6J("alwaysExpanded",!0),o.xp6(3),o.Q6J("ngForOf",e.attributesList)}}let Q=(()=>{class SpicePageBuilderElementImage extends E{domSanitizer;modal;injector;cdRef;spicePageBuilderService;element;attributesList=[{name:"title",type:"text"},{name:"href",type:"text"},{name:"alt",type:"text"},{name:"fluid-on-mobile",type:"text"},{name:"rel",type:"text"},{name:"srcset",type:"text"},{name:"target",type:"text"},{name:"usemap",type:"text"},{name:"border",type:"text"},{name:"border-radius",type:"textSuffix"},{name:"align",type:"text"},{name:"height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"width",type:"textSuffix"},{name:"container-background-color",type:"color"},{name:"css-class",type:"text"}];constructor(e,t,i,s,n){super(e,t,i,s,n),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=s,this.spicePageBuilderService=n}openMediaFilePicker(){this.spicePageBuilderService.openMediaFilePicker().subscribe((e=>{e&&(this.element.attributes.src=e)}))}generateStyle(){super.generateStyle(["border","border-radius","align","height","padding","width"])}static ɵfac=function(e){return new(e||SpicePageBuilderElementImage)(o.Y36(w.H7),o.Y36(g.o),o.Y36(o.zs3),o.Y36(o.sBO),o.Y36(x))};static ɵcmp=o.Xpm({type:SpicePageBuilderElementImage,selectors:[["spice-page-builder-element-image"]],inputs:{element:"element"},features:[o.qOj],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","image","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_IMAGE"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"ngStyle","dblclick"],["alt","SpiceCRM image",2,"max-height","100%",3,"src","ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-grid","slds-height_full","slds-size--1-of-1"],[1,"slds-form-element","slds-grid","slds-grid--vertical","slds-size--1-of-2","slds-p-right--xx-small"],[1,"slds-form-element__label"],["label","LBL_IMAGE_FILE"],[1,"slds-form-element__control","slds-grow"],[1,"slds-file-selector","slds-file-selector_images","slds-height_full"],[1,"slds-file-selector__dropzone","slds-height_full"],[1,"slds-file-selector__body"],[1,"slds-file-selector__button","slds-button","slds-button_neutral",2,"cursor","pointer",3,"click"],["icon","upload"],["label","LBL_UPLOAD_IMAGE"],[1,"slds-file-selector__text","slds-medium-show"],["label","LBL_OR_DROP_IMAGE"],["class","slds-height_full slds-size--1-of-2 slds-grid slds-grid--vertical slds-p-left--xx-small",4,"ngIf"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"slds-height_full","slds-size--1-of-2","slds-grid","slds-grid--vertical","slds-p-left--xx-small"],["label","LBL_PREVIEW"],[1,"slds-grow","slds-p-around--x-small","slds-text-align--center",2,"min-height","0","border","1px solid #ddd","border-radius","4px"],["alt","Spice Image",2,"max-height","100%",3,"src"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&(o.YNc(0,J,21,8,"div",0),o.YNc(1,P,23,4,"ng-template",null,1,o.W1O)),2&e){const e=o.MAs(2);o.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.sg,s.O5,s.PC,s.RF,s.n9,S.J,M.f,c._,B.P,d.JJ,d.On,C.S,Z.Bh,u,v,y],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementImage})();var z=i(6271),I=i(71574),O=i(13091);function q(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("mouseenter",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!1))})),o.TgZ(1,"div",3)(2,"div",4)(3,"div",5),o._UZ(4,"system-icon",6),o.qZA(),o.TgZ(5,"div",7)(6,"h2",8),o._UZ(7,"system-label",9),o.qZA()(),o.TgZ(8,"button",10),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),o._UZ(9,"system-button-icon",11),o.qZA()()(),o.TgZ(10,"article",12),o.NdJ("dblclick",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o.TgZ(11,"div"),o._UZ(12,"div",13),o.qZA()(),o.TgZ(13,"div",14)(14,"div",15)(15,"button",16),o._UZ(16,"system-button-icon",17),o.qZA(),o.TgZ(17,"button",18),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o._UZ(18,"system-button-icon",19),o.qZA(),o.TgZ(19,"button",20),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.delete$.emit())})),o._UZ(20,"system-button-icon",21),o.qZA()()()()}if(2&e){const e=o.oxw();o.ekj("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),o.xp6(9),o.Q6J("inverse",!0),o.xp6(2),o.Udp("background-color",e.element.attributes["container-background-color"]),o.xp6(1),o.Q6J("innerHTML",e.sanitizedContent,o.oJD)("ngStyle",e.style)}}function H(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"system-html-editor",35),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw(2);return o.KtG(i.element.content=t)})),o.qZA()}if(2&e){const e=o.oxw(2);o.Q6J("ngModel",e.element.content)}}function F(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"system-richtext-editor",35),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw(2);return o.KtG(i.element.content=t)})),o.qZA()}if(2&e){const e=o.oxw(2);o.Q6J("ngModel",e.element.content)}}function Y(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",39),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function G(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",40),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function R(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-sides",39),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function U(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-color",39),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function K(e,t){if(1&e&&(o.ynx(0,36),o.YNc(1,Y,1,2,"spice-page-builder-input-text",37),o.YNc(2,G,1,3,"spice-page-builder-input-text",38),o.YNc(3,R,1,2,"spice-page-builder-input-sides",37),o.YNc(4,U,1,2,"spice-page-builder-input-color",37),o.BQk()),2&e){const e=t.$implicit;o.Q6J("ngSwitch",e.type),o.xp6(1),o.Q6J("ngSwitchCase","text"),o.xp6(1),o.Q6J("ngSwitchCase","textSuffix"),o.xp6(1),o.Q6J("ngSwitchCase","sides"),o.xp6(1),o.Q6J("ngSwitchCase","color")}}const $=function(){return{value:"richText",label:"LBL_RICH_TEXT_EDITOR"}},j=function(){return{value:"html",label:"LBL_HTML"}},V=function(e,t){return[e,t]};function W(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",22)(1,"system-section",23)(2,"div",24),o.YNc(3,H,1,1,"system-html-editor",25),o.YNc(4,F,1,1,"system-richtext-editor",26),o.qZA()()(),o.TgZ(5,"div",22)(6,"system-section",27)(7,"div",28)(8,"div",29)(9,"div",30)(10,"label",31),o._UZ(11,"system-label",32),o.qZA(),o.TgZ(12,"system-input-radio-button-group",33),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.element.editorType=t)})),o.qZA()(),o.YNc(13,K,5,5,"ng-container",34),o.qZA()()()()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("alwaysExpanded",!0),o.xp6(1),o.Q6J("ngSwitch",e.element.editorType),o.xp6(1),o.Q6J("ngSwitchCase","html"),o.xp6(3),o.Q6J("alwaysExpanded",!0),o.xp6(6),o.Q6J("ngModel",e.element.editorType)("inputOptions",o.WLB(9,V,o.DdM(7,$),o.DdM(8,j))),o.xp6(1),o.Q6J("ngForOf",e.attributesList)}}let X=(()=>{class SpicePageBuilderElementText extends E{domSanitizer;modal;injector;cdRef;spicePageBuilderService;element;attributesList=[{name:"color",type:"color"},{name:"container-background-color",type:"color"},{name:"font-size",type:"textSuffix"},{name:"font-style",type:"text"},{name:"font-weight",type:"text"},{name:"line-height",type:"textSuffix"},{name:"letter-spacing",type:"textSuffix"},{name:"height",type:"textSuffix"},{name:"text-decoration",type:"text"},{name:"text-transform",type:"text"},{name:"align",type:"text"},{name:"padding",type:"sides"},{name:"css-class",type:"text"}];sanitizedContent="";constructor(e,t,i,s,n){super(e,t,i,s,n),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=s,this.spicePageBuilderService=n}ngOnInit(){super.ngOnInit(),this.element.editorType||(this.element.editorType="richText"),this.sanitizeContent()}handleEditResponse(e){this.element.content=e.content,this.sanitizeContent(),super.handleEditResponse(e)}sanitizeContent(){this.sanitizedContent=this.domSanitizer.bypassSecurityTrustHtml(this.element.content)}generateStyle(){super.generateStyle(["color","font-size","font-style","font-weight","line-height","letter-spacing","text-decoration","text-transform","align","padding","height"])}static ɵfac=function(e){return new(e||SpicePageBuilderElementText)(o.Y36(w.H7),o.Y36(g.o),o.Y36(o.zs3),o.Y36(o.sBO),o.Y36(x))};static ɵcmp=o.Xpm({type:SpicePageBuilderElementText,selectors:[["spice-page-builder-element-text"]],inputs:{element:"element"},features:[o.qOj],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_TEXT"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"innerHTML","ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-scrollable--y","slds-height_full","slds-p-around--xx-small",2,"min-height","0",3,"ngSwitch"],["class","slds-size--1-of-1 spice-page-builder-text-editor",3,"ngModel","ngModelChange",4,"ngSwitchCase"],["class","slds-size--1-of-1 spice-page-builder-text-editor",3,"ngModel","ngModelChange",4,"ngSwitchDefault"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[1,"slds-form-element","slds-grid","slds-size--1-of-1"],[1,"slds-form-element__label"],["label","LBL_EDIT_WITH"],[1,"spice-display-block",3,"ngModel","inputOptions","ngModelChange"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"slds-size--1-of-1","spice-page-builder-text-editor",3,"ngModel","ngModelChange"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&(o.YNc(0,q,21,7,"div",0),o.YNc(1,W,14,12,"ng-template",null,1,o.W1O)),2&e){const e=o.MAs(2);o.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.sg,s.O5,s.PC,s.RF,s.n9,s.ED,S.J,M.f,z.p,c._,I.z,B.P,O.e,d.JJ,d.On,C.S,Z.Bh,u,v,y],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementText})();const ee=function(e,t,i){return{padding:e,"background-color":t,width:i}},te=function(e,t,i){return{"border-width":e,"border-style":t,"border-color":i}};function ie(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("mouseenter",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!1))})),o.TgZ(1,"div",3)(2,"div",4)(3,"div",5),o._UZ(4,"system-icon",6),o.qZA(),o.TgZ(5,"div",7)(6,"h2",8),o._UZ(7,"system-label",9),o.qZA()(),o.TgZ(8,"button",10),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),o._UZ(9,"system-button-icon",11),o.qZA()()(),o.TgZ(10,"article",12),o.NdJ("dblclick",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o.TgZ(11,"div",13),o._UZ(12,"hr",14),o.qZA()(),o.TgZ(13,"div",15)(14,"div",16)(15,"button",17),o._UZ(16,"system-button-icon",18),o.qZA(),o.TgZ(17,"button",19),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o._UZ(18,"system-button-icon",20),o.qZA(),o.TgZ(19,"button",21),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.delete$.emit())})),o._UZ(20,"system-button-icon",22),o.qZA()()()()}if(2&e){const e=o.oxw();o.ekj("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),o.xp6(9),o.Q6J("inverse",!0),o.xp6(2),o.Q6J("ngStyle",o.kEZ(5,ee,e.element.attributes.padding,e.element.attributes["container-background-color"],e.element.attributes.width)),o.xp6(1),o.Q6J("ngStyle",o.kEZ(9,te,e.style["border-width"],e.style["border-style"],e.style["border-color"]))}}function se(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",37),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function ne(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",38),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function le(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-sides",37),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function oe(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-color",37),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function de(e,t){if(1&e&&(o.ynx(0,34),o.YNc(1,se,1,2,"spice-page-builder-input-text",35),o.YNc(2,ne,1,3,"spice-page-builder-input-text",36),o.YNc(3,le,1,2,"spice-page-builder-input-sides",35),o.YNc(4,oe,1,2,"spice-page-builder-input-color",35),o.BQk()),2&e){const e=t.$implicit;o.Q6J("ngSwitch",e.type),o.xp6(1),o.Q6J("ngSwitchCase","text"),o.xp6(1),o.Q6J("ngSwitchCase","textSuffix"),o.xp6(1),o.Q6J("ngSwitchCase","sides"),o.xp6(1),o.Q6J("ngSwitchCase","color")}}function ce(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",23)(1,"system-section",24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"spice-page-builder-input-color",28),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.element.attributes["border-color"]=t)})),o.qZA()(),o.TgZ(6,"div",27)(7,"spice-page-builder-input-text",29),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.element.attributes["border-width"]=t)})),o.qZA()()()()()(),o.TgZ(8,"div",23)(9,"system-section",30)(10,"div",31)(11,"div",32),o.YNc(12,de,5,5,"ng-container",33),o.qZA()()()()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("alwaysExpanded",!0),o.xp6(4),o.Q6J("ngModel",e.element.attributes["border-color"]),o.xp6(2),o.Q6J("ngModel",e.element.attributes["border-width"])("suffix",e.spicePageBuilderService.defaultSuffix),o.xp6(2),o.Q6J("alwaysExpanded",!0),o.xp6(3),o.Q6J("ngForOf",e.attributesList)}}let ae=(()=>{class SpicePageBuilderElementDivider extends E{domSanitizer;modal;injector;cdRef;spicePageBuilderService;element;attributesList=[{name:"container-background-color",type:"color"},{name:"border-style",type:"text"},{name:"padding",type:"sides"},{name:"width",type:"textSuffix"},{name:"css-class",type:"text"}];constructor(e,t,i,s,n){super(e,t,i,s,n),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=s,this.spicePageBuilderService=n}generateStyle(){super.generateStyle(["border-color","border-style","border-width"])}static ɵfac=function(e){return new(e||SpicePageBuilderElementDivider)(o.Y36(w.H7),o.Y36(g.o),o.Y36(o.zs3),o.Y36(o.sBO),o.Y36(x))};static ɵcmp=o.Xpm({type:SpicePageBuilderElementDivider,selectors:[["spice-page-builder-element-divider"]],inputs:{element:"element"},features:[o.qOj],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_DIVIDER"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"ngStyle"],[2,"margin","0",3,"ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1"],[1,"slds-grid"],["label","LBL_COLOR",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","ngModelChange"],["label","LBL_THICKNESS",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","suffix","ngModelChange"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&(o.YNc(0,ie,21,13,"div",0),o.YNc(1,ce,13,6,"ng-template",null,1,o.W1O)),2&e){const e=o.MAs(2);o.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.sg,s.O5,s.PC,s.RF,s.n9,S.J,M.f,c._,B.P,d.JJ,d.On,C.S,Z.Bh,u,v,y],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementDivider})();function re(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("mouseenter",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!1))})),o.TgZ(1,"div",3)(2,"div",4)(3,"div",5),o._UZ(4,"system-icon",6),o.qZA(),o.TgZ(5,"div",7)(6,"h2",8),o._UZ(7,"system-label",9),o.qZA()(),o.TgZ(8,"button",10),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),o._UZ(9,"system-button-icon",11),o.qZA()()(),o.TgZ(10,"article",12),o.NdJ("dblclick",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o._UZ(11,"div",13),o.qZA(),o.TgZ(12,"div",14)(13,"div",15)(14,"button",16),o._UZ(15,"system-button-icon",17),o.qZA(),o.TgZ(16,"button",18),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o._UZ(17,"system-button-icon",19),o.qZA(),o.TgZ(18,"button",20),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.delete$.emit())})),o._UZ(19,"system-button-icon",21),o.qZA()()()()}if(2&e){const e=o.oxw();o.ekj("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),o.xp6(9),o.Q6J("inverse",!0),o.xp6(2),o.Udp("background-color",e.element.attributes["container-background-color"]),o.Q6J("ngStyle",e.style)}}function ue(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",35),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function pe(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",36),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function ge(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-sides",35),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function me(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-color",35),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function fe(e,t){if(1&e&&(o.ynx(0,32),o.YNc(1,ue,1,2,"spice-page-builder-input-text",33),o.YNc(2,pe,1,3,"spice-page-builder-input-text",34),o.YNc(3,ge,1,2,"spice-page-builder-input-sides",33),o.YNc(4,me,1,2,"spice-page-builder-input-color",33),o.BQk()),2&e){const e=t.$implicit;o.Q6J("ngSwitch",e.type),o.xp6(1),o.Q6J("ngSwitchCase","text"),o.xp6(1),o.Q6J("ngSwitchCase","textSuffix"),o.xp6(1),o.Q6J("ngSwitchCase","sides"),o.xp6(1),o.Q6J("ngSwitchCase","color")}}function be(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",22)(1,"system-section",23)(2,"div",24)(3,"div",25)(4,"div",26)(5,"spice-page-builder-input-text",27),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.element.attributes.height=t)})),o.qZA()()()()()(),o.TgZ(6,"div",22)(7,"system-section",28)(8,"div",29)(9,"div",30),o.YNc(10,fe,5,5,"ng-container",31),o.qZA()()()()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("alwaysExpanded",!0),o.xp6(4),o.Q6J("ngModel",e.element.attributes.height),o.xp6(2),o.Q6J("alwaysExpanded",!0),o.xp6(3),o.Q6J("ngForOf",e.attributesList)}}let he=(()=>{class SpicePageBuilderElementSpacer extends E{domSanitizer;modal;injector;cdRef;spicePageBuilderService;element;attributesList=[{name:"width",type:"textSuffix"},{name:"padding",type:"sides"},{name:"container-background-color",type:"color"},{name:"vertical-align",type:"text"},{name:"css-class",type:"text"}];constructor(e,t,i,s,n){super(e,t,i,s,n),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=s,this.spicePageBuilderService=n}generateStyle(){super.generateStyle(["width","padding","vertical-align","height"])}static ɵfac=function(e){return new(e||SpicePageBuilderElementSpacer)(o.Y36(w.H7),o.Y36(g.o),o.Y36(o.zs3),o.Y36(o.sBO),o.Y36(x))};static ɵcmp=o.Xpm({type:SpicePageBuilderElementSpacer,selectors:[["spice-page-builder-element-spacer"]],inputs:{element:"element"},features:[o.qOj],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_SPACER"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1"],[1,"slds-grid"],["label","LBL_SPACING",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","ngModelChange"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&(o.YNc(0,re,20,6,"div",0),o.YNc(1,be,11,4,"ng-template",null,1,o.W1O)),2&e){const e=o.MAs(2);o.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.sg,s.O5,s.PC,s.RF,s.n9,S.J,M.f,c._,B.P,d.JJ,d.On,C.S,Z.Bh,u,v,y],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementSpacer})();var xe=i(55710);const ve=function(e,t){return{"background-color":e,padding:t}};function ye(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("mouseenter",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!1))})),o.TgZ(1,"div",3)(2,"div",4)(3,"div",5),o._UZ(4,"system-icon",6),o.qZA(),o.TgZ(5,"div",7)(6,"h2",8),o._UZ(7,"system-label",9),o.qZA()(),o.TgZ(8,"button",10),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),o._UZ(9,"system-button-icon",11),o.qZA()()(),o.TgZ(10,"article",12),o.NdJ("dblclick",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o.TgZ(11,"div",13)(12,"div",13),o._uU(13),o.qZA()()(),o.TgZ(14,"div",14)(15,"div",15)(16,"button",16),o._UZ(17,"system-button-icon",17),o.qZA(),o.TgZ(18,"button",18),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o._UZ(19,"system-button-icon",19),o.qZA(),o.TgZ(20,"button",20),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.delete$.emit())})),o._UZ(21,"system-button-icon",21),o.qZA()()()()}if(2&e){const e=o.oxw();o.ekj("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),o.xp6(9),o.Q6J("inverse",!0),o.xp6(2),o.Q6J("ngStyle",o.WLB(8,ve,e.element.attributes["container-background-color"],e.element.attributes.padding)),o.xp6(1),o.Udp("padding",e.element.attributes["inner-padding"]),o.Q6J("ngStyle",e.style),o.xp6(1),o.hij(" ",e.element.content," ")}}function we(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",48),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function Se(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",49),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function Me(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-sides",48),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function _e(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-color",48),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function Ce(e,t){if(1&e&&(o.ynx(0,45),o.YNc(1,we,1,2,"spice-page-builder-input-text",46),o.YNc(2,Se,1,3,"spice-page-builder-input-text",47),o.YNc(3,Me,1,2,"spice-page-builder-input-sides",46),o.YNc(4,_e,1,2,"spice-page-builder-input-color",46),o.BQk()),2&e){const e=t.$implicit;o.Q6J("ngSwitch",e.type),o.xp6(1),o.Q6J("ngSwitchCase","text"),o.xp6(1),o.Q6J("ngSwitchCase","textSuffix"),o.xp6(1),o.Q6J("ngSwitchCase","sides"),o.xp6(1),o.Q6J("ngSwitchCase","color")}}const Ze=function(){return{value:"id",label:"LBL_BY_ID"}},Ee=function(){return{value:void 0,icon:"topic2",label:"LBL_NONE"}},Be=function(){return{value:"url",icon:"link",label:"LBL_BY_URL"}},Je=function(e,t,i){return[e,t,i]};function Le(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",22)(1,"system-section",23)(2,"div",24)(3,"div",25)(4,"div",26)(5,"div",27)(6,"label",28),o._UZ(7,"system-label",29),o.qZA(),o.TgZ(8,"div",30)(9,"input",31),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.element.content=t)})),o.qZA()()(),o.TgZ(10,"div",27)(11,"label",28),o._UZ(12,"system-label",32),o.qZA(),o.TgZ(13,"div",30)(14,"input",31),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.element.attributes.href=t)})),o.qZA()()()(),o.TgZ(15,"div",26)(16,"spice-page-builder-input-color",33),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.element.attributes["background-color"]=t)})),o.qZA(),o.TgZ(17,"spice-page-builder-input-color",34),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.element.attributes.color=t)})),o.qZA()(),o.TgZ(18,"div",26)(19,"spice-page-builder-input-text",35),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.element.attributes["border-radius"]=t)})),o.qZA(),o.TgZ(20,"div",27)(21,"label",28),o._UZ(22,"system-label",36),o.qZA(),o.TgZ(23,"div",30)(24,"system-input-radio-button-group",37),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.element.attributes["text-align"]=t)})),o.qZA()()()(),o.TgZ(25,"div",26)(26,"div",38)(27,"label",28),o._UZ(28,"system-label",39),o.qZA(),o.TgZ(29,"system-input-radio-button-group",40),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.setTrackByMethod(t))})),o.qZA()()()()()()(),o.TgZ(30,"div",22)(31,"system-section",41)(32,"div",42)(33,"div",43),o.YNc(34,Ce,5,5,"ng-container",44),o.qZA()()()()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("alwaysExpanded",!0),o.xp6(8),o.Q6J("ngModel",e.element.content),o.xp6(5),o.Q6J("ngModel",e.element.attributes.href),o.xp6(2),o.Q6J("ngModel",e.element.attributes["background-color"]),o.xp6(1),o.Q6J("ngModel",e.element.attributes.color),o.xp6(2),o.Q6J("ngModel",e.element.attributes["border-radius"])("suffix",e.spicePageBuilderService.defaultSuffix),o.xp6(5),o.Q6J("ngModel",e.element.attributes["text-align"])("inputOptions",e.spicePageBuilderService.alignOptions),o.xp6(5),o.Q6J("ngModel",e.element.trackByMethod)("inputOptions",o.kEZ(16,Je,o.DdM(13,Ze),o.DdM(14,Ee),o.DdM(15,Be))),o.xp6(2),o.Q6J("alwaysExpanded",!0),o.xp6(3),o.Q6J("ngForOf",e.attributesList)}}let Te=(()=>{class SpicePageBuilderElementButton extends E{domSanitizer;model;modal;injector;cdRef;spicePageBuilderService;element;attributesList=[{name:"href",type:"text"},{name:"rel",type:"text"},{name:"target",type:"text"},{name:"align",type:"text"},{name:"width",type:"textSuffix"},{name:"container-background-color",type:"color"},{name:"border",type:"text"},{name:"border-top",type:"text"},{name:"border-right",type:"text"},{name:"border-bottom",type:"text"},{name:"border-left",type:"text"},{name:"height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"inner-padding",type:"sides"},{name:"line-height",type:"textSuffix"},{name:"vertical-align",type:"text"},{name:"font-size",type:"textSuffix"},{name:"font-style",type:"text"},{name:"font-weight",type:"text"},{name:"letter-spacing",type:"textSuffix"},{name:"text-decoration",type:"text"},{name:"text-transform",type:"text"},{name:"css-class",type:"text"}];constructor(e,t,i,s,n,l){super(e,i,s,n,l),this.domSanitizer=e,this.model=t,this.modal=i,this.injector=s,this.cdRef=n,this.spicePageBuilderService=l,this.model.module="EmailTrackingLinks"}handleEditResponse(e){this.element.content=e.content,this.element.trackingLink=e.trackingLink,this.element.trackByMethod=e.trackByMethod,super.handleEditResponse(e)}generateStyle(){super.generateStyle(["width","border","border-top","border-right","border-bottom","border-left","border-radius","height","line-height","vertical-align","font-size","font-style","font-weight","text-align","letter-spacing","text-decoration","text-transform","background-color","align","color"])}setTrackByMethod(e){this.element.trackByMethod=e,"id"==e?this.openTrackingLinkSelectModal():"url"==e?this.element.trackingLink="":delete this.element.trackingLink}openTrackingLinkSelectModal(){const e=[{value:"select",display:"LBL_SELECT"},{value:"new",display:"LBL_NEW"},{value:void 0,display:"LBL_CANCEL"}];this.modal.prompt("input","LBL_MAKE_SELECTION","LBL_TRACKINGLINKS","shade","select",e,"button").subscribe((e=>{if(e)switch(e){case"new":const e={name:this.element.content,url:this.element.attributes.href};this.model.addModel("",null,e,!0).subscribe((e=>{this.element.trackingLink=e.id}));break;case"select":this.modal.openModal("ObjectModalModuleLookup").subscribe((e=>{e.instance.module="EmailTrackingLinks",e.instance.multiselect=!1,e.instance.selectedItems.subscribe((e=>{this.element.trackingLink=e[0].id}))}))}}))}static ɵfac=function(e){return new(e||SpicePageBuilderElementButton)(o.Y36(w.H7),o.Y36(xe.o),o.Y36(g.o),o.Y36(o.zs3),o.Y36(o.sBO),o.Y36(x))};static ɵcmp=o.Xpm({type:SpicePageBuilderElementButton,selectors:[["spice-page-builder-element-button"]],inputs:{element:"element"},features:[o._Bn([xe.o]),o.qOj],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_BUTTON"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-x-small"],["icon","move"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-x-small",3,"click"],["icon","edit"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-x-small",3,"click"],["icon","delete"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1"],[1,"slds-grid"],[1,"slds-form-element","slds-size--1-of-2","slds-p-horizontal--xxx-small"],[1,"slds-form-element__label"],["label","LBL_TEXT"],[1,"slds-form-element__control"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_URL"],["label","LBL_BACKGROUND_COLOR",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","ngModelChange"],["label","LBL_COLOR",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","ngModelChange"],["label","LBL_RADIUS",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","suffix","ngModelChange"],["label","LBL_TEXT_ALIGN"],[3,"ngModel","inputOptions","ngModelChange"],[1,"slds-form-element","slds-col","slds-grow-none"],["label","LBL_CLICKS_TRACKABLE"],[1,"spice-display-block",3,"ngModel","inputOptions","ngModelChange"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&(o.YNc(0,ye,22,11,"div",0),o.YNc(1,Le,35,20,"ng-template",null,1,o.W1O)),2&e){const e=o.MAs(2);o.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.sg,s.O5,s.PC,s.RF,s.n9,S.J,M.f,z.p,c._,B.P,d.Fj,d.JJ,d.On,C.S,Z.Bh,u,v,y],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementButton})();var Ne=i(42067);function ke(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("mouseenter",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!1))})),o.TgZ(1,"div",3)(2,"div",4)(3,"div",5),o._UZ(4,"system-icon",6),o.qZA(),o.TgZ(5,"div",7)(6,"h2",8),o._UZ(7,"system-label",9),o.qZA()(),o.TgZ(8,"button",10),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),o._UZ(9,"system-button-icon",11),o.qZA()()(),o.TgZ(10,"article",12),o.NdJ("dblclick",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o._UZ(11,"div",13),o.qZA(),o.TgZ(12,"div",14)(13,"div",15)(14,"button",16),o._UZ(15,"system-button-icon",17),o.qZA(),o.TgZ(16,"button",18),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o._UZ(17,"system-button-icon",19),o.qZA(),o.TgZ(18,"button",20),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.delete$.emit())})),o._UZ(19,"system-button-icon",21),o.qZA()()()()}if(2&e){const e=o.oxw();o.ekj("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),o.xp6(9),o.Q6J("inverse",!0),o.xp6(2),o.Q6J("innerHTML",e.sanitizedContent,o.oJD)("ngStyle",e.style)}}function De(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",22)(1,"system-section",23)(2,"div",24)(3,"system-html-editor",25),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.element.content=t)})),o.qZA()()()()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("alwaysExpanded",!0),o.xp6(2),o.Q6J("ngModel",e.element.content)}}let Ae=(()=>{class SpicePageBuilderElementCode extends E{domSanitizer;modal;injector;cdRef;libloader;spicePageBuilderService;element;attributesList=[];beautifyLoaded=!1;sanitizedContent="";constructor(e,t,i,s,n,l){super(e,t,i,s,l),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=s,this.libloader=n,this.spicePageBuilderService=l}ngOnInit(){super.ngOnInit(),this.sanitizeContent(),this.isEditMode&&this.loadBeatifyLibrary()}handleEditResponse(e){this.element.content=e.content,this.sanitizeContent(),super.handleEditResponse(e)}loadBeatifyLibrary(){this.libloader.loadLib("jsbeautify").subscribe((e=>{this.beautifyLoaded=!0,this.cdRef.detectChanges()}))}sanitizeContent(){this.sanitizedContent=this.domSanitizer.bypassSecurityTrustHtml(this.element.content)}beautify(){this.element.content=html_beautify(this.element.content,{indent_size:4,indent_char:" ",indent_with_tabs:!1,end_with_newline:!1,indent_level:0,preserve_newlines:!0,max_preserve_newlines:10,space_in_paren:!1,space_in_empty_paren:!1,unindent_chained_methods:!1,break_chained_methods:!1,keep_array_indentation:!1,unescape_strings:!1,wrap_line_length:100,e4x:!1,comma_first:!1,operator_position:"before-newline",indent_empty_lines:!1,templating:["auto"]}),this.cdRef.detectChanges()}static ɵfac=function(e){return new(e||SpicePageBuilderElementCode)(o.Y36(w.H7),o.Y36(g.o),o.Y36(o.zs3),o.Y36(o.sBO),o.Y36(Ne.$),o.Y36(x))};static ɵcmp=o.Xpm({type:SpicePageBuilderElementCode,selectors:[["spice-page-builder-element-code"]],inputs:{element:"element"},features:[o.qOj],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_HTML_CODE"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"innerHTML","ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[1,"slds-height_full"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1","spice-page-builder-text-editor",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(o.YNc(0,ke,20,5,"div",0),o.YNc(1,De,4,2,"ng-template",null,1,o.W1O)),2&e){const e=o.MAs(2);o.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.O5,s.PC,S.J,M.f,c._,B.P,O.e,d.JJ,d.On,C.S,Z.Bh],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementCode})();function Pe(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("mouseenter",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!1))})),o.TgZ(1,"div",3)(2,"div",4)(3,"div",5),o._UZ(4,"system-icon",6),o.qZA(),o.TgZ(5,"div",7)(6,"h2",8),o._UZ(7,"system-label",9),o.qZA()(),o.TgZ(8,"button",10),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),o._UZ(9,"system-button-icon",11),o.qZA()()(),o.TgZ(10,"article",12),o.NdJ("dblclick",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o.TgZ(11,"div",13)(12,"div",14),o._uU(13),o.qZA(),o._UZ(14,"img",15),o.qZA()(),o.TgZ(15,"div",16)(16,"div",17)(17,"button",18),o._UZ(18,"system-button-icon",19),o.qZA(),o.TgZ(19,"button",20),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o._UZ(20,"system-button-icon",21),o.qZA(),o.TgZ(21,"button",22),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.delete$.emit())})),o._UZ(22,"system-button-icon",23),o.qZA()()()()}if(2&e){const e=o.oxw();o.ekj("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),o.xp6(9),o.Q6J("inverse",!0),o.xp6(2),o.Q6J("ngStyle",e.style),o.xp6(1),o.Q6J("title",e.element.content),o.xp6(1),o.Oqu(e.element.content)}}function Qe(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",47),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw().$implicit;return o.KtG(s.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw().$implicit;o.Q6J("ngModel",t.attributes[e.name])("label",e.name)}}function ze(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",48),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw().$implicit;return o.KtG(s.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw().$implicit,i=o.oxw(3);o.Q6J("ngModel",t.attributes[e.name])("label",e.name)("suffix",i.spicePageBuilderService.defaultSuffix)}}function Ie(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-sides",47),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw().$implicit;return o.KtG(s.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw().$implicit;o.Q6J("ngModel",t.attributes[e.name])("label",e.name)}}function Oe(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-color",47),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw().$implicit;return o.KtG(s.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw().$implicit;o.Q6J("ngModel",t.attributes[e.name])("label",e.name)}}function qe(e,t){if(1&e&&(o.ynx(0,44),o.YNc(1,Qe,1,2,"spice-page-builder-input-text",45),o.YNc(2,ze,1,3,"spice-page-builder-input-text",46),o.YNc(3,Ie,1,2,"spice-page-builder-input-sides",45),o.YNc(4,Oe,1,2,"spice-page-builder-input-color",45),o.BQk()),2&e){const e=t.$implicit;o.Q6J("ngSwitch",e.type),o.xp6(1),o.Q6J("ngSwitchCase","text"),o.xp6(1),o.Q6J("ngSwitchCase","textSuffix"),o.xp6(1),o.Q6J("ngSwitchCase","sides"),o.xp6(1),o.Q6J("ngSwitchCase","color")}}function He(e,t){if(1&e&&(o.ynx(0),o.TgZ(1,"system-section",43)(2,"div",41),o.YNc(3,qe,5,5,"ng-container",42),o.qZA()(),o.BQk()),2&e){const e=t.$implicit,i=o.oxw(3);o.xp6(1),o.Q6J("titlelabel",e.attributes["css-class"])("alwaysExpanded",!0),o.xp6(2),o.Q6J("ngForOf",i.childrenAttributesList[e.attributes["css-class"]])}}function Fe(e,t){if(1&e&&(o.ynx(0),o.YNc(1,He,4,3,"ng-container",38),o.BQk()),2&e){const e=t.$implicit;o.xp6(1),o.Q6J("ngForOf",e.children)}}function Ye(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",47),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function Ge(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",48),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function Re(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-sides",47),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function Ue(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-color",47),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.element.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function Ke(e,t){if(1&e&&(o.ynx(0,44),o.YNc(1,Ye,1,2,"spice-page-builder-input-text",45),o.YNc(2,Ge,1,3,"spice-page-builder-input-text",46),o.YNc(3,Re,1,2,"spice-page-builder-input-sides",45),o.YNc(4,Ue,1,2,"spice-page-builder-input-color",45),o.BQk()),2&e){const e=t.$implicit;o.Q6J("ngSwitch",e.type),o.xp6(1),o.Q6J("ngSwitchCase","text"),o.xp6(1),o.Q6J("ngSwitchCase","textSuffix"),o.xp6(1),o.Q6J("ngSwitchCase","sides"),o.xp6(1),o.Q6J("ngSwitchCase","color")}}function $e(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div")(1,"system-section",24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"div",28)(6,"label",29),o._UZ(7,"system-label",30),o.qZA(),o.TgZ(8,"div",31)(9,"input",32),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.element.content=t)})),o.qZA()()(),o.TgZ(10,"div",28)(11,"label",29),o._UZ(12,"system-label",33),o.qZA(),o.TgZ(13,"div",31)(14,"input",32),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.element.href=t)})),o.qZA()()()(),o.TgZ(15,"div",27)(16,"div",28)(17,"label",29),o._UZ(18,"system-label",34),o.qZA(),o.TgZ(19,"div",31)(20,"input",35),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.count=t)})),o.qZA(),o._uU(21,"Min 1 - Max 100 "),o.qZA()(),o.TgZ(22,"div",28)(23,"label",29),o._UZ(24,"system-label",36),o.qZA(),o.TgZ(25,"div",31)(26,"system-input-radio-button-group",37),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.element.showDate=t)})),o.qZA()()()()()()(),o.YNc(27,Fe,2,1,"ng-container",38),o.qZA(),o.TgZ(28,"div")(29,"system-section",39)(30,"div",40)(31,"div",41),o.YNc(32,Ke,5,5,"ng-container",42),o.qZA()()()()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("alwaysExpanded",!0),o.xp6(8),o.Q6J("ngModel",e.element.content),o.xp6(5),o.Q6J("ngModel",e.element.href),o.xp6(6),o.Q6J("ngModel",e.count),o.xp6(6),o.Q6J("ngModel",e.element.showDate)("inputOptions",e.dateHiddenOptions),o.xp6(1),o.Q6J("ngForOf",e.element.children[0].children[0].children),o.xp6(2),o.Q6J("alwaysExpanded",!0),o.xp6(3),o.Q6J("ngForOf",e.attributesList)}}let je=(()=>{class SpicePageBuilderElementRSS extends E{domSanitizer;modal;injector;cdRef;spicePageBuilderService;element;attributesList=[{name:"align",type:"text"},{name:"width",type:"textSuffix"},{name:"border",type:"text"},{name:"border-top",type:"text"},{name:"border-right",type:"text"},{name:"border-bottom",type:"text"},{name:"border-left",type:"text"},{name:"height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"line-height",type:"textSuffix"},{name:"vertical-align",type:"text"},{name:"font-size",type:"textSuffix"},{name:"font-style",type:"text"},{name:"font-weight",type:"text"},{name:"letter-spacing",type:"textSuffix"},{name:"text-decoration",type:"text"},{name:"text-transform",type:"text"},{name:"css-class",type:"text"}];childrenAttributesList={"rss-header":[{name:"align",type:"text"},{name:"inner-padding",type:"sides"},{name:"background-color",type:"color"},{name:"color",type:"color"},{name:"font-size",type:"textSuffix"},{name:"line-height",type:"textSuffix"},{name:"font-weight",type:"text"},{name:"padding",type:"sides"},{name:"container-background-color",type:"color"}],"rss-date":[{name:"font-size",type:"textSuffix"},{name:"line-height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"container-background-color",type:"color"}],"rss-description":[{name:"font-size",type:"textSuffix"},{name:"line-height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"container-background-color",type:"color"}],"rss-image":[{name:"align",type:"text"},{name:"width",type:"text"},{name:"height",type:"text"},{name:"padding",type:"sides"},{name:"fluid-on-mobile",type:"text"}]};dateHiddenOptions=[{label:"LBL_HIDDEN",value:"0"},{label:"LBL_VISIBLE",value:"1"}];constructor(e,t,i,s,n){super(e,t,i,s,n),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=s,this.spicePageBuilderService=n}set count(e){+e<1&&(e="1"),+e>100&&(e="100"),this.element.count=e}get count(){return this.element.count}handleEditResponse(e){this.element.content=e.content,this.element.href=e.href,this.element.count=e.count,this.element.showDate=e.showDate,this.element.children=e.children,super.handleEditResponse(e)}generateStyle(){super.generateStyle(["width","background-color","border","border-top","border-right","border-bottom","border-left","height","padding","css-class"])}static ɵfac=function(e){return new(e||SpicePageBuilderElementRSS)(o.Y36(w.H7),o.Y36(g.o),o.Y36(o.zs3),o.Y36(o.sBO),o.Y36(x))};static ɵcmp=o.Xpm({type:SpicePageBuilderElementRSS,selectors:[["spice-page-builder-element-rss"]],inputs:{element:"element"},features:[o.qOj],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_RSS_FEED"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[1,"slds-grid","slds-grid--vertical","slds-grid--vertical-align-center","slds-grid--align-center",3,"ngStyle"],[1,"slds-p-horizontal--xx-small","slds-truncate",3,"title"],["alt","","src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAaVBMVEVHcEz/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/////pAD/04H/9eP/qg7/vkf/36P/+vD/sB7/79H/ujr//vz/6L7//ff/tCn/owD/x2D/2JD/0Xz/w1X/ymn/zW8DMx5KAAAADHRSTlMAdwb+UdH3I+mM+caVTWFiAAAEpUlEQVRo3r2a2ZaiMBCG06MiTDNFIOy7vv9DTqBbTWUjCJg+xxtoP2r/MSFEWNdz8O17p3DTOnn+d3C+Eu36cw0uHr8n3GN5l0CHuQb+ToDf5auY82VfxLQuZ+yqLz88YPlff0TG3/CQ9VegHMWYKM94+OFhy/+Ny/USHrguPzkWHMkIT8FsiH8oJPSv2BDgq22nzz0pAYoIFNFwv3VJ0WRxCO1eKB6Vs/eCRP+mVaYprVjfFVm8i03eGXnrB8Ix5fRZ06ofm3g7JyDfGsgvavqgVZRw322CfBPfCHmsOu+TTfb4xFuEzJyhed8cj5xcINx1lHFz3qxHEjpBZnOq7k3MCgi3503MKghf1fgGZi2EO61YnQKrIbwh9BlsgNwppWldLnLycZ0xIiSMs6YpivEWsYqmVp+xVcYgyNzrp2bPcUXXV9RsVJ68DXnRWv4XNx3LawMljdzTjNgu8oaVjb3JHtbAHhC+uOuyrtIHKC9gH8hsT5wwLYaOu0EmTlj0Okx63xEyY3TW1MOekAmTVGoKlC5JRlakO8R3qlL6eFcIxzSsVG1ZB3lou3XGlMOqBlkMw6TtJmlnJEFRKdG/r271dUpzFpkFF2SKy9IR3pon5Sy4tJw2HuRkpvbatw2tOo8KPaeTA5Nb+9jCZEwn6aD5/1GmsHjD+C3L/KYZUJDIlGjjjM9valW3MiVNYJuQKKtEGeoKJTdPZEe1olEorRwXtl0SaYZ6hzO5NlaLu+7SDPWhdHPYGnGn6KCY4Rt6R3Fn1XbyUG8z3MdSQ+Er4i4ZB5YblF2ZS3kKBQ5+FTuKu0naTYJLaxGVKXfxttIQe2IWXFqFIlOksOhNIRZhV/R0kQINvqeDleMXwkYjhKToY4fpTVma8YWqUCqcyTHKsFJnyhJEN9RxW4ckXTJlWa1ohrrU1lHsa003dtHCylDHbR2KdKFPuuguiPva2tZ79EqpTmIncQfhUFu6lGTKAK7F2AL+VU2iSHOQod4Tu0B4uSc3rvOSTJiHfWkubZxgauiJTr0zWv/8qsaeYxek/oHqAXCt9IuWcE0tPFb6fDEEqa2j2EMn2qn4iyhaJ5fHLujb+k2EZNTmL7Kkp14dUepS+HmRMyMrBJpcMw8fHrN0qXasLa2FWDqEXMNSPYhfBZn4dFSqR2LpdWpR4NIWez6gUhktEL0hgil4QkXG/OrNEJwj4rtKpjMFhR7zpaAgSGL4taZ+pbGxtFFWUNxARUh7MwmuW7ucqr2oWgojBAYT5NlYYSwNXmk7pCfaLRBjqmJPRpvcFZpSFWcN2xD4KVUN8wl3YpxeLiksJgs0qemBmTG9VhXjnKq5qVIiY2NZ11ZsD4wiil8iyMm9QaopKH5XK2Z3KT7XSdykWWr1aj2INQ+FmDZjK27S+M5D6/FqXeuLrkWFIiT9yRc3zuzjV1t0wnfhvLuDuHEWOAqJ5wOjdisUivFCGIibmTZJZCimAZYveGfdRrlW3L0K5R69lpippgvTZnngJFPlrYnHcrgQfGqr/OBN/9mQDx1f+MhBjM8cKfnM4ZiPHPP5ObC0f8zPuqNX+5phOOF18fYiGA6RHXkc7j/PiO/oPEbyIgAAAABJRU5ErkJggg=="],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow","slds-m-bottom--small",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1"],[1,"slds-grid"],[1,"slds-form-element","slds-size--1-of-2","slds-p-horizontal--xxx-small"],[1,"slds-form-element__label"],["label","LBL_TEXT"],[1,"slds-form-element__control"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_URL"],["label","LBL_COUNT"],["type","text","max","100","min","1",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_DATE_VISIBILITY"],[3,"ngModel","inputOptions","ngModelChange"],[4,"ngFor","ngForOf"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"spice-collapsible-tab-grow","slds-m-bottom--small",3,"titlelabel","alwaysExpanded"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&(o.YNc(0,Pe,23,6,"div",0),o.YNc(1,$e,33,9,"ng-template",null,1,o.W1O)),2&e){const e=o.MAs(2);o.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.sg,s.O5,s.PC,s.RF,s.n9,S.J,M.f,z.p,c._,B.P,d.Fj,d.JJ,d.On,C.S,Z.Bh,u,v,y],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementRSS})();const Ve=["dropList"];function We(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-element-text",6),o.NdJ("delete$",(function(){o.CHM(e);const t=o.oxw().$implicit,i=o.oxw();return o.KtG(i.onContentDelete(t))})),o.qZA()}if(2&e){const e=o.oxw().$implicit;o.Q6J("element",e)("cdkDragData",e)}}function Xe(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-element-image",6),o.NdJ("delete$",(function(){o.CHM(e);const t=o.oxw().$implicit,i=o.oxw();return o.KtG(i.onContentDelete(t))})),o.qZA()}if(2&e){const e=o.oxw().$implicit;o.Q6J("element",e)("cdkDragData",e)}}function et(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-element-button",6),o.NdJ("delete$",(function(){o.CHM(e);const t=o.oxw().$implicit,i=o.oxw();return o.KtG(i.onContentDelete(t))})),o.qZA()}if(2&e){const e=o.oxw().$implicit;o.Q6J("element",e)("cdkDragData",e)}}function tt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-element-divider",6),o.NdJ("delete$",(function(){o.CHM(e);const t=o.oxw().$implicit,i=o.oxw();return o.KtG(i.onContentDelete(t))})),o.qZA()}if(2&e){const e=o.oxw().$implicit;o.Q6J("element",e)("cdkDragData",e)}}function it(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-element-spacer",6),o.NdJ("delete$",(function(){o.CHM(e);const t=o.oxw().$implicit,i=o.oxw();return o.KtG(i.onContentDelete(t))})),o.qZA()}if(2&e){const e=o.oxw().$implicit;o.Q6J("element",e)("cdkDragData",e)}}function st(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-element-code",6),o.NdJ("delete$",(function(){o.CHM(e);const t=o.oxw().$implicit,i=o.oxw();return o.KtG(i.onContentDelete(t))})),o.qZA()}if(2&e){const e=o.oxw().$implicit;o.Q6J("element",e)("cdkDragData",e)}}function nt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-element-rss",6),o.NdJ("delete$",(function(){o.CHM(e);const t=o.oxw().$implicit,i=o.oxw();return o.KtG(i.onContentDelete(t))})),o.qZA()}if(2&e){const e=o.oxw().$implicit;o.Q6J("element",e)("cdkDragData",e)}}function lt(e,t){if(1&e&&(o.ynx(0,4),o.YNc(1,We,1,2,"spice-page-builder-element-text",5),o.YNc(2,Xe,1,2,"spice-page-builder-element-image",5),o.YNc(3,et,1,2,"spice-page-builder-element-button",5),o.YNc(4,tt,1,2,"spice-page-builder-element-divider",5),o.YNc(5,it,1,2,"spice-page-builder-element-spacer",5),o.YNc(6,st,1,2,"spice-page-builder-element-code",5),o.YNc(7,nt,1,2,"spice-page-builder-element-rss",5),o.BQk()),2&e){const e=t.$implicit;o.Q6J("ngSwitch",e.tagName),o.xp6(1),o.Q6J("ngSwitchCase","text"),o.xp6(1),o.Q6J("ngSwitchCase","image"),o.xp6(1),o.Q6J("ngSwitchCase","button"),o.xp6(1),o.Q6J("ngSwitchCase","divider"),o.xp6(1),o.Q6J("ngSwitchCase","spacer"),o.xp6(1),o.Q6J("ngSwitchCase","raw"),o.xp6(1),o.Q6J("ngSwitchCase","rss")}}function ot(e,t){if(1&e&&(o.TgZ(0,"div",7)(1,"div",8),o._UZ(2,"system-label",9),o.qZA()()),2&e){const e=o.oxw();o.Udp("height",e.spicePageBuilderService.defaultPlaceholderHeight,"px")}}let dt=(()=>{class SpicePageBuilderElementColumn{spicePageBuilderService;modal;cdRef;column;dragEntered=!1;dropList;style={};constructor(e,t,i){this.spicePageBuilderService=e,this.modal=t,this.cdRef=i}ngOnInit(){this.generateStyle()}ngAfterViewInit(){this.spicePageBuilderService.addDropListToGroup(this.dropList)}trackByFn(e,t){return e}contentPredicate(e){return"section"!=e.data.tagName}generateStyle(){this.style={"background-color":this.column.attributes["background-color"],border:this.column.attributes.border,"border-top":this.column.attributes["border-top"],"border-right":this.column.attributes["border-right"],"border-bottom":this.column.attributes["border-bottom"],"border-left":this.column.attributes["border-left"],"border-radius":this.column.attributes["border-radius"],width:this.column.attributes.width,"vertical-align":this.column.attributes["vertical-align"],padding:this.column.attributes.padding}}onDrop(e){if(e.previousContainer!=e.container)if(this.spicePageBuilderService.dragPlaceholderNode&&e.previousContainer.element.nativeElement.contains(this.spicePageBuilderService.dragPlaceholderNode)&&(e.previousContainer.element.nativeElement.removeChild(this.spicePageBuilderService.dragPlaceholderNode),this.spicePageBuilderService.dragPlaceholderNode=void 0),-1==e.previousContainer.id.indexOf("panel-drop-list")&&(e.previousContainer.data.children=e.previousContainer.data.children.filter((t=>t!=e.item.data))),"image"===e.item.data.tagName)this.spicePageBuilderService.openMediaFilePicker().subscribe((t=>{if(t){const i=JSON.parse(JSON.stringify(e.item.data));i.attributes.src=t,delete i.icon,this.column.children.splice(e.currentIndex,0,i),this.cdRef.detectChanges()}}));else{const t=JSON.parse(JSON.stringify(e.item.data));delete t.icon,this.column.children.splice(e.currentIndex,0,t)}else(0,Z.bA)(this.column.children,e.previousIndex,e.currentIndex);this.spicePageBuilderService.emitData(),this.dragEntered=!1}onDragExit(e){this.dragEntered=!1}onDragEnter(e){this.dragEntered=!0}onContentDelete(e){this.column.children=this.column.children.filter((t=>t!=e)),this.spicePageBuilderService.emitData()}static ɵfac=function(e){return new(e||SpicePageBuilderElementColumn)(o.Y36(x),o.Y36(g.o),o.Y36(o.sBO))};static ɵcmp=o.Xpm({type:SpicePageBuilderElementColumn,selectors:[["spice-page-builder-element-column"]],viewQuery:function(e,t){if(1&e&&o.Gf(Ve,5,Z.Wj),2&e){let e;o.iGM(e=o.CRH())&&(t.dropList=e.first)}},inputs:{column:"column"},decls:4,vars:6,consts:[["cdkDropList","",1,"slds-grid","slds-grid--vertical","spice-page-builder-renderer-drop-list",3,"ngStyle","cdkDropListEnterPredicate","cdkDropListData","cdkDropListEntered","cdkDropListExited","cdkDropListDropped"],["dropList","cdkDropList"],[3,"ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],["class","slds-align--absolute-center slds-size--1-of-1",3,"height",4,"ngIf"],[3,"ngSwitch"],["cdkDrag","","class","slds-grid slds-grow slds-drag--preview","style","width: 100%",3,"element","cdkDragData","delete$",4,"ngSwitchCase"],["cdkDrag","",1,"slds-grid","slds-grow","slds-drag--preview",2,"width","100%",3,"element","cdkDragData","delete$"],[1,"slds-align--absolute-center","slds-size--1-of-1"],[1,"slds-align--absolute-center","slds-height_full","slds-size--1-of-1","slds-theme--shade","slds-text-title--caps","slds-truncate"],["label","MSG_DROP_CONTENT_HERE"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("cdkDropListEntered",(function(e){return t.onDragEnter(e)}))("cdkDropListExited",(function(e){return t.onDragExit(e)}))("cdkDropListDropped",(function(e){return t.onDrop(e)})),o.YNc(2,lt,8,8,"ng-container",2),o.YNc(3,ot,3,2,"div",3),o.qZA()),2&e&&(o.Q6J("ngStyle",t.style)("cdkDropListEnterPredicate",t.contentPredicate)("cdkDropListData",t.column),o.xp6(2),o.Q6J("ngForOf",t.column.children)("ngForTrackBy",t.trackByFn),o.xp6(1),o.Q6J("ngIf",!t.dragEntered&&0==(null==t.column.children?null:t.column.children.length)))},dependencies:[s.sg,s.O5,s.PC,s.RF,s.n9,c._,Z.Wj,Z.Zt,Q,X,ae,he,Te,Ae,je],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementColumn})();function ct(e,t){if(1&e&&o._UZ(0,"spice-page-builder-element-column",20),2&e){const e=t.$implicit,i=o.oxw(2);o.Udp("width",100/i.section.children.length,"%"),o.Q6J("column",e)}}const at=function(){return["section","content"]};function rt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("mouseenter",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.setIsMouseIn(!1))})),o.TgZ(1,"div",3)(2,"div",4)(3,"div",5),o._UZ(4,"system-icon",6),o.qZA(),o.TgZ(5,"div",7)(6,"h2",8),o._UZ(7,"system-label",9),o.qZA()(),o.TgZ(8,"button",10),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.saveAsCustom())})),o._UZ(9,"system-button-icon",11),o.qZA(),o.TgZ(10,"button",12),o._UZ(11,"system-button-icon",13),o.qZA(),o.TgZ(12,"button",14),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.edit())})),o._UZ(13,"system-button-icon",15),o.qZA(),o.TgZ(14,"button",16),o.NdJ("click",(function(){o.CHM(e);const t=o.oxw();return o.KtG(t.delete$.emit())})),o._UZ(15,"system-button-icon",17),o.qZA()()(),o.TgZ(16,"article",18),o.YNc(17,ct,1,3,"spice-page-builder-element-column",19),o.qZA()()}if(2&e){const e=o.oxw();o.ekj("slds-is-hovered",o.DdM(9,at).indexOf(e.spicePageBuilderService.isMouseIn)>-1),o.xp6(9),o.Q6J("inverse",!0),o.xp6(2),o.Q6J("inverse",!0),o.xp6(2),o.Q6J("inverse",!0),o.xp6(2),o.Q6J("inverse",!0),o.xp6(1),o.Q6J("ngStyle",e.style),o.xp6(1),o.Q6J("ngForOf",e.section.children)("ngForTrackBy",e.trackByFn)}}function ut(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",29),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.section.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.section.attributes[e.name])("label",e.name)}}function pt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-text",30),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.section.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.section.attributes[e.name])("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function gt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-sides",29),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.section.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.section.attributes[e.name])("label",e.name)}}function mt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-input-color",29),o.NdJ("ngModelChange",(function(t){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.section.attributes[i.name]=t)})),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngModel",t.section.attributes[e.name])("label",e.name)}}function ft(e,t){if(1&e&&(o.ynx(0,26),o.YNc(1,ut,1,2,"spice-page-builder-input-text",27),o.YNc(2,pt,1,3,"spice-page-builder-input-text",28),o.YNc(3,gt,1,2,"spice-page-builder-input-sides",27),o.YNc(4,mt,1,2,"spice-page-builder-input-color",27),o.BQk()),2&e){const e=t.$implicit;o.Q6J("ngSwitch",e.type),o.xp6(1),o.Q6J("ngSwitchCase","text"),o.xp6(1),o.Q6J("ngSwitchCase","textSuffix"),o.xp6(1),o.Q6J("ngSwitchCase","sides"),o.xp6(1),o.Q6J("ngSwitchCase","color")}}function bt(e,t){if(1&e&&(o.TgZ(0,"div",21)(1,"system-section",22)(2,"div",23)(3,"div",24),o.YNc(4,ft,5,5,"ng-container",25),o.qZA()()()()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("alwaysExpanded",!0),o.xp6(3),o.Q6J("ngForOf",e.attributesList)}}let ht=(()=>{class SpicePageBuilderElementSection{spicePageBuilderService;cdRef;isEditMode=!1;section;delete$=new o.vpe;style={};attributesList=[{name:"background-color",type:"color"},{name:"color",type:"color"},{name:"padding",type:"sides"},{name:"css-class",type:"text"},{name:"border",type:"text"},{name:"border-top",type:"text"},{name:"border-right",type:"text"},{name:"border-bottom",type:"text"},{name:"border-left",type:"text"},{name:"background-position",type:"text"},{name:"background-repeat",type:"text"},{name:"background-size",type:"text"},{name:"background-url",type:"text"}];constructor(e,t){this.spicePageBuilderService=e,this.cdRef=t}ngOnInit(){this.generateStyle()}trackByFn(e,t){return e}generateStyle(){this.style={"background-color":this.section.attributes["background-color"],color:this.section.attributes.color,padding:this.section.attributes.padding,"css-class":this.section.attributes["css-class"],border:this.section.attributes.border,"border-top":this.section.attributes["border-top"],"border-right":this.section.attributes["border-right"],"border-bottom":this.section.attributes["border-bottom"],"border-left":this.section.attributes["border-left"],"background-position":this.section.attributes["background-position"],"background-repeat":this.section.attributes["background-repeat"],"background-size":this.section.attributes["background-size"],"background-url":this.section.attributes["background-url"]}}setIsMouseIn(e){this.spicePageBuilderService.isMouseIn=e?"section":void 0}saveAsCustom(){this.spicePageBuilderService.saveCustomElement(this.section,"section")}edit(){this.spicePageBuilderService.openEditModal(this.section).subscribe({next:e=>{e&&this.handleEditResponse(e)}})}handleEditResponse(e){this.section.attributes=e.attributes,this.generateStyle(),this.spicePageBuilderService.emitData(),this.cdRef.detectChanges()}static ɵfac=function(e){return new(e||SpicePageBuilderElementSection)(o.Y36(x),o.Y36(o.sBO))};static ɵcmp=o.Xpm({type:SpicePageBuilderElementSection,selectors:[["spice-page-builder-element-section"]],inputs:{isEditMode:"isEditMode",section:"section"},outputs:{delete$:"delete$"},decls:3,vars:2,consts:[["tabindex","-1","class","spice-drop-zone",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label","spice-drop-zone-label-bottom"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","full_width_view","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_SECTION"],["system-title","LBL_SAVE",1,"slds-button","slds-button--icon",3,"click"],["icon","save",3,"inverse"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button--icon","slds-m-left--none"],["icon","move",3,"inverse"],["system-title","LBL_EDIT",1,"slds-button","slds-button--icon","slds-m-left--none",3,"click"],["icon","edit",3,"inverse"],["system-title","LBL_DELETE",1,"slds-button","slds-button--icon","slds-m-right--xx-small","slds-m-left--none",3,"click"],["icon","delete",3,"inverse"],[1,"spice-drop-zone-content","slds-grid",3,"ngStyle"],["class","spice-display-block slds-grow slds-height_full",3,"column","width",4,"ngFor","ngForOf","ngForTrackBy"],[1,"spice-display-block","slds-grow","slds-height_full",3,"column"],[2,"height","100%"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&(o.YNc(0,rt,18,10,"div",0),o.YNc(1,bt,5,2,"ng-template",null,1,o.W1O)),2&e){const e=o.MAs(2);o.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.sg,s.O5,s.PC,s.RF,s.n9,S.J,M.f,c._,B.P,d.JJ,d.On,C.S,Z.Bh,u,v,y,dt],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementSection})();const xt=["dropList"];function vt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"spice-page-builder-element-section",4),o.NdJ("delete$",(function(){const t=o.CHM(e).$implicit,i=o.oxw();return o.KtG(i.onSectionDelete(t))})),o.qZA()}if(2&e){const e=t.$implicit;o.Q6J("ngStyle",e.style)("cdkDragData",e)("section",e)}}function yt(e,t){1&e&&(o.TgZ(0,"div",5),o._UZ(1,"system-label",6),o.qZA())}let wt=(()=>{class SpicePageBuilderElementBody{spicePageBuilderService;body;dragEntered=!1;dropList;style={};constructor(e){this.spicePageBuilderService=e}ngOnInit(){this.generateStyle()}ngAfterViewInit(){this.spicePageBuilderService.addDropListToGroup(this.dropList)}trackByFn(e,t){return e}sectionPredicate(e){return"section"==e.data.tagName}generateStyle(){this.style={"background-color":this.body.attributes["background-color"],width:this.body.attributes.width}}onSectionDelete(e){this.body.children=this.body.children.filter((t=>t!=e)),this.spicePageBuilderService.emitData()}onDrop(e){if(e.previousContainer!=e.container){this.spicePageBuilderService.dragPlaceholderNode&&e.previousContainer.element.nativeElement.contains(this.spicePageBuilderService.dragPlaceholderNode)&&(e.previousContainer.element.nativeElement.removeChild(this.spicePageBuilderService.dragPlaceholderNode),this.spicePageBuilderService.dragPlaceholderNode=void 0);const t=JSON.parse(JSON.stringify(e.item.data));this.body.children.splice(e.currentIndex,0,t),this.dragEntered=!1}else(0,Z.bA)(this.body.children,e.previousIndex,e.currentIndex);this.spicePageBuilderService.emitData()}static ɵfac=function(e){return new(e||SpicePageBuilderElementBody)(o.Y36(x))};static ɵcmp=o.Xpm({type:SpicePageBuilderElementBody,selectors:[["spice-page-builder-element-body"]],viewQuery:function(e,t){if(1&e&&o.Gf(xt,5,Z.Wj),2&e){let e;o.iGM(e=o.CRH())&&(t.dropList=e.first)}},inputs:{body:"body"},decls:4,vars:6,consts:[["cdkDropList","",1,"spice-page-builder-renderer-drop-list",2,"min-height","100%","width","100%",3,"ngStyle","cdkDropListEnterPredicate","cdkDropListData","cdkDropListEntered","cdkDropListExited","cdkDropListDropped"],["dropList","cdkDropList"],["cdkDrag","","class","spice-display-block slds-drag--preview",3,"ngStyle","cdkDragData","section","delete$",4,"ngFor","ngForOf","ngForTrackBy"],["class","slds-align--absolute-center slds-height_full slds-size--1-of-1 slds-text-title--caps slds-truncate",4,"ngIf"],["cdkDrag","",1,"spice-display-block","slds-drag--preview",3,"ngStyle","cdkDragData","section","delete$"],[1,"slds-align--absolute-center","slds-height_full","slds-size--1-of-1","slds-text-title--caps","slds-truncate"],["label","LBL_DROP_SECTION_HERE"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("cdkDropListEntered",(function(){return t.dragEntered=!0}))("cdkDropListExited",(function(){return t.dragEntered=!1}))("cdkDropListDropped",(function(e){return t.onDrop(e)})),o.YNc(2,vt,1,3,"spice-page-builder-element-section",2),o.YNc(3,yt,2,0,"div",3),o.qZA()),2&e&&(o.Q6J("ngStyle",t.style)("cdkDropListEnterPredicate",t.sectionPredicate)("cdkDropListData",t.body),o.xp6(2),o.Q6J("ngForOf",t.body.children)("ngForTrackBy",t.trackByFn),o.xp6(1),o.Q6J("ngIf",!t.dragEntered&&0==(null==t.body.children?null:t.body.children.length)))},dependencies:[s.sg,s.O5,s.PC,c._,Z.Wj,Z.Zt,ht],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementBody})(),St=(()=>{class SpicePageBuilderRenderer{spicePageBuilderService;body;constructor(e){this.spicePageBuilderService=e}ngOnInit(){this.setBodyElement()}trackByFn(e,t){return e}setBodyElement(){this.spicePageBuilderService.page&&this.spicePageBuilderService.page.children&&(this.body=this.spicePageBuilderService.page.children[0])}static ɵfac=function(e){return new(e||SpicePageBuilderRenderer)(o.Y36(x))};static ɵcmp=o.Xpm({type:SpicePageBuilderRenderer,selectors:[["spice-page-builder-renderer"]],decls:2,vars:1,consts:[[1,"slds-grid","slds-grid--align-center","slds-scrollable--y","slds-height_full","slds-p-around--large",2,"background-color","#ca1b21ea"],[2,"box-shadow","0 0 8px #666",3,"body"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"spice-page-builder-element-body",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("body",t.body))},dependencies:[wt],encapsulation:2,changeDetection:0})}return SpicePageBuilderRenderer})();var Mt=i(78859),_t=i(54021);function Ct(e,t){if(1&e&&o._UZ(0,"div",13),2&e){const e=t.last;o.Udp("border-right",e?0:"2px solid #ca1b21")}}function Zt(e,t){if(1&e&&(o.TgZ(0,"div",9)(1,"div"),o._uU(2),o._UZ(3,"system-label",10),o.qZA(),o.TgZ(4,"div",11),o.YNc(5,Ct,1,2,"div",12),o.qZA()()),2&e){const e=t.$implicit,i=o.oxw();o.Q6J("cdkDragData",e),o.xp6(2),o.hij(" ",null==e.children?null:e.children.length," "),o.xp6(3),o.Q6J("ngForOf",e.children)("ngForTrackBy",i.trackByFn)}}function Et(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",14)(1,"div"),o._uU(2),o.qZA(),o.TgZ(3,"div",15),o._UZ(4,"system-utility-icon",16),o.TgZ(5,"button",17),o.NdJ("click",(function(){const t=o.CHM(e).$implicit,i=o.oxw();return o.KtG(i.spicePageBuilderService.deleteCustomElement(t.id,"section"))})),o._UZ(6,"system-utility-icon",18),o.qZA()()()}if(2&e){const e=t.$implicit;o.Q6J("cdkDragData",e.content),o.xp6(2),o.hij(" ",e.name," ")}}function Bt(e,t){if(1&e&&(o.TgZ(0,"div",19)(1,"div",20),o._UZ(2,"system-utility-icon",21),o.TgZ(3,"div"),o._UZ(4,"system-label",22),o.qZA()()()),2&e){const e=t.$implicit;o.Q6J("cdkDragData",e)("title",e.tagName),o.xp6(2),o.Q6J("icon",e.icon),o.xp6(2),o.Q6J("label",e.label)}}function Jt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",23)(1,"div",20),o._UZ(2,"system-utility-icon",16),o.TgZ(3,"button",17),o.NdJ("click",(function(){const t=o.CHM(e).$implicit,i=o.oxw();return o.KtG(i.spicePageBuilderService.deleteCustomElement(t.id,"item"))})),o._UZ(4,"system-utility-icon",18),o.qZA(),o.TgZ(5,"div"),o._UZ(6,"system-label",22),o.qZA()()()}if(2&e){const e=t.$implicit;o.Q6J("cdkDragData",e.content)("title",e.name),o.xp6(6),o.Q6J("label",e.name)}}let Lt=(()=>{class SpicePageBuilderPanel{spicePageBuilderService;cdRef;customSections=[];customItems=[];sections=[];constructor(e,t){this.spicePageBuilderService=e,this.cdRef=t}ngOnInit(){this.spicePageBuilderService.loadCustomElements(),this.generateSections()}ngAfterViewInit(){this.cdRef.detectChanges()}generateSections(){let e=1;for(;e<=4;){let t=1,i=[];for(;t<=e;)i.push(JSON.parse(JSON.stringify(this.spicePageBuilderService.panelDefaultColumn))),t++;const s=JSON.parse(JSON.stringify(this.spicePageBuilderService.panelDefaultSection));s.children=i,this.sections.push(s),e++}}trackByFn(e,t){return e}noReturnPredicate(){return!1}onDragExit(e){const t=e.item.getPlaceholderElement().cloneNode(!0);this.spicePageBuilderService.dragPlaceholderNode=t,e.container.element.nativeElement.insertBefore(t,e.item.getPlaceholderElement())}onDragEnter(e){this.spicePageBuilderService.dragPlaceholderNode&&e.container.element.nativeElement.contains(this.spicePageBuilderService.dragPlaceholderNode)&&(e.container.element.nativeElement.removeChild(this.spicePageBuilderService.dragPlaceholderNode),this.spicePageBuilderService.dragPlaceholderNode=void 0)}static ɵfac=function(e){return new(e||SpicePageBuilderPanel)(o.Y36(x),o.Y36(o.sBO))};static ɵcmp=o.Xpm({type:SpicePageBuilderPanel,selectors:[["spice-page-builder-panel"]],inputs:{customSections:"customSections",customItems:"customItems"},decls:9,vars:13,consts:[[1,"slds-grid","slds-grid--vertical","slds-height_full","slds-p-around--x-small","slds-scrollable--y",3,"system-overlay-loading-spinner"],["titlelabel","LBL_SECTIONS",1,"spice-collapsible-tab-grow",2,"max-height","50%","height","initial"],["cdkDropList","","cdkDropListSortingDisabled","",1,"slds-scrollable--y","slds-grid","slds-size--1-of-1","slds-grid--vertical","slds-height_full","slds-p-bottom--small","spice-page-builder-panel-drop-list",3,"cdkDropListEnterPredicate","cdkDropListData","cdkDropListEntered","cdkDropListExited"],["cdkDrag","","class","slds-grow slds-p-around--xx-small slds-grid slds-grid--vertical slds-drag--preview spice-drag-placeholder-visible",3,"cdkDragData",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","","class","slds-grow slds-p-around--xx-small slds-grid slds-grid--vertical slds-drag--preview spice-drag-placeholder-visible spice-hover-display-children",3,"cdkDragData",4,"ngFor","ngForOf"],["titlelabel","LBL_CONTENT_ELEMENTS",1,"spice-collapsible-tab-grow",2,"max-height","50%","height","initial"],["cdkDropList","","cdkDropListSortingDisabled","",1,"slds-scrollable--y","slds-grid","slds-size--1-of-1","slds-p-around--xx-small","slds-wrap","spice-page-builder-panel-drop-list",2,"height","fit-content",3,"id","cdkDropListEnterPredicate","cdkDropListData","cdkDropListEntered","cdkDropListExited"],["cdkDrag","","class","slds-p-around--xxx-small slds-drag--preview","style","cursor: move",3,"cdkDragData","title",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","","class","slds-p-around--xxx-small slds-drag--preview spice-hover-display-children","style","cursor: move",3,"cdkDragData","title",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"slds-grow","slds-p-around--xx-small","slds-grid","slds-grid--vertical","slds-drag--preview","spice-drag-placeholder-visible",3,"cdkDragData"],["label","LBL_COLUMNS"],[1,"slds-grid","slds-grow","slds-theme--default",2,"border","2px solid #ca1b21","cursor","move","min-height","70px"],["class","slds-grow",3,"border-right",4,"ngFor","ngForOf","ngForTrackBy"],[1,"slds-grow"],["cdkDrag","",1,"slds-grow","slds-p-around--xx-small","slds-grid","slds-grid--vertical","slds-drag--preview","spice-drag-placeholder-visible","spice-hover-display-children",3,"cdkDragData"],[1,"slds-grid","slds-grow","slds-theme--default","slds-grid--align-center","slds-grid--vertical-align-center","slds-is-relative",2,"border","2px solid #ca1b21","cursor","move","min-height","70px"],["icon","user","size","large"],[1,"slds-button","slds-button--icon","slds-is-absolute__top","slds-p-around--xxx-small","spice-hover-child",2,"right","0",3,"click"],["icon","delete","size","xx-small"],["cdkDrag","",1,"slds-p-around--xxx-small","slds-drag--preview",2,"cursor","move",3,"cdkDragData","title"],[1,"slds-p-around--x-small","slds-card","slds-height_full","slds-align--absolute-center","slds-grid","slds-grid--vertical"],["size","large",3,"icon"],[3,"label"],["cdkDrag","",1,"slds-p-around--xxx-small","slds-drag--preview","spice-hover-display-children",2,"cursor","move",3,"cdkDragData","title"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0)(1,"system-section",1)(2,"div",2),o.NdJ("cdkDropListEntered",(function(e){return t.onDragEnter(e)}))("cdkDropListExited",(function(e){return t.onDragExit(e)})),o.YNc(3,Zt,6,4,"div",3),o.YNc(4,Et,7,2,"div",4),o.qZA()(),o.TgZ(5,"system-section",5)(6,"div",6),o.NdJ("cdkDropListEntered",(function(e){return t.onDragEnter(e)}))("cdkDropListExited",(function(e){return t.onDragExit(e)})),o.YNc(7,Bt,5,4,"div",7),o.YNc(8,Jt,7,3,"div",8),o.qZA()()()),2&e&&(o.Q6J("system-overlay-loading-spinner",t.spicePageBuilderService.isLoading),o.xp6(2),o.Q6J("cdkDropListEnterPredicate",t.noReturnPredicate)("cdkDropListData",t.sections),o.xp6(1),o.Q6J("ngForOf",t.sections)("ngForTrackBy",t.trackByFn),o.xp6(1),o.Q6J("ngForOf",t.customSections),o.xp6(2),o.Q6J("id",t.spicePageBuilderService.contentListId)("cdkDropListEnterPredicate",t.noReturnPredicate)("cdkDropListData",t.spicePageBuilderService.panelElements),o.xp6(1),o.Q6J("ngForOf",t.spicePageBuilderService.panelElements)("ngForTrackBy",t.trackByFn),o.xp6(1),o.Q6J("ngForOf",t.customItems)("ngForTrackBy",t.trackByFn))},dependencies:[s.sg,c._,B.P,Mt.r,_t._,Z.Wj,Z.Zt],encapsulation:2,changeDetection:0})}return SpicePageBuilderPanel})();var Tt=i(61135),Nt=i(59621),kt=i(83499),Dt=i(75767),At=i(1916);const Pt=["codeContainer"];function Qt(e,t){if(1&e&&o._UZ(0,"spice-page-builder-element-text",11),2&e){const e=o.oxw();o.Q6J("element",e.element)("isEditMode",!0)}}function zt(e,t){if(1&e&&o._UZ(0,"spice-page-builder-element-image",11),2&e){const e=o.oxw();o.Q6J("element",e.element)("isEditMode",!0)}}function It(e,t){if(1&e&&o._UZ(0,"spice-page-builder-element-button",11),2&e){const e=o.oxw();o.Q6J("element",e.element)("isEditMode",!0)}}function Ot(e,t){if(1&e&&o._UZ(0,"spice-page-builder-element-divider",11),2&e){const e=o.oxw();o.Q6J("element",e.element)("isEditMode",!0)}}function qt(e,t){if(1&e&&o._UZ(0,"spice-page-builder-element-spacer",11),2&e){const e=o.oxw();o.Q6J("element",e.element)("isEditMode",!0)}}function Ht(e,t){if(1&e&&o._UZ(0,"spice-page-builder-element-code",11),2&e){const e=o.oxw();o.Q6J("element",e.element)("isEditMode",!0)}}function Ft(e,t){if(1&e&&o._UZ(0,"spice-page-builder-element-rss",11),2&e){const e=o.oxw();o.Q6J("element",e.element)("isEditMode",!0)}}function Yt(e,t){if(1&e&&o._UZ(0,"spice-page-builder-element-section",12),2&e){const e=o.oxw();o.Q6J("section",e.element)("isEditMode",!0)}}let Gt=(()=>{class SpicePageBuilderEditor{element;response=new Tt.X(!1);self={};codeContainer;trackByFn(e,t){return e}cancel(){this.response.next(!1),this.response.complete(),this.self.destroy()}confirm(){this.response.next(JSON.parse(JSON.stringify(this.element))),this.response.complete(),this.self.destroy()}static ɵfac=function(e){return new(e||SpicePageBuilderEditor)};static ɵcmp=o.Xpm({type:SpicePageBuilderEditor,selectors:[["spice-page-builder-editor"]],viewQuery:function(e,t){if(1&e&&o.Gf(Pt,5,o.s_b),2&e){let e;o.iGM(e=o.CRH())&&(t.codeContainer=e.first)}},decls:19,vars:11,consts:[[3,"close"],["label","LBL_EDIT"],[3,"label"],[3,"grow"],[1,"slds-height_full","slds-size--1-of-1",3,"ngSwitch"],[3,"element","isEditMode",4,"ngSwitchCase"],[3,"section","isEditMode",4,"ngSwitchCase"],[1,"slds-button","slds-button--neutral",3,"click"],["label","LBL_CANCEL"],[1,"slds-button","slds-button--brand",3,"click"],["label","LBL_SAVE"],[3,"element","isEditMode"],[3,"section","isEditMode"]],template:function(e,t){1&e&&(o.TgZ(0,"system-modal")(1,"system-modal-header",0),o.NdJ("close",(function(){return t.cancel()})),o._UZ(2,"system-label",1)(3,"system-label",2),o.qZA(),o.TgZ(4,"system-modal-content",3)(5,"div",4),o.YNc(6,Qt,1,2,"spice-page-builder-element-text",5),o.YNc(7,zt,1,2,"spice-page-builder-element-image",5),o.YNc(8,It,1,2,"spice-page-builder-element-button",5),o.YNc(9,Ot,1,2,"spice-page-builder-element-divider",5),o.YNc(10,qt,1,2,"spice-page-builder-element-spacer",5),o.YNc(11,Ht,1,2,"spice-page-builder-element-code",5),o.YNc(12,Ft,1,2,"spice-page-builder-element-rss",5),o.YNc(13,Yt,1,2,"spice-page-builder-element-section",6),o.qZA()(),o.TgZ(14,"system-modal-footer")(15,"button",7),o.NdJ("click",(function(){return t.cancel()})),o._UZ(16,"system-label",8),o.qZA(),o.TgZ(17,"button",9),o.NdJ("click",(function(){return t.confirm()})),o._UZ(18,"system-label",10),o.qZA()()()),2&e&&(o.xp6(3),o.Q6J("label",t.element.label),o.xp6(1),o.Q6J("grow",!0),o.xp6(1),o.Q6J("ngSwitch",t.element.tagName),o.xp6(1),o.Q6J("ngSwitchCase","text"),o.xp6(1),o.Q6J("ngSwitchCase","image"),o.xp6(1),o.Q6J("ngSwitchCase","button"),o.xp6(1),o.Q6J("ngSwitchCase","divider"),o.xp6(1),o.Q6J("ngSwitchCase","spacer"),o.xp6(1),o.Q6J("ngSwitchCase","raw"),o.xp6(1),o.Q6J("ngSwitchCase","rss"),o.xp6(1),o.Q6J("ngSwitchCase","section"))},dependencies:[s.RF,s.n9,c._,Nt.j,kt.x,Dt.p,At.y,ht,Q,X,ae,he,Te,Ae,je],encapsulation:2,changeDetection:0})}return SpicePageBuilderEditor})();function Rt(e,t){if(1&e&&(o.ynx(0),o._UZ(1,"spice-page-builder-panel",2)(2,"spice-page-builder-renderer",3),o.BQk()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("customSections",e.spicePageBuilderService.customSections)("customItems",e.spicePageBuilderService.customItems)}}let Ut=(()=>{class SpicePageBuilder{spicePageBuilderService;toast;cdRef;pageBuilderChange$;self;dropListGroup;dropListGroupDefined=!1;constructor(e,t,i){this.spicePageBuilderService=e,this.toast=t,this.cdRef=i,this.pageBuilderChange$=this.spicePageBuilderService.response}set pageContent(e){if(window._.isEmpty(e))return;const t=JSON.parse(JSON.stringify(e));t?.children?.length?this.spicePageBuilderService._page=e:this.toast.sendToast("ERR_LOADING_RECORD","error")}ngAfterViewInit(){this.setDropListReference()}setDropListReference(){this.spicePageBuilderService.dropListGroup=this.dropListGroup,this.dropListGroupDefined=!0,this.cdRef.detectChanges()}static ɵfac=function(e){return new(e||SpicePageBuilder)(o.Y36(x),o.Y36(m.A),o.Y36(o.sBO))};static ɵcmp=o.Xpm({type:SpicePageBuilder,selectors:[["spice-page-builder"]],viewQuery:function(e,t){if(1&e&&o.Gf(Z.Fd,5,Z.Fd),2&e){let e;o.iGM(e=o.CRH())&&(t.dropListGroup=e.first)}},inputs:{pageContent:"pageContent"},outputs:{pageBuilderChange$:"pageBuilderChange$"},features:[o._Bn([x])],decls:2,vars:1,consts:[["cdkDropListGroup","",1,"slds-grid","slds-height_full",2,"overflow","hidden"],[4,"ngIf"],[1,"slds-size--1-of-4","spice-display-block","slds-height_full","slds-border--right",2,"box-shadow","10px 0 20px 0 #1b1b1b",3,"customSections","customItems"],[1,"slds-size--3-of-4","spice-display-block","slds-height_full"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.YNc(1,Rt,3,2,"ng-container",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",t.dropListGroupDefined))},dependencies:[s.O5,Z.Fd,Lt,St],encapsulation:2,changeDetection:0})}return SpicePageBuilder})();var Kt=i(61810),$t=i(32294),jt=i(55329),Vt=i(4154),Wt=i(83348),Xt=i(73208),ei=i(55638);function ti(e,t){if(1&e&&o._UZ(0,"iframe",5),2&e){const e=o.oxw(2);o.Q6J("src",e.parsedHtml,o.uOi)}}function ii(e,t){if(1&e&&(o.TgZ(0,"field-generic-display",2)(1,"div",3),o.YNc(2,ti,1,1,"iframe",4),o.qZA()()),2&e){const e=o.oxw();o.Q6J("fielddisplayclass",e.fielddisplayclass+" spice-field-page-builder-display-container")("fieldconfig",e.fieldconfig)("editable",e.isEditable()),o.xp6(1),o.Udp("min-height",e.iframeHeight,"px"),o.xp6(1),o.Q6J("ngIf",e.parsedHtml)}}function si(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",6)(1,"spice-page-builder",7),o.NdJ("pageBuilderChange$",(function(t){o.CHM(e);const i=o.oxw();return o.KtG(i.onPageBuilderChange(t))})),o.qZA(),o._UZ(2,"field-messages",8),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("ngClass",e.getFieldClass()),o.xp6(1),o.Q6J("pageContent",e.model.data[e.bodySPBFieldName]),o.xp6(1),o.Q6J("fieldname",e.fieldname)}}let ni=(()=>{class fieldPageBuilder extends Kt.O{model;view;language;metadata;backend;toast;router;injector;modal;cdRef;sanitizer;parsedHtml;iframeHeight=250;constructor(e,t,i,s,n,l,o,d,c,a,r){super(e,t,i,s,o),this.model=e,this.view=t,this.language=i,this.metadata=s,this.backend=n,this.toast=l,this.router=o,this.injector=d,this.modal=c,this.cdRef=a,this.sanitizer=r}get bodySPBFieldName(){return this.fieldconfig.bodySPBField??"body_spb"}ngOnInit(){super.ngOnInit(),this.setIframeHeight()}ngAfterViewInit(){super.ngAfterViewInit(),this.setHtmlValue(),this.modelChangesSubscriber()}setEditMode(){this.model.startEdit(),this.view.setEditMode(),this.cdRef.detectChanges()}modelChangesSubscriber(){this.subscriptions.add(this.model.data$.subscribe((()=>this.setHtmlValue()))),this.subscriptions.add(this.view.mode$.subscribe((()=>this.cdRef.detectChanges())))}setHtmlValue(){this.value&&(this.parsedHtml=this.sanitizer.bypassSecurityTrustResourceUrl("data:text/html;charset=UTF-8,"+encodeURIComponent(this.value)),this.cdRef.detectChanges())}setIframeHeight(){const e=parseInt(this.fieldconfig.initialHeight,10);e&&!isNaN(e)&&(this.iframeHeight=e)}onPageBuilderChange(e){this.model.setField(this.bodySPBFieldName,e),this.backend.postRequest("common/mjml/json2html",{},{json:e}).subscribe({next:e=>{e.html||this.toast.sendToast("ERR_FAILED_TO_EXECUTE","error"),this.model.setField(this.fieldname,e.html)}})}static ɵfac=function(e){return new(e||fieldPageBuilder)(o.Y36(xe.o),o.Y36($t.e),o.Y36(jt.d),o.Y36(Vt.Pu),o.Y36(h.y),o.Y36(m.A),o.Y36(Wt.F0),o.Y36(o.zs3),o.Y36(g.o),o.Y36(o.sBO),o.Y36(w.H7))};static ɵcmp=o.Xpm({type:fieldPageBuilder,selectors:[["field-page-builder"]],features:[o.qOj],decls:2,vars:2,consts:[[3,"fielddisplayclass","fieldconfig","editable",4,"ngIf"],["class","slds-form-element__control slds-height_full",3,"ngClass",4,"ngIf"],[3,"fielddisplayclass","fieldconfig","editable"],[1,"slds-size--1-of-1","slds-height_full"],["style","border: 0; resize: vertical","class","slds-size--1-of-1 slds-height_full","sandbox","",3,"src",4,"ngIf"],["sandbox","",1,"slds-size--1-of-1","slds-height_full",2,"border","0","resize","vertical",3,"src"],[1,"slds-form-element__control","slds-height_full",3,"ngClass"],[1,"spice-display-block","slds-height_full",3,"pageContent","pageBuilderChange$"],[3,"fieldname"]],template:function(e,t){1&e&&(o.YNc(0,ii,3,6,"field-generic-display",0),o.YNc(1,si,3,3,"div",1)),2&e&&(o.Q6J("ngIf",!t.isEditMode()),o.xp6(1),o.Q6J("ngIf",t.isEditable()&&t.isEditMode()))},dependencies:[s.mk,s.O5,Xt.D,ei.a,Ut],encapsulation:2,changeDetection:0})}return fieldPageBuilder})();var li=i(84357);let oi=(()=>{class ModuleSpicePageBuilder{static ɵfac=function(e){return new(e||ModuleSpicePageBuilder)};static ɵmod=o.oAB({type:ModuleSpicePageBuilder});static ɵinj=o.cJS({imports:[s.ez,n.ObjectFields,l.SystemComponents,d.u5,li.o,Z._t]})}return ModuleSpicePageBuilder})();("undefined"==typeof ngJitMode||ngJitMode)&&o.kYT(oi,{declarations:[Ut,Lt,St,E,u,v,y,Gt,E,wt,ht,dt,Q,X,ae,he,Te,Ae,je,ni],imports:[s.ez,n.ObjectFields,l.SystemComponents,d.u5,li.o,Z._t],exports:[Ut]})}}]);