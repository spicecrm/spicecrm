/*!
 * 
 *                     SpiceCRM
 *
 *                     release: 2024.01.001
 *
 *                     date: 2024-06-07 18:47:00
 *
 *                     build: 2024.01.001.1717778820753
 *
 */
"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([["src_include_spicepagebuilder_modulespicepagebuilder_ts"],{58683:(e,t,i)=>{i.r(t),i.d(t,{ModuleSpicePageBuilder:()=>oi});var s=i(60177),n=i(7745),l=i(70569),o=i(54438),r=i(84341),a=i(32062);function c(e,t){if(1&e){const e=o.RV6();o.j41(0,"input",6),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.value,t)||(i.value=t),o.Njj(t)})),o.bIt("ngModelChange",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.emitJoinedValue())})),o.k0s()}if(2&e){const e=o.XpG();o.R50("ngModel",e.value)}}function d(e,t){if(1&e){const e=o.RV6();o.j41(0,"input",7),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.value,t)||(i.value=t),o.Njj(t)})),o.bIt("ngModelChange",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.emitJoinedValue())})),o.k0s(),o.j41(1,"span",8),o.EFF(2),o.k0s()}if(2&e){const e=o.XpG();o.R50("ngModel",e.value),o.R7$(2),o.SpI(" ",e.suffix," ")}}let u=(()=>{class SpicePageBuilderInputText{constructor(e){this.cdRef=e,this.label="",this.value=""}registerOnChange(e){this.onChange=t=>{e(t)}}registerOnTouched(e){this.onTouched=e}writeValue(e){e&&(this.value=this.suffix?parseFloat(e):e,this.cdRef.detectChanges())}emitJoinedValue(){this.onChange(this.suffix?this.value+this.suffix:this.value)}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderInputText)(o.rXU(o.gRc))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderInputText,selectors:[["spice-page-builder-input-text"]],inputs:{suffix:"suffix",label:"label"},features:[o.Jv_([{multi:!0,provide:r.kq,useExisting:(0,o.Rfq)((()=>SpicePageBuilderInputText))}])],decls:7,vars:5,consts:[[1,"slds-form-element"],[1,"slds-form-element__label"],[3,"label"],[1,"slds-form-element__control"],["type","text","class","slds-input",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["inputNumberContainer",""],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["type","number",1,"slds-input",3,"ngModel","ngModelChange"],[1,"slds-form-element__addon"]],template:function(e,t){if(1&e&&(o.j41(0,"div",0)(1,"label",1),o.nrm(2,"system-label",2),o.k0s(),o.j41(3,"div",3),o.DNE(4,c,1,1,"input",4)(5,d,3,2,"ng-template",null,5,o.C5r),o.k0s()()),2&e){const e=o.sdS(6);o.R7$(2),o.Y8G("label",t.label),o.R7$(),o.AVh("slds-input-has-fixed-addon",!!t.suffix),o.R7$(),o.Y8G("ngIf",!t.suffix)("ngIfElse",e)}},dependencies:[s.bT,a.W,r.me,r.Q0,r.BC,r.vS],encapsulation:2,changeDetection:0})}return SpicePageBuilderInputText})();var p=i(21413),m=i(50531),g=i(41081),b=i(13562),h=i(53584),f=i(49722);let x=(()=>{class SpicePageBuilderService{constructor(e,t,i,s,n,l,r){this.modal=e,this.toast=t,this.helper=i,this.injector=s,this.configurationService=n,this.cdRef=l,this.backend=r,this.isLoading=!1,this.customSections=[],this.customItems=[],this.response=new o.bkB,this.defaultPlaceholderHeight=200,this._page={tagName:"mjml",attributes:{},children:[{tagName:"body",attributes:{"background-color":"#ffffff",width:"550px"},children:[]},{tagName:"head",children:[{tagName:"html-attributes",children:[{tagName:"selector",attributes:{path:".spice-trackable-link a"},children:[{tagName:"html-attribute",attributes:{name:"data-trackinglink"},content:""}]}]}]}]},this.rssDateItem={tagName:"text",content:"RSS-ITEM-DATE-PLACEHOLDER",attributes:{"css-class":"rss-date","font-size":"10px","line-height":"14px",padding:"4px","container-background-color":"#ffffff"}},this.panelElements=[{tagName:"text",label:"LBL_TEXT",content:"Write text here...",icon:"text",attributes:{"font-size":"13px","line-height":"14px",padding:"4px","container-background-color":"#ffffff"}},{tagName:"image",label:"LBL_IMAGE",icon:"image",attributes:{align:"center",padding:"4px",target:"_blank"}},{tagName:"divider",label:"LBL_DIVIDER",icon:"dash",attributes:{padding:"8px","border-width":"2px",width:"100%","border-color":"#a2a2a2"}},{tagName:"spacer",label:"LBL_SPACER",icon:"steps",attributes:{height:"50px","vertical-align":"middle"}},{tagName:"button",label:"LBL_BUTTON",content:"New Button",icon:"link",attributes:{"border-radius":"4px","background-color":"#ca1b21",color:"#ffffff",padding:"4px","inner-padding":"4px",width:"100px",align:"center","font-size":"13px","text-align":"center","line-height":"14px",target:"_blank","vertical-align":"middle",href:"#"}},{tagName:"raw",label:"LBL_HTML_CODE",content:"Write code here...",icon:"insert_tag_field",attributes:{}},{tagName:"rss",label:"LBL_RSS_FEED",icon:"news",content:"Enter RSS name here...",href:"#",showDate:"1",count:"3",attributes:{"font-size":"16px","css-class":"rss-container"},children:[{tagName:"column",attributes:{width:"100%"},children:[{tagName:"section",attributes:{"css-class":"rss-item",padding:"0"},children:[{tagName:"column",attributes:{"css-class":"rss-item-image-column",width:"35%",padding:"0 0 5px 0"},children:[{tagName:"image",attributes:{"css-class":"rss-image",align:"right",width:"100%",padding:"4px","fluid-on-mobile":"true",target:"_blank",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAaVBMVEVHcEzhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgD////hWADiXwfjZA/kahnlcCHmdSnnejHogDrphUPqi0zhVwD2zLDun2r86+H++vf64M/sklfxroHzvJf99O3418HwywNDAAAADHRSTlMAPut1Cqe90RIRVSoKNZleAAAEvUlEQVRo3u2a13arMBBF47jFDh6BqBKd///IK+wAGjXTkqc7K0/Y8da0MwLx8fHfttjp9rXRbic34HA8X66b7XI+Hmyg0/3y6e1kn5e7EfN99na187fOOFzlbwB4Hplldsr1oDHkSAHxaRQnSZq8LH5Z9LLwafRpQSD+evN9nfepUL5lP0iYpJWw9GUGkMR5IXqK4Ki+oIidzpIXYaoCEAE5MjCeCD14Zzn79+l6kIwEqw908uHlwotgSNBdcuQyXhVuGAjRKoKwy0nPOolm5YHKBN9VZFLuj8O1aCnhXRl7xxFyHmO1wgfibkk1JUGyM0FOyu3VJCTem9C3yu0H8vWChLsTesgXgvjxrIbwFxB0CEUASpc1xDwIiSbZiDiv0jgKtxJUCPhTlGiSP4o2LztW8yQM1hM0T6iUhzh/DNbmrK5Cfx1Bh0iZjibI0wQo9vs5thFC5GIKFUjvUVdHZAUHQ6hUTGH5MFjLqmAxRocMtUSNEGFlHXqwBSJVa2CDiPQsxGCI3NN+93g4MHRB0BSIpBpOiAga92EdRBYmwh5uY/HcmKmQqanfQh5tPdMZRbukpiacsa7M28LlTARrIPL2rk8MjVLesNxGyqs5IVOkXjUAyDIgQVKz3EgpagJbIROLhJy1JkwTwD6Q3rKMRLWpQRmF3SBPhwJuwHTvKIsgNsw7igPSp1zXDgDatAspdggRu+6I+oKl/AB4iaY4zJl9KwT88jnjn4NX8QiCRm2cxlXJTshPK4iBmODBC16ltk3tbYI8QWUd48EbK/kvKtgKeQ7eVA4JhEpicruOzYeIxSIMUEWmmVWTHRDD0CqE7MKUfjYzLcsg/dyd1gsUf6WNYR8ImiGgbJtsAbM3o3XG5+k4QyDBlcx3gzxaPuY/46grS7O8rIGgSdXMyL1Du6q6YZ158E4UCNBa8hAWqrCoVp8m3DR4i3HJkCJNbtbNeCC00gdvwc0BM7oyZ2hBRmJthrTJEDC8M69hw2SMmZKdqZI4umyYLLMhQHiujhBj2/INEJGeqDOLOyBXGNm0kRAD0RgwLNitLvnLtkS+pfW4O/XLtkTgM9OcAiqnq9Nk8i2k75TpnzLc4EPrQeOMlxvSd2IcR/60dYc4N7QeJIWrvpwQIBUTNyht2UQTxhR/XMVafbkgYooPC8xHdce/N7Qe1LJ/aj+6BFKerkJ3R0WUQlOkmR6vIpkPwTeNU+uh683QQnKr8Gw2JMViVY6VWZmkijn03gFRNjxDZDxPXvUQmowb1/Nut6I99qiNE6Q2FHFO50K0R1FjELKq0OoVNX0Rz4VQKwR99FOvWCSrbHu4SGcQEWYvL0fiGzXxk7Y0+qqhsQuxHYL1CIkrKqWfVaOeb+Y3I3KlTSUtrvRVIzCbLyvyrUHBbU42BnBH5gtkMG6Eygp9ELXaqtdC+pvppszbvOO4uyBstR8UzSPM3PJvJmMmNqphoD4LBr/io6WD20l/StUfTXJeWTy5OcavaVM5GuiXssxySCOdAO5u0xng+fcgZ/0IcH87mo+wdzXpMPP3kiIdy8oHzPva3XxUvm/aT9ZD/93s+u14fWH/rBtfxNjFj8Nvv1ICxPRKyd+8HPM3r/n80QtL/+2d/QNYM8VY/rzpWAAAAABJRU5ErkJggg=="}}]},{tagName:"column",attributes:{"css-class":"rss-item-content-column",width:"65%",padding:"0 0 5px 0"},children:[{tagName:"button",content:"RSS-ITEM-HEADER-PLACEHOLDER",attributes:{"css-class":"rss-header",align:"left","inner-padding":"0","background-color":"#ffffff",color:"#000000",href:"RSS_ITEM_HEADER_HREF_PLACEHOLDER","font-size":"22px","line-height":"22px","font-weight":"500","text-align":"left",padding:"4px","container-background-color":"#ffffff"}},this.rssDateItem,{tagName:"text",content:"RSS-ITEM-DESCRIPTION-PLACEHOLDER",attributes:{"css-class":"rss-description","font-size":"14px","line-height":"14px",padding:"4px","container-background-color":"#ffffff"}}]}]}]}]}],this.panelDefaultSection={tagName:"section",children:[],attributes:{padding:"0"}},this.panelDefaultColumn={tagName:"column",children:[],attributes:{}},this.alignOptions=[{title:"LBL_LEFT_ALIGN",icon:"left_align_text",value:"left"},{title:"LBL_CENTER_ALIGN",icon:"center_align_text",value:"center"},{title:"LBL_RIGHT_ALIGN",icon:"right_align_text",value:"right"}],this.defaultSuffix="px",this.contentListId=_.uniqueId("panel-drop-list-")}set page(e){this.emitData(),this._page=e}get page(){return this._page}addDropListToGroup(e){this.dropListGroup&&!this.dropListGroup._items.has(e)&&(this.dropListGroup._items.add(e),this.dropListGroup._items.forEach((e=>e._group=this.dropListGroup)))}openMediaFilePicker(){const e=new p.B;return this.modal.openModal("MediaFilePicker").subscribe((t=>{t.instance.answer.subscribe((t=>{t||(e.next(void 0),e.complete());const i=this.configurationService.getCapabilityConfig("mediafiles");t.upload?this.modal.openModal("MediaFileUploader").subscribe((t=>{t.instance.answer.subscribe((t=>{e.next(t?i.public_url+t:void 0),e.complete()}))})):(e.next(t.id?i.public_url+t.id:void 0),e.complete())}))})),e.asObservable()}emitData(e){this.response.next(e?null:this.page)}loadCustomElements(){this.isLoading=!0,this.backend.getRequest("common/PageBuilder/customElements").subscribe((e=>{this.isLoading=!1,e.sections.forEach((e=>e.content=JSON.parse(e.content))),this.customSections=e.sections,e.items.forEach((e=>e.content=JSON.parse(e.content))),this.customItems=e.items,this.cdRef.detectChanges()}))}saveCustomElement(e,t){this.isMouseIn=void 0,this.modal.input("LBL_ENTER_NAME","LBL_NAME").subscribe((i=>{if(!i)return;const s={id:this.helper.generateGuid(),name:i,type:t,content:e};switch(t){case"item":this.customItems=[...this.customItems,{...s}];break;case"section":this.customSections=[...this.customSections,{...s}]}this.cdRef.detectChanges(),s.content=JSON.stringify(s.content),this.backend.postRequest("common/PageBuilder/customElements",null,s).subscribe({next:()=>this.toast.sendToast("LBL_DATA_SAVED","success"),error:()=>this.toast.sendToast("ERR_FAILED_TO_EXECUTE","error")})}))}deleteCustomElement(e,t){switch(t){case"item":this.customItems=this.customItems.filter((t=>t.id!=e));break;case"section":this.customSections=this.customSections.filter((t=>t.id!=e))}this.cdRef.detectChanges(),this.backend.deleteRequest("common/PageBuilder/customElements/"+e).subscribe({next:()=>this.toast.sendToast("LBL_DATA_SAVED","success"),error:()=>this.toast.sendToast("ERR_FAILED_TO_EXECUTE","error")})}openEditModal(e){this.isMouseIn=void 0,this.cdRef.detectChanges();const t=new p.B;return this.modal.openModal("SpicePageBuilderEditor",!0,this.injector).subscribe((i=>{i.instance.element=JSON.parse(JSON.stringify(e)),i.instance.response.subscribe((e=>{t.next(e),e&&t.complete()}))})),t.asObservable()}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderService)(o.KVO(m.y),o.KVO(g.o),o.KVO(b.d),o.KVO(o.zZn),o.KVO(h.i),o.KVO(o.gRc),o.KVO(f.H))};static#t=this.ɵprov=o.jDH({token:SpicePageBuilderService,factory:SpicePageBuilderService.ɵfac})}return SpicePageBuilderService})(),v=(()=>{class SpicePageBuilderInputSides{constructor(e,t){this.cdRef=e,this.spicePageBuilderService=t,this.label="",this.value={top:0,right:0,bottom:0,left:0}}registerOnChange(e){this.onChange=t=>{e(t)}}registerOnTouched(e){this.onTouched=e}writeValue(e){if(!e)return;const t=e.split(" ");this.value={top:parseFloat(t[0]),right:parseFloat(1==t.length?e:t[1]),bottom:parseFloat(1==t.length?e:t[2]),left:parseFloat(1==t.length?e:t[3])},this.cdRef.detectChanges()}emitJoinedValue(){const e=this.spicePageBuilderService.defaultSuffix;this.onChange(`${this.value.top+e} ${this.value.right+e} ${this.value.bottom+e} ${this.value.left+e}`)}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderInputSides)(o.rXU(o.gRc),o.rXU(x))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderInputSides,selectors:[["spice-page-builder-input-sides"]],inputs:{label:"label"},features:[o.Jv_([{multi:!0,provide:r.kq,useExisting:(0,o.Rfq)((()=>SpicePageBuilderInputSides))}])],decls:37,vars:9,consts:[[1,"slds-form-element","slds-form-element_compound"],[1,"slds-form-element__legend","slds-form-element__label"],[1,"slds-form-element__control"],[1,"slds-form-element__row"],[1,"slds-size_1-of-4"],[1,"slds-form-element"],[1,"slds-form-element__label"],[1,"slds-form-element__control","slds-input-has-fixed-addon"],["type","number","maxlength","4","size","4",1,"slds-input",3,"ngModel","ngModelChange"],[1,"slds-form-element__addon"]],template:function(e,t){1&e&&(o.j41(0,"fieldset",0)(1,"legend",1),o.EFF(2),o.k0s(),o.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),o.EFF(8,"Top"),o.k0s(),o.j41(9,"div",7)(10,"input",8),o.mxI("ngModelChange",(function(e){return o.DH7(t.value.top,e)||(t.value.top=e),e})),o.bIt("ngModelChange",(function(){return t.emitJoinedValue()})),o.k0s(),o.j41(11,"span",9),o.EFF(12),o.k0s()()()(),o.j41(13,"div",4)(14,"div",5)(15,"label",6),o.EFF(16,"Right"),o.k0s(),o.j41(17,"div",7)(18,"input",8),o.mxI("ngModelChange",(function(e){return o.DH7(t.value.right,e)||(t.value.right=e),e})),o.bIt("ngModelChange",(function(){return t.emitJoinedValue()})),o.k0s(),o.j41(19,"span",9),o.EFF(20),o.k0s()()()(),o.j41(21,"div",4)(22,"div",5)(23,"label",6),o.EFF(24,"Bottom"),o.k0s(),o.j41(25,"div",7)(26,"input",8),o.mxI("ngModelChange",(function(e){return o.DH7(t.value.bottom,e)||(t.value.bottom=e),e})),o.bIt("ngModelChange",(function(){return t.emitJoinedValue()})),o.k0s(),o.j41(27,"span",9),o.EFF(28),o.k0s()()()(),o.j41(29,"div",4)(30,"div",5)(31,"label",6),o.EFF(32,"Left"),o.k0s(),o.j41(33,"div",7)(34,"input",8),o.mxI("ngModelChange",(function(e){return o.DH7(t.value.left,e)||(t.value.left=e),e})),o.bIt("ngModelChange",(function(){return t.emitJoinedValue()})),o.k0s(),o.j41(35,"span",9),o.EFF(36),o.k0s()()()()()()()),2&e&&(o.R7$(2),o.JRh(t.label),o.R7$(8),o.R50("ngModel",t.value.top),o.R7$(2),o.SpI(" ",t.spicePageBuilderService.defaultSuffix," "),o.R7$(6),o.R50("ngModel",t.value.right),o.R7$(2),o.SpI(" ",t.spicePageBuilderService.defaultSuffix," "),o.R7$(6),o.R50("ngModel",t.value.bottom),o.R7$(2),o.SpI(" ",t.spicePageBuilderService.defaultSuffix," "),o.R7$(6),o.R50("ngModel",t.value.left),o.R7$(2),o.SpI(" ",t.spicePageBuilderService.defaultSuffix," "))},dependencies:[r.me,r.Q0,r.BC,r.tU,r.vS],encapsulation:2,changeDetection:0})}return SpicePageBuilderInputSides})(),y=(()=>{class SpicePageBuilderInputColor{constructor(e){this.cdRef=e,this.label="",this.value=""}registerOnChange(e){this.onChange=t=>{e(t)}}registerOnTouched(e){this.onTouched=e}writeValue(e){e&&(this.value=e,this.cdRef.detectChanges())}emitValue(){this.onChange(this.value)}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderInputColor)(o.rXU(o.gRc))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderInputColor,selectors:[["spice-page-builder-input-color"]],inputs:{label:"label"},features:[o.Jv_([{multi:!0,provide:r.kq,useExisting:(0,o.Rfq)((()=>SpicePageBuilderInputColor))}])],decls:6,vars:3,consts:[[1,"slds-form-element"],[1,"slds-form-element__label"],[1,"slds-form-element__control","slds-input-has-fixed-addon"],["type","color",1,"slds-input",3,"ngModel","ngModelChange"],["type","text","maxlength","8","size","8",1,"slds-input","slds-m-left--x-small",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"label",1),o.EFF(2),o.k0s(),o.j41(3,"div",2)(4,"input",3),o.mxI("ngModelChange",(function(e){return o.DH7(t.value,e)||(t.value=e),e})),o.bIt("ngModelChange",(function(){return t.emitValue()})),o.k0s(),o.j41(5,"input",4),o.mxI("ngModelChange",(function(e){return o.DH7(t.value,e)||(t.value=e),e})),o.bIt("ngModelChange",(function(){return t.emitValue()})),o.k0s()()()),2&e&&(o.R7$(2),o.JRh(t.label),o.R7$(2),o.R50("ngModel",t.value),o.R7$(),o.R50("ngModel",t.value))},dependencies:[r.me,r.BC,r.tU,r.vS],encapsulation:2,changeDetection:0})}return SpicePageBuilderInputColor})();var S=i(345),B=i(25863),G=i(68823),k=i(22465),E=i(18039);let j=(()=>{class SpicePageBuilderElement{constructor(e,t,i,s,n){this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=s,this.spicePageBuilderService=n,this.delete$=new o.bkB,this.isEditMode=!1,this.attributesList=[{name:"width",type:"text"},{name:"background-color",type:"color"}],this.style={}}ngOnInit(){this.generateStyle()}handleEditResponse(e){this.element.attributes=e.attributes,this.generateStyle(),this.spicePageBuilderService.emitData(),this.cdRef.detectChanges()}generateStyle(e){this.style=JSON.parse(JSON.stringify(e?_.pick(this.element.attributes,e):this.element.attributes))}setIsMouseIn(e){this.spicePageBuilderService.isMouseIn=e?"content":"section"}edit(){this.spicePageBuilderService.openEditModal(this.element).subscribe({next:e=>{e&&this.handleEditResponse(e)}})}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderElement)(o.rXU(S.up),o.rXU(m.y),o.rXU(o.zZn),o.rXU(o.gRc),o.rXU(x))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderElement,selectors:[["spice-page-builder-element"]],inputs:{element:"element",isEditMode:"isEditMode"},outputs:{delete$:"delete$"},decls:18,vars:3,consts:[["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_ELEMENT"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"]],template:function(e,t){1&e&&(o.j41(0,"div",0),o.bIt("mouseenter",(function(){return t.setIsMouseIn(!0)}))("mouseleave",(function(){return t.setIsMouseIn(!1)})),o.j41(1,"div",1)(2,"div",2)(3,"div",3),o.nrm(4,"system-icon",4),o.k0s(),o.j41(5,"div",5)(6,"h2",6),o.nrm(7,"system-label",7),o.k0s()()()(),o.j41(8,"article",8),o.bIt("dblclick",(function(){return t.edit()})),o.nrm(9,"div",9),o.k0s(),o.j41(10,"div",10)(11,"div",11)(12,"button",12),o.nrm(13,"system-button-icon",13),o.k0s(),o.j41(14,"button",14),o.bIt("click",(function(){return t.edit()})),o.nrm(15,"system-button-icon",15),o.k0s(),o.j41(16,"button",16),o.bIt("click",(function(){return t.delete$.emit()})),o.nrm(17,"system-button-icon",17),o.k0s()()()()),2&e&&(o.AVh("slds-is-hovered","content"==t.spicePageBuilderService.isMouseIn),o.R7$(9),o.Y8G("ngStyle",t.style))},dependencies:[s.B3,B.t,G.J,a.W,k.L,E.Fb],encapsulation:2,changeDetection:0})}return SpicePageBuilderElement})();var R=i(12883);function L(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",2),o.bIt("mouseenter",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!1))})),o.j41(1,"div",3)(2,"div",4)(3,"div",5),o.nrm(4,"system-icon",6),o.k0s(),o.j41(5,"div",7)(6,"h2",8),o.nrm(7,"system-label",9),o.k0s()(),o.j41(8,"button",10),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),o.nrm(9,"system-button-icon",11),o.k0s()()(),o.j41(10,"article",12),o.bIt("dblclick",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.j41(11,"div"),o.nrm(12,"img",13),o.k0s()(),o.j41(13,"div",14)(14,"div",15)(15,"button",16),o.nrm(16,"system-button-icon",17),o.k0s(),o.j41(17,"button",18),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.nrm(18,"system-button-icon",19),o.k0s(),o.j41(19,"button",20),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.delete$.emit())})),o.nrm(20,"system-button-icon",21),o.k0s()()()()}if(2&e){const e=o.XpG();o.AVh("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),o.R7$(9),o.Y8G("inverse",!0),o.R7$(),o.Y8G("ngStyle",e.style),o.R7$(),o.xc7("background-color",e.element.attributes["container-background-color"]),o.R7$(),o.Y8G("src",e.element.attributes.src,o.B4B)("ngStyle",e.style)}}function D(e,t){if(1&e&&(o.j41(0,"div",43)(1,"span",27),o.nrm(2,"system-label",44),o.k0s(),o.j41(3,"div",45),o.nrm(4,"img",46),o.k0s()()),2&e){const e=o.XpG(2);o.R7$(4),o.Y8G("src",e.element.attributes.src,o.B4B)}}function M(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",50),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function C(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",51),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function I(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-sides",50),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function X(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-color",50),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function w(e,t){if(1&e&&(o.qex(0,47),o.DNE(1,M,1,2,"spice-page-builder-input-text",48)(2,C,1,3,"spice-page-builder-input-text",49)(3,I,1,2,"spice-page-builder-input-sides",48)(4,X,1,2,"spice-page-builder-input-color",48),o.bVm()),2&e){const e=t.$implicit;o.Y8G("ngSwitch",e.type),o.R7$(),o.Y8G("ngSwitchCase","text"),o.R7$(),o.Y8G("ngSwitchCase","textSuffix"),o.R7$(),o.Y8G("ngSwitchCase","sides"),o.R7$(),o.Y8G("ngSwitchCase","color")}}function N(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",22)(1,"system-section",23)(2,"div",24)(3,"div",25)(4,"div",26)(5,"span",27),o.nrm(6,"system-label",28),o.k0s(),o.j41(7,"div",29)(8,"div",30)(9,"div",31)(10,"label",32)(11,"span",33),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.openMediaFilePicker())})),o.nrm(12,"system-button-icon",34),o.j41(13,"span"),o.nrm(14,"system-label",35),o.k0s()(),o.j41(15,"span",36),o.nrm(16,"system-label",37),o.k0s()()()()()(),o.DNE(17,D,5,1,"div",38),o.k0s()()()(),o.j41(18,"div",22)(19,"system-section",39)(20,"div",40)(21,"div",41),o.DNE(22,w,5,5,"ng-container",42),o.k0s()()()()}if(2&e){const e=o.XpG();o.R7$(),o.Y8G("alwaysExpanded",!0),o.R7$(16),o.Y8G("ngIf",!!e.element.attributes.src),o.R7$(2),o.Y8G("alwaysExpanded",!0),o.R7$(3),o.Y8G("ngForOf",e.attributesList)}}let V=(()=>{class SpicePageBuilderElementImage extends j{constructor(e,t,i,s,n){super(e,t,i,s,n),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=s,this.spicePageBuilderService=n,this.attributesList=[{name:"title",type:"text"},{name:"href",type:"text"},{name:"alt",type:"text"},{name:"fluid-on-mobile",type:"text"},{name:"rel",type:"text"},{name:"srcset",type:"text"},{name:"target",type:"text"},{name:"usemap",type:"text"},{name:"border",type:"text"},{name:"border-radius",type:"textSuffix"},{name:"align",type:"text"},{name:"height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"width",type:"textSuffix"},{name:"container-background-color",type:"color"},{name:"css-class",type:"text"}]}openMediaFilePicker(){this.spicePageBuilderService.openMediaFilePicker().subscribe((e=>{e&&(this.element.attributes.src=e)}))}generateStyle(){super.generateStyle(["border","border-radius","align","height","padding","width"])}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderElementImage)(o.rXU(S.up),o.rXU(m.y),o.rXU(o.zZn),o.rXU(o.gRc),o.rXU(x))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderElementImage,selectors:[["spice-page-builder-element-image"]],inputs:{element:"element"},features:[o.Vt3],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","image","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_IMAGE"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"ngStyle","dblclick"],["alt","SpiceCRM image",2,"max-height","100%",3,"src","ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-grid","slds-height_full","slds-size--1-of-1"],[1,"slds-form-element","slds-grid","slds-grid--vertical","slds-size--1-of-2","slds-p-right--xx-small"],[1,"slds-form-element__label"],["label","LBL_IMAGE_FILE"],[1,"slds-form-element__control","slds-grow"],[1,"slds-file-selector","slds-file-selector_images","slds-height_full"],[1,"slds-file-selector__dropzone","slds-height_full"],[1,"slds-file-selector__body"],[1,"slds-file-selector__button","slds-button","slds-button_neutral",2,"cursor","pointer",3,"click"],["icon","upload"],["label","LBL_UPLOAD_IMAGE"],[1,"slds-file-selector__text","slds-medium-show"],["label","LBL_OR_DROP_IMAGE"],["class","slds-height_full slds-size--1-of-2 slds-grid slds-grid--vertical slds-p-left--xx-small",4,"ngIf"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"slds-height_full","slds-size--1-of-2","slds-grid","slds-grid--vertical","slds-p-left--xx-small"],["label","LBL_PREVIEW"],[1,"slds-grow","slds-p-around--x-small","slds-text-align--center",2,"min-height","0","border","1px solid #ddd","border-radius","4px"],["alt","Spice Image",2,"max-height","100%",3,"src"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&o.DNE(0,L,21,8,"div",0)(1,N,23,4,"ng-template",null,1,o.C5r),2&e){const e=o.sdS(2);o.Y8G("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.Sq,s.bT,s.B3,s.ux,s.e1,B.t,G.J,a.W,R.v,r.BC,r.vS,k.L,E.Fb,u,v,y],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementImage})();var $=i(39554),P=i(34411),z=i(73978);function Y(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",2),o.bIt("mouseenter",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!1))})),o.j41(1,"div",3)(2,"div",4)(3,"div",5),o.nrm(4,"system-icon",6),o.k0s(),o.j41(5,"div",7)(6,"h2",8),o.nrm(7,"system-label",9),o.k0s()(),o.j41(8,"button",10),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),o.nrm(9,"system-button-icon",11),o.k0s()()(),o.j41(10,"article",12),o.bIt("dblclick",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.j41(11,"div"),o.nrm(12,"div",13),o.k0s()(),o.j41(13,"div",14)(14,"div",15)(15,"button",16),o.nrm(16,"system-button-icon",17),o.k0s(),o.j41(17,"button",18),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.nrm(18,"system-button-icon",19),o.k0s(),o.j41(19,"button",20),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.delete$.emit())})),o.nrm(20,"system-button-icon",21),o.k0s()()()()}if(2&e){const e=o.XpG();o.AVh("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),o.R7$(9),o.Y8G("inverse",!0),o.R7$(2),o.xc7("background-color",e.element.attributes["container-background-color"]),o.R7$(),o.Y8G("innerHTML",e.sanitizedContent,o.npT)("ngStyle",e.style)}}function T(e,t){if(1&e){const e=o.RV6();o.j41(0,"system-html-editor",35),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG(2);return o.DH7(i.element.content,t)||(i.element.content=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG(2);o.R50("ngModel",e.element.content)}}function O(e,t){if(1&e){const e=o.RV6();o.j41(0,"system-richtext-editor",35),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG(2);return o.DH7(i.element.content,t)||(i.element.content=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG(2);o.R50("ngModel",e.element.content)}}function F(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",39),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function H(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",40),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function U(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-sides",39),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function A(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-color",39),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function J(e,t){if(1&e&&(o.qex(0,36),o.DNE(1,F,1,2,"spice-page-builder-input-text",37)(2,H,1,3,"spice-page-builder-input-text",38)(3,U,1,2,"spice-page-builder-input-sides",37)(4,A,1,2,"spice-page-builder-input-color",37),o.bVm()),2&e){const e=t.$implicit;o.Y8G("ngSwitch",e.type),o.R7$(),o.Y8G("ngSwitchCase","text"),o.R7$(),o.Y8G("ngSwitchCase","textSuffix"),o.R7$(),o.Y8G("ngSwitchCase","sides"),o.R7$(),o.Y8G("ngSwitchCase","color")}}const q=()=>({value:"richText",label:"LBL_RICH_TEXT_EDITOR"}),K=()=>({value:"html",label:"LBL_HTML"}),W=(e,t)=>[e,t];function Q(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",22)(1,"system-section",23)(2,"div",24),o.DNE(3,T,1,1,"system-html-editor",25)(4,O,1,1,"system-richtext-editor",26),o.k0s()()(),o.j41(5,"div",22)(6,"system-section",27)(7,"div",28)(8,"div",29)(9,"div",30)(10,"label",31),o.nrm(11,"system-label",32),o.k0s(),o.j41(12,"system-input-radio-button-group",33),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.element.editorType,t)||(i.element.editorType=t),o.Njj(t)})),o.k0s()(),o.DNE(13,J,5,5,"ng-container",34),o.k0s()()()()}if(2&e){const e=o.XpG();o.R7$(),o.Y8G("alwaysExpanded",!0),o.R7$(),o.Y8G("ngSwitch",e.element.editorType),o.R7$(),o.Y8G("ngSwitchCase","html"),o.R7$(3),o.Y8G("alwaysExpanded",!0),o.R7$(6),o.R50("ngModel",e.element.editorType),o.Y8G("inputOptions",o.l_i(9,W,o.lJ4(7,q),o.lJ4(8,K))),o.R7$(),o.Y8G("ngForOf",e.attributesList)}}let Z=(()=>{class SpicePageBuilderElementText extends j{constructor(e,t,i,s,n){super(e,t,i,s,n),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=s,this.spicePageBuilderService=n,this.attributesList=[{name:"color",type:"color"},{name:"container-background-color",type:"color"},{name:"font-size",type:"textSuffix"},{name:"font-style",type:"text"},{name:"font-weight",type:"text"},{name:"line-height",type:"textSuffix"},{name:"letter-spacing",type:"textSuffix"},{name:"height",type:"textSuffix"},{name:"text-decoration",type:"text"},{name:"text-transform",type:"text"},{name:"align",type:"text"},{name:"padding",type:"sides"},{name:"css-class",type:"text"}],this.sanitizedContent=""}ngOnInit(){super.ngOnInit(),this.element.editorType||(this.element.editorType="richText"),this.sanitizeContent()}handleEditResponse(e){this.element.content=e.content,this.sanitizeContent(),super.handleEditResponse(e)}sanitizeContent(){this.sanitizedContent=this.domSanitizer.bypassSecurityTrustHtml(this.element.content)}generateStyle(){super.generateStyle(["color","font-size","font-style","font-weight","line-height","letter-spacing","text-decoration","text-transform","align","padding","height"])}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderElementText)(o.rXU(S.up),o.rXU(m.y),o.rXU(o.zZn),o.rXU(o.gRc),o.rXU(x))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderElementText,selectors:[["spice-page-builder-element-text"]],inputs:{element:"element"},features:[o.Vt3],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_TEXT"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"innerHTML","ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-scrollable--y","slds-height_full","slds-p-around--xx-small",2,"min-height","0",3,"ngSwitch"],["class","slds-size--1-of-1 spice-page-builder-text-editor",3,"ngModel","ngModelChange",4,"ngSwitchCase"],["class","slds-size--1-of-1 spice-page-builder-text-editor",3,"ngModel","ngModelChange",4,"ngSwitchDefault"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[1,"slds-form-element","slds-grid","slds-size--1-of-1"],[1,"slds-form-element__label"],["label","LBL_EDIT_WITH"],[1,"spice-display-block",3,"ngModel","inputOptions","ngModelChange"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"slds-size--1-of-1","spice-page-builder-text-editor",3,"ngModel","ngModelChange"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&o.DNE(0,Y,21,7,"div",0)(1,Q,14,12,"ng-template",null,1,o.C5r),2&e){const e=o.sdS(2);o.Y8G("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.Sq,s.bT,s.B3,s.ux,s.e1,s.fG,B.t,G.J,$.s,a.W,P.K,R.v,z.U,r.BC,r.vS,k.L,E.Fb,u,v,y],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementText})();const ee=(e,t,i)=>({padding:e,"background-color":t,width:i}),te=(e,t,i)=>({"border-width":e,"border-style":t,"border-color":i});function ie(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",2),o.bIt("mouseenter",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!1))})),o.j41(1,"div",3)(2,"div",4)(3,"div",5),o.nrm(4,"system-icon",6),o.k0s(),o.j41(5,"div",7)(6,"h2",8),o.nrm(7,"system-label",9),o.k0s()(),o.j41(8,"button",10),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),o.nrm(9,"system-button-icon",11),o.k0s()()(),o.j41(10,"article",12),o.bIt("dblclick",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.j41(11,"div",13),o.nrm(12,"hr",14),o.k0s()(),o.j41(13,"div",15)(14,"div",16)(15,"button",17),o.nrm(16,"system-button-icon",18),o.k0s(),o.j41(17,"button",19),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.nrm(18,"system-button-icon",20),o.k0s(),o.j41(19,"button",21),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.delete$.emit())})),o.nrm(20,"system-button-icon",22),o.k0s()()()()}if(2&e){const e=o.XpG();o.AVh("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),o.R7$(9),o.Y8G("inverse",!0),o.R7$(2),o.Y8G("ngStyle",o.sMw(5,ee,e.element.attributes.padding,e.element.attributes["container-background-color"],e.element.attributes.width)),o.R7$(),o.Y8G("ngStyle",o.sMw(9,te,e.style["border-width"],e.style["border-style"],e.style["border-color"]))}}function se(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",37),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function ne(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",38),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function le(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-sides",37),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function oe(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-color",37),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function re(e,t){if(1&e&&(o.qex(0,34),o.DNE(1,se,1,2,"spice-page-builder-input-text",35)(2,ne,1,3,"spice-page-builder-input-text",36)(3,le,1,2,"spice-page-builder-input-sides",35)(4,oe,1,2,"spice-page-builder-input-color",35),o.bVm()),2&e){const e=t.$implicit;o.Y8G("ngSwitch",e.type),o.R7$(),o.Y8G("ngSwitchCase","text"),o.R7$(),o.Y8G("ngSwitchCase","textSuffix"),o.R7$(),o.Y8G("ngSwitchCase","sides"),o.R7$(),o.Y8G("ngSwitchCase","color")}}function ae(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",23)(1,"system-section",24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"spice-page-builder-input-color",28),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.element.attributes["border-color"],t)||(i.element.attributes["border-color"]=t),o.Njj(t)})),o.k0s()(),o.j41(6,"div",27)(7,"spice-page-builder-input-text",29),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.element.attributes["border-width"],t)||(i.element.attributes["border-width"]=t),o.Njj(t)})),o.k0s()()()()()(),o.j41(8,"div",23)(9,"system-section",30)(10,"div",31)(11,"div",32),o.DNE(12,re,5,5,"ng-container",33),o.k0s()()()()}if(2&e){const e=o.XpG();o.R7$(),o.Y8G("alwaysExpanded",!0),o.R7$(4),o.R50("ngModel",e.element.attributes["border-color"]),o.R7$(2),o.R50("ngModel",e.element.attributes["border-width"]),o.Y8G("suffix",e.spicePageBuilderService.defaultSuffix),o.R7$(2),o.Y8G("alwaysExpanded",!0),o.R7$(3),o.Y8G("ngForOf",e.attributesList)}}let ce=(()=>{class SpicePageBuilderElementDivider extends j{constructor(e,t,i,s,n){super(e,t,i,s,n),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=s,this.spicePageBuilderService=n,this.attributesList=[{name:"container-background-color",type:"color"},{name:"border-style",type:"text"},{name:"padding",type:"sides"},{name:"width",type:"textSuffix"},{name:"css-class",type:"text"}]}generateStyle(){super.generateStyle(["border-color","border-style","border-width"])}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderElementDivider)(o.rXU(S.up),o.rXU(m.y),o.rXU(o.zZn),o.rXU(o.gRc),o.rXU(x))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderElementDivider,selectors:[["spice-page-builder-element-divider"]],inputs:{element:"element"},features:[o.Vt3],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_DIVIDER"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"ngStyle"],[2,"margin","0",3,"ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1"],[1,"slds-grid"],["label","LBL_COLOR",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","ngModelChange"],["label","LBL_THICKNESS",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","suffix","ngModelChange"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&o.DNE(0,ie,21,13,"div",0)(1,ae,13,6,"ng-template",null,1,o.C5r),2&e){const e=o.sdS(2);o.Y8G("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.Sq,s.bT,s.B3,s.ux,s.e1,B.t,G.J,a.W,R.v,r.BC,r.vS,k.L,E.Fb,u,v,y],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementDivider})();function de(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",2),o.bIt("mouseenter",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!1))})),o.j41(1,"div",3)(2,"div",4)(3,"div",5),o.nrm(4,"system-icon",6),o.k0s(),o.j41(5,"div",7)(6,"h2",8),o.nrm(7,"system-label",9),o.k0s()(),o.j41(8,"button",10),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),o.nrm(9,"system-button-icon",11),o.k0s()()(),o.j41(10,"article",12),o.bIt("dblclick",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.nrm(11,"div",13),o.k0s(),o.j41(12,"div",14)(13,"div",15)(14,"button",16),o.nrm(15,"system-button-icon",17),o.k0s(),o.j41(16,"button",18),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.nrm(17,"system-button-icon",19),o.k0s(),o.j41(18,"button",20),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.delete$.emit())})),o.nrm(19,"system-button-icon",21),o.k0s()()()()}if(2&e){const e=o.XpG();o.AVh("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),o.R7$(9),o.Y8G("inverse",!0),o.R7$(2),o.xc7("background-color",e.element.attributes["container-background-color"]),o.Y8G("ngStyle",e.style)}}function ue(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",35),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function pe(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",36),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function me(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-sides",35),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function ge(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-color",35),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function be(e,t){if(1&e&&(o.qex(0,32),o.DNE(1,ue,1,2,"spice-page-builder-input-text",33)(2,pe,1,3,"spice-page-builder-input-text",34)(3,me,1,2,"spice-page-builder-input-sides",33)(4,ge,1,2,"spice-page-builder-input-color",33),o.bVm()),2&e){const e=t.$implicit;o.Y8G("ngSwitch",e.type),o.R7$(),o.Y8G("ngSwitchCase","text"),o.R7$(),o.Y8G("ngSwitchCase","textSuffix"),o.R7$(),o.Y8G("ngSwitchCase","sides"),o.R7$(),o.Y8G("ngSwitchCase","color")}}function he(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",22)(1,"system-section",23)(2,"div",24)(3,"div",25)(4,"div",26)(5,"spice-page-builder-input-text",27),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.element.attributes.height,t)||(i.element.attributes.height=t),o.Njj(t)})),o.k0s()()()()()(),o.j41(6,"div",22)(7,"system-section",28)(8,"div",29)(9,"div",30),o.DNE(10,be,5,5,"ng-container",31),o.k0s()()()()}if(2&e){const e=o.XpG();o.R7$(),o.Y8G("alwaysExpanded",!0),o.R7$(4),o.R50("ngModel",e.element.attributes.height),o.R7$(2),o.Y8G("alwaysExpanded",!0),o.R7$(3),o.Y8G("ngForOf",e.attributesList)}}let fe=(()=>{class SpicePageBuilderElementSpacer extends j{constructor(e,t,i,s,n){super(e,t,i,s,n),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=s,this.spicePageBuilderService=n,this.attributesList=[{name:"width",type:"textSuffix"},{name:"padding",type:"sides"},{name:"container-background-color",type:"color"},{name:"vertical-align",type:"text"},{name:"css-class",type:"text"}]}generateStyle(){super.generateStyle(["width","padding","vertical-align","height"])}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderElementSpacer)(o.rXU(S.up),o.rXU(m.y),o.rXU(o.zZn),o.rXU(o.gRc),o.rXU(x))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderElementSpacer,selectors:[["spice-page-builder-element-spacer"]],inputs:{element:"element"},features:[o.Vt3],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_SPACER"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1"],[1,"slds-grid"],["label","LBL_SPACING",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","ngModelChange"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&o.DNE(0,de,20,6,"div",0)(1,he,11,4,"ng-template",null,1,o.C5r),2&e){const e=o.sdS(2);o.Y8G("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.Sq,s.bT,s.B3,s.ux,s.e1,B.t,G.J,a.W,R.v,r.BC,r.vS,k.L,E.Fb,u,v,y],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementSpacer})();var xe=i(35911);const ve=(e,t)=>({"background-color":e,padding:t});function ye(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",2),o.bIt("mouseenter",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!1))})),o.j41(1,"div",3)(2,"div",4)(3,"div",5),o.nrm(4,"system-icon",6),o.k0s(),o.j41(5,"div",7)(6,"h2",8),o.nrm(7,"system-label",9),o.k0s()(),o.j41(8,"button",10),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),o.nrm(9,"system-button-icon",11),o.k0s()()(),o.j41(10,"article",12),o.bIt("dblclick",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.j41(11,"div",13)(12,"div",13),o.EFF(13),o.k0s()()(),o.j41(14,"div",14)(15,"div",15)(16,"button",16),o.nrm(17,"system-button-icon",17),o.k0s(),o.j41(18,"button",18),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.nrm(19,"system-button-icon",19),o.k0s(),o.j41(20,"button",20),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.delete$.emit())})),o.nrm(21,"system-button-icon",21),o.k0s()()()()}if(2&e){const e=o.XpG();o.AVh("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),o.R7$(9),o.Y8G("inverse",!0),o.R7$(2),o.Y8G("ngStyle",o.l_i(8,ve,e.element.attributes["container-background-color"],e.element.attributes.padding)),o.R7$(),o.xc7("padding",e.element.attributes["inner-padding"]),o.Y8G("ngStyle",e.style),o.R7$(),o.SpI(" ",e.element.content," ")}}function Se(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",48),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function Be(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",49),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function Ge(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-sides",48),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function ke(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-color",48),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function Ee(e,t){if(1&e&&(o.qex(0,45),o.DNE(1,Se,1,2,"spice-page-builder-input-text",46)(2,Be,1,3,"spice-page-builder-input-text",47)(3,Ge,1,2,"spice-page-builder-input-sides",46)(4,ke,1,2,"spice-page-builder-input-color",46),o.bVm()),2&e){const e=t.$implicit;o.Y8G("ngSwitch",e.type),o.R7$(),o.Y8G("ngSwitchCase","text"),o.R7$(),o.Y8G("ngSwitchCase","textSuffix"),o.R7$(),o.Y8G("ngSwitchCase","sides"),o.R7$(),o.Y8G("ngSwitchCase","color")}}const je=()=>({value:"id",label:"LBL_BY_ID"}),Re=()=>({value:void 0,icon:"topic2",label:"LBL_NONE"}),_e=()=>({value:"url",icon:"link",label:"LBL_BY_URL"}),Le=(e,t,i)=>[e,t,i];function De(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",22)(1,"system-section",23)(2,"div",24)(3,"div",25)(4,"div",26)(5,"div",27)(6,"label",28),o.nrm(7,"system-label",29),o.k0s(),o.j41(8,"div",30)(9,"input",31),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.element.content,t)||(i.element.content=t),o.Njj(t)})),o.k0s()()(),o.j41(10,"div",27)(11,"label",28),o.nrm(12,"system-label",32),o.k0s(),o.j41(13,"div",30)(14,"input",31),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.element.attributes.href,t)||(i.element.attributes.href=t),o.Njj(t)})),o.k0s()()()(),o.j41(15,"div",26)(16,"spice-page-builder-input-color",33),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.element.attributes["background-color"],t)||(i.element.attributes["background-color"]=t),o.Njj(t)})),o.k0s(),o.j41(17,"spice-page-builder-input-color",34),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.element.attributes.color,t)||(i.element.attributes.color=t),o.Njj(t)})),o.k0s()(),o.j41(18,"div",26)(19,"spice-page-builder-input-text",35),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.element.attributes["border-radius"],t)||(i.element.attributes["border-radius"]=t),o.Njj(t)})),o.k0s(),o.j41(20,"div",27)(21,"label",28),o.nrm(22,"system-label",36),o.k0s(),o.j41(23,"div",30)(24,"system-input-radio-button-group",37),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.element.attributes["text-align"],t)||(i.element.attributes["text-align"]=t),o.Njj(t)})),o.k0s()()()(),o.j41(25,"div",26)(26,"div",38)(27,"label",28),o.nrm(28,"system-label",39),o.k0s(),o.j41(29,"system-input-radio-button-group",40),o.bIt("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.Njj(i.setTrackByMethod(t))})),o.k0s()()()()()()(),o.j41(30,"div",22)(31,"system-section",41)(32,"div",42)(33,"div",43),o.DNE(34,Ee,5,5,"ng-container",44),o.k0s()()()()}if(2&e){const e=o.XpG();o.R7$(),o.Y8G("alwaysExpanded",!0),o.R7$(8),o.R50("ngModel",e.element.content),o.R7$(5),o.R50("ngModel",e.element.attributes.href),o.R7$(2),o.R50("ngModel",e.element.attributes["background-color"]),o.R7$(),o.R50("ngModel",e.element.attributes.color),o.R7$(2),o.R50("ngModel",e.element.attributes["border-radius"]),o.Y8G("suffix",e.spicePageBuilderService.defaultSuffix),o.R7$(5),o.R50("ngModel",e.element.attributes["text-align"]),o.Y8G("inputOptions",e.spicePageBuilderService.alignOptions),o.R7$(5),o.Y8G("ngModel",e.element.trackByMethod)("inputOptions",o.sMw(16,Le,o.lJ4(13,je),o.lJ4(14,Re),o.lJ4(15,_e))),o.R7$(2),o.Y8G("alwaysExpanded",!0),o.R7$(3),o.Y8G("ngForOf",e.attributesList)}}let Me=(()=>{class SpicePageBuilderElementButton extends j{constructor(e,t,i,s,n,l){super(e,i,s,n,l),this.domSanitizer=e,this.model=t,this.modal=i,this.injector=s,this.cdRef=n,this.spicePageBuilderService=l,this.attributesList=[{name:"href",type:"text"},{name:"rel",type:"text"},{name:"target",type:"text"},{name:"align",type:"text"},{name:"width",type:"textSuffix"},{name:"container-background-color",type:"color"},{name:"border",type:"text"},{name:"border-top",type:"text"},{name:"border-right",type:"text"},{name:"border-bottom",type:"text"},{name:"border-left",type:"text"},{name:"height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"inner-padding",type:"sides"},{name:"line-height",type:"textSuffix"},{name:"vertical-align",type:"text"},{name:"font-size",type:"textSuffix"},{name:"font-style",type:"text"},{name:"font-weight",type:"text"},{name:"letter-spacing",type:"textSuffix"},{name:"text-decoration",type:"text"},{name:"text-transform",type:"text"},{name:"css-class",type:"text"}],this.model.module="EmailTrackingLinks"}handleEditResponse(e){this.element.content=e.content,this.element.trackingLink=e.trackingLink,this.element.trackByMethod=e.trackByMethod,super.handleEditResponse(e)}generateStyle(){super.generateStyle(["width","border","border-top","border-right","border-bottom","border-left","border-radius","height","line-height","vertical-align","font-size","font-style","font-weight","text-align","letter-spacing","text-decoration","text-transform","background-color","align","color"])}setTrackByMethod(e){this.element.trackByMethod=e,"id"==e?this.openTrackingLinkSelectModal():"url"==e?this.element.trackingLink="":delete this.element.trackingLink}openTrackingLinkSelectModal(){const e=[{value:"select",display:"LBL_SELECT"},{value:"new",display:"LBL_NEW"},{value:void 0,display:"LBL_CANCEL"}];this.modal.prompt("input","LBL_MAKE_SELECTION","LBL_TRACKINGLINKS","shade","select",e,"button").subscribe((e=>{if(e)switch(e){case"new":const e={name:this.element.content,url:this.element.attributes.href};this.model.addModel("",null,e,!0).subscribe((e=>{this.element.trackingLink=e.id}));break;case"select":this.modal.openModal("ObjectModalModuleLookup").subscribe((e=>{e.instance.module="EmailTrackingLinks",e.instance.multiselect=!1,e.instance.selectedItems.subscribe((e=>{this.element.trackingLink=e[0].id}))}))}}))}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderElementButton)(o.rXU(S.up),o.rXU(xe.g),o.rXU(m.y),o.rXU(o.zZn),o.rXU(o.gRc),o.rXU(x))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderElementButton,selectors:[["spice-page-builder-element-button"]],inputs:{element:"element"},features:[o.Jv_([xe.g]),o.Vt3],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_BUTTON"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-x-small"],["icon","move"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-x-small",3,"click"],["icon","edit"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-x-small",3,"click"],["icon","delete"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1"],[1,"slds-grid"],[1,"slds-form-element","slds-size--1-of-2","slds-p-horizontal--xxx-small"],[1,"slds-form-element__label"],["label","LBL_TEXT"],[1,"slds-form-element__control"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_URL"],["label","LBL_BACKGROUND_COLOR",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","ngModelChange"],["label","LBL_COLOR",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","ngModelChange"],["label","LBL_RADIUS",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","suffix","ngModelChange"],["label","LBL_TEXT_ALIGN"],[3,"ngModel","inputOptions","ngModelChange"],[1,"slds-form-element","slds-col","slds-grow-none"],["label","LBL_CLICKS_TRACKABLE"],[1,"spice-display-block",3,"ngModel","inputOptions","ngModelChange"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&o.DNE(0,ye,22,11,"div",0)(1,De,35,20,"ng-template",null,1,o.C5r),2&e){const e=o.sdS(2);o.Y8G("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.Sq,s.bT,s.B3,s.ux,s.e1,B.t,G.J,$.s,a.W,R.v,r.me,r.BC,r.vS,k.L,E.Fb,u,v,y],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementButton})();var Ce=i(82802);function Ie(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",2),o.bIt("mouseenter",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!1))})),o.j41(1,"div",3)(2,"div",4)(3,"div",5),o.nrm(4,"system-icon",6),o.k0s(),o.j41(5,"div",7)(6,"h2",8),o.nrm(7,"system-label",9),o.k0s()(),o.j41(8,"button",10),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),o.nrm(9,"system-button-icon",11),o.k0s()()(),o.j41(10,"article",12),o.bIt("dblclick",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.nrm(11,"div",13),o.k0s(),o.j41(12,"div",14)(13,"div",15)(14,"button",16),o.nrm(15,"system-button-icon",17),o.k0s(),o.j41(16,"button",18),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.nrm(17,"system-button-icon",19),o.k0s(),o.j41(18,"button",20),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.delete$.emit())})),o.nrm(19,"system-button-icon",21),o.k0s()()()()}if(2&e){const e=o.XpG();o.AVh("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),o.R7$(9),o.Y8G("inverse",!0),o.R7$(2),o.Y8G("innerHTML",e.sanitizedContent,o.npT)("ngStyle",e.style)}}function Xe(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",22)(1,"system-section",23)(2,"div",24)(3,"system-html-editor",25),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.element.content,t)||(i.element.content=t),o.Njj(t)})),o.k0s()()()()}if(2&e){const e=o.XpG();o.R7$(),o.Y8G("alwaysExpanded",!0),o.R7$(2),o.R50("ngModel",e.element.content)}}let we=(()=>{class SpicePageBuilderElementCode extends j{constructor(e,t,i,s,n,l){super(e,t,i,s,l),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=s,this.libloader=n,this.spicePageBuilderService=l,this.attributesList=[],this.beautifyLoaded=!1,this.sanitizedContent=""}ngOnInit(){super.ngOnInit(),this.sanitizeContent(),this.isEditMode&&this.loadBeatifyLibrary()}handleEditResponse(e){this.element.content=e.content,this.sanitizeContent(),super.handleEditResponse(e)}loadBeatifyLibrary(){this.libloader.loadLib("jsbeautify").subscribe((e=>{this.beautifyLoaded=!0,this.cdRef.detectChanges()}))}sanitizeContent(){this.sanitizedContent=this.domSanitizer.bypassSecurityTrustHtml(this.element.content)}beautify(){this.element.content=html_beautify(this.element.content,{indent_size:4,indent_char:" ",indent_with_tabs:!1,end_with_newline:!1,indent_level:0,preserve_newlines:!0,max_preserve_newlines:10,space_in_paren:!1,space_in_empty_paren:!1,unindent_chained_methods:!1,break_chained_methods:!1,keep_array_indentation:!1,unescape_strings:!1,wrap_line_length:100,e4x:!1,comma_first:!1,operator_position:"before-newline",indent_empty_lines:!1,templating:["auto"]}),this.cdRef.detectChanges()}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderElementCode)(o.rXU(S.up),o.rXU(m.y),o.rXU(o.zZn),o.rXU(o.gRc),o.rXU(Ce.b),o.rXU(x))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderElementCode,selectors:[["spice-page-builder-element-code"]],inputs:{element:"element"},features:[o.Vt3],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_HTML_CODE"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"innerHTML","ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[1,"slds-height_full"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1","spice-page-builder-text-editor",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&o.DNE(0,Ie,20,5,"div",0)(1,Xe,4,2,"ng-template",null,1,o.C5r),2&e){const e=o.sdS(2);o.Y8G("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.bT,s.B3,B.t,G.J,a.W,R.v,z.U,r.BC,r.vS,k.L,E.Fb],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementCode})();function Ne(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",2),o.bIt("mouseenter",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!1))})),o.j41(1,"div",3)(2,"div",4)(3,"div",5),o.nrm(4,"system-icon",6),o.k0s(),o.j41(5,"div",7)(6,"h2",8),o.nrm(7,"system-label",9),o.k0s()(),o.j41(8,"button",10),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),o.nrm(9,"system-button-icon",11),o.k0s()()(),o.j41(10,"article",12),o.bIt("dblclick",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.j41(11,"div",13)(12,"div",14),o.EFF(13),o.k0s(),o.nrm(14,"img",15),o.k0s()(),o.j41(15,"div",16)(16,"div",17)(17,"button",18),o.nrm(18,"system-button-icon",19),o.k0s(),o.j41(19,"button",20),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.nrm(20,"system-button-icon",21),o.k0s(),o.j41(21,"button",22),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.delete$.emit())})),o.nrm(22,"system-button-icon",23),o.k0s()()()()}if(2&e){const e=o.XpG();o.AVh("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),o.R7$(9),o.Y8G("inverse",!0),o.R7$(2),o.Y8G("ngStyle",e.style),o.R7$(),o.Y8G("title",e.element.content),o.R7$(),o.JRh(e.element.content)}}function Ve(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",47),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG().$implicit;return o.DH7(s.attributes[i.name],t)||(s.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG().$implicit;o.R50("ngModel",t.attributes[e.name]),o.Y8G("label",e.name)}}function $e(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",48),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG().$implicit;return o.DH7(s.attributes[i.name],t)||(s.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG().$implicit,i=o.XpG(3);o.R50("ngModel",t.attributes[e.name]),o.Y8G("label",e.name)("suffix",i.spicePageBuilderService.defaultSuffix)}}function Pe(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-sides",47),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG().$implicit;return o.DH7(s.attributes[i.name],t)||(s.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG().$implicit;o.R50("ngModel",t.attributes[e.name]),o.Y8G("label",e.name)}}function ze(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-color",47),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG().$implicit;return o.DH7(s.attributes[i.name],t)||(s.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG().$implicit;o.R50("ngModel",t.attributes[e.name]),o.Y8G("label",e.name)}}function Ye(e,t){if(1&e&&(o.qex(0,44),o.DNE(1,Ve,1,2,"spice-page-builder-input-text",45)(2,$e,1,3,"spice-page-builder-input-text",46)(3,Pe,1,2,"spice-page-builder-input-sides",45)(4,ze,1,2,"spice-page-builder-input-color",45),o.bVm()),2&e){const e=t.$implicit;o.Y8G("ngSwitch",e.type),o.R7$(),o.Y8G("ngSwitchCase","text"),o.R7$(),o.Y8G("ngSwitchCase","textSuffix"),o.R7$(),o.Y8G("ngSwitchCase","sides"),o.R7$(),o.Y8G("ngSwitchCase","color")}}function Te(e,t){if(1&e&&(o.qex(0),o.j41(1,"system-section",43)(2,"div",41),o.DNE(3,Ye,5,5,"ng-container",42),o.k0s()(),o.bVm()),2&e){const e=t.$implicit,i=o.XpG(3);o.R7$(),o.Y8G("titlelabel",e.attributes["css-class"])("alwaysExpanded",!0),o.R7$(2),o.Y8G("ngForOf",i.childrenAttributesList[e.attributes["css-class"]])}}function Oe(e,t){if(1&e&&(o.qex(0),o.DNE(1,Te,4,3,"ng-container",38),o.bVm()),2&e){const e=t.$implicit;o.R7$(),o.Y8G("ngForOf",e.children)}}function Fe(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",47),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function He(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",48),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function Ue(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-sides",47),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function Ae(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-color",47),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.element.attributes[i.name],t)||(s.element.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.element.attributes[e.name]),o.Y8G("label",e.name)}}function Je(e,t){if(1&e&&(o.qex(0,44),o.DNE(1,Fe,1,2,"spice-page-builder-input-text",45)(2,He,1,3,"spice-page-builder-input-text",46)(3,Ue,1,2,"spice-page-builder-input-sides",45)(4,Ae,1,2,"spice-page-builder-input-color",45),o.bVm()),2&e){const e=t.$implicit;o.Y8G("ngSwitch",e.type),o.R7$(),o.Y8G("ngSwitchCase","text"),o.R7$(),o.Y8G("ngSwitchCase","textSuffix"),o.R7$(),o.Y8G("ngSwitchCase","sides"),o.R7$(),o.Y8G("ngSwitchCase","color")}}function qe(e,t){if(1&e){const e=o.RV6();o.j41(0,"div")(1,"system-section",24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"div",28)(6,"label",29),o.nrm(7,"system-label",30),o.k0s(),o.j41(8,"div",31)(9,"input",32),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.element.content,t)||(i.element.content=t),o.Njj(t)})),o.k0s()()(),o.j41(10,"div",28)(11,"label",29),o.nrm(12,"system-label",33),o.k0s(),o.j41(13,"div",31)(14,"input",32),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.element.href,t)||(i.element.href=t),o.Njj(t)})),o.k0s()()()(),o.j41(15,"div",27)(16,"div",28)(17,"label",29),o.nrm(18,"system-label",34),o.k0s(),o.j41(19,"div",31)(20,"input",35),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.count,t)||(i.count=t),o.Njj(t)})),o.k0s(),o.EFF(21,"Min 1 - Max 100 "),o.k0s()(),o.j41(22,"div",28)(23,"label",29),o.nrm(24,"system-label",36),o.k0s(),o.j41(25,"div",31)(26,"system-input-radio-button-group",37),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG();return o.DH7(i.element.showDate,t)||(i.element.showDate=t),o.Njj(t)})),o.k0s()()()()()()(),o.DNE(27,Oe,2,1,"ng-container",38),o.k0s(),o.j41(28,"div")(29,"system-section",39)(30,"div",40)(31,"div",41),o.DNE(32,Je,5,5,"ng-container",42),o.k0s()()()()}if(2&e){const e=o.XpG();o.R7$(),o.Y8G("alwaysExpanded",!0),o.R7$(8),o.R50("ngModel",e.element.content),o.R7$(5),o.R50("ngModel",e.element.href),o.R7$(6),o.R50("ngModel",e.count),o.R7$(6),o.R50("ngModel",e.element.showDate),o.Y8G("inputOptions",e.dateHiddenOptions),o.R7$(),o.Y8G("ngForOf",e.element.children[0].children[0].children),o.R7$(2),o.Y8G("alwaysExpanded",!0),o.R7$(3),o.Y8G("ngForOf",e.attributesList)}}let Ke=(()=>{class SpicePageBuilderElementRSS extends j{constructor(e,t,i,s,n){super(e,t,i,s,n),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=s,this.spicePageBuilderService=n,this.attributesList=[{name:"align",type:"text"},{name:"width",type:"textSuffix"},{name:"border",type:"text"},{name:"border-top",type:"text"},{name:"border-right",type:"text"},{name:"border-bottom",type:"text"},{name:"border-left",type:"text"},{name:"height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"line-height",type:"textSuffix"},{name:"vertical-align",type:"text"},{name:"font-size",type:"textSuffix"},{name:"font-style",type:"text"},{name:"font-weight",type:"text"},{name:"letter-spacing",type:"textSuffix"},{name:"text-decoration",type:"text"},{name:"text-transform",type:"text"},{name:"css-class",type:"text"}],this.childrenAttributesList={"rss-header":[{name:"align",type:"text"},{name:"inner-padding",type:"sides"},{name:"background-color",type:"color"},{name:"color",type:"color"},{name:"font-size",type:"textSuffix"},{name:"line-height",type:"textSuffix"},{name:"font-weight",type:"text"},{name:"padding",type:"sides"},{name:"container-background-color",type:"color"}],"rss-date":[{name:"font-size",type:"textSuffix"},{name:"line-height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"container-background-color",type:"color"}],"rss-description":[{name:"font-size",type:"textSuffix"},{name:"line-height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"container-background-color",type:"color"}],"rss-image":[{name:"align",type:"text"},{name:"width",type:"text"},{name:"height",type:"text"},{name:"padding",type:"sides"},{name:"fluid-on-mobile",type:"text"}]},this.dateHiddenOptions=[{label:"LBL_HIDDEN",value:"0"},{label:"LBL_VISIBLE",value:"1"}]}set count(e){+e<1&&(e="1"),+e>100&&(e="100"),this.element.count=e}get count(){return this.element.count}handleEditResponse(e){this.element.content=e.content,this.element.href=e.href,this.element.count=e.count,this.element.showDate=e.showDate,this.element.children=e.children,super.handleEditResponse(e)}generateStyle(){super.generateStyle(["width","background-color","border","border-top","border-right","border-bottom","border-left","height","padding","css-class"])}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderElementRSS)(o.rXU(S.up),o.rXU(m.y),o.rXU(o.zZn),o.rXU(o.gRc),o.rXU(x))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderElementRSS,selectors:[["spice-page-builder-element-rss"]],inputs:{element:"element"},features:[o.Vt3],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_RSS_FEED"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[1,"slds-grid","slds-grid--vertical","slds-grid--vertical-align-center","slds-grid--align-center",3,"ngStyle"],[1,"slds-p-horizontal--xx-small","slds-truncate",3,"title"],["alt","","src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAaVBMVEVHcEz/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/////pAD/04H/9eP/qg7/vkf/36P/+vD/sB7/79H/ujr//vz/6L7//ff/tCn/owD/x2D/2JD/0Xz/w1X/ymn/zW8DMx5KAAAADHRSTlMAdwb+UdH3I+mM+caVTWFiAAAEpUlEQVRo3r2a2ZaiMBCG06MiTDNFIOy7vv9DTqBbTWUjCJg+xxtoP2r/MSFEWNdz8O17p3DTOnn+d3C+Eu36cw0uHr8n3GN5l0CHuQb+ToDf5auY82VfxLQuZ+yqLz88YPlff0TG3/CQ9VegHMWYKM94+OFhy/+Ny/USHrguPzkWHMkIT8FsiH8oJPSv2BDgq22nzz0pAYoIFNFwv3VJ0WRxCO1eKB6Vs/eCRP+mVaYprVjfFVm8i03eGXnrB8Ix5fRZ06ofm3g7JyDfGsgvavqgVZRw322CfBPfCHmsOu+TTfb4xFuEzJyhed8cj5xcINx1lHFz3qxHEjpBZnOq7k3MCgi3503MKghf1fgGZi2EO61YnQKrIbwh9BlsgNwppWldLnLycZ0xIiSMs6YpivEWsYqmVp+xVcYgyNzrp2bPcUXXV9RsVJ68DXnRWv4XNx3LawMljdzTjNgu8oaVjb3JHtbAHhC+uOuyrtIHKC9gH8hsT5wwLYaOu0EmTlj0Okx63xEyY3TW1MOekAmTVGoKlC5JRlakO8R3qlL6eFcIxzSsVG1ZB3lou3XGlMOqBlkMw6TtJmlnJEFRKdG/r271dUpzFpkFF2SKy9IR3pon5Sy4tJw2HuRkpvbatw2tOo8KPaeTA5Nb+9jCZEwn6aD5/1GmsHjD+C3L/KYZUJDIlGjjjM9valW3MiVNYJuQKKtEGeoKJTdPZEe1olEorRwXtl0SaYZ6hzO5NlaLu+7SDPWhdHPYGnGn6KCY4Rt6R3Fn1XbyUG8z3MdSQ+Er4i4ZB5YblF2ZS3kKBQ5+FTuKu0naTYJLaxGVKXfxttIQe2IWXFqFIlOksOhNIRZhV/R0kQINvqeDleMXwkYjhKToY4fpTVma8YWqUCqcyTHKsFJnyhJEN9RxW4ckXTJlWa1ohrrU1lHsa003dtHCylDHbR2KdKFPuuguiPva2tZ79EqpTmIncQfhUFu6lGTKAK7F2AL+VU2iSHOQod4Tu0B4uSc3rvOSTJiHfWkubZxgauiJTr0zWv/8qsaeYxek/oHqAXCt9IuWcE0tPFb6fDEEqa2j2EMn2qn4iyhaJ5fHLujb+k2EZNTmL7Kkp14dUepS+HmRMyMrBJpcMw8fHrN0qXasLa2FWDqEXMNSPYhfBZn4dFSqR2LpdWpR4NIWez6gUhktEL0hgil4QkXG/OrNEJwj4rtKpjMFhR7zpaAgSGL4taZ+pbGxtFFWUNxARUh7MwmuW7ucqr2oWgojBAYT5NlYYSwNXmk7pCfaLRBjqmJPRpvcFZpSFWcN2xD4KVUN8wl3YpxeLiksJgs0qemBmTG9VhXjnKq5qVIiY2NZ11ZsD4wiil8iyMm9QaopKH5XK2Z3KT7XSdykWWr1aj2INQ+FmDZjK27S+M5D6/FqXeuLrkWFIiT9yRc3zuzjV1t0wnfhvLuDuHEWOAqJ5wOjdisUivFCGIibmTZJZCimAZYveGfdRrlW3L0K5R69lpippgvTZnngJFPlrYnHcrgQfGqr/OBN/9mQDx1f+MhBjM8cKfnM4ZiPHPP5ObC0f8zPuqNX+5phOOF18fYiGA6RHXkc7j/PiO/oPEbyIgAAAABJRU5ErkJggg=="],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow","slds-m-bottom--small",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1"],[1,"slds-grid"],[1,"slds-form-element","slds-size--1-of-2","slds-p-horizontal--xxx-small"],[1,"slds-form-element__label"],["label","LBL_TEXT"],[1,"slds-form-element__control"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_URL"],["label","LBL_COUNT"],["type","text","max","100","min","1",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_DATE_VISIBILITY"],[3,"ngModel","inputOptions","ngModelChange"],[4,"ngFor","ngForOf"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"spice-collapsible-tab-grow","slds-m-bottom--small",3,"titlelabel","alwaysExpanded"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&o.DNE(0,Ne,23,6,"div",0)(1,qe,33,9,"ng-template",null,1,o.C5r),2&e){const e=o.sdS(2);o.Y8G("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.Sq,s.bT,s.B3,s.ux,s.e1,B.t,G.J,$.s,a.W,R.v,r.me,r.BC,r.vS,k.L,E.Fb,u,v,y],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementRSS})();const We=["dropList"];function Qe(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-element-text",6),o.bIt("delete$",(function(){o.eBV(e);const t=o.XpG().$implicit,i=o.XpG();return o.Njj(i.onContentDelete(t))})),o.k0s()}if(2&e){const e=o.XpG().$implicit;o.Y8G("element",e)("cdkDragData",e)}}function Ze(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-element-image",6),o.bIt("delete$",(function(){o.eBV(e);const t=o.XpG().$implicit,i=o.XpG();return o.Njj(i.onContentDelete(t))})),o.k0s()}if(2&e){const e=o.XpG().$implicit;o.Y8G("element",e)("cdkDragData",e)}}function et(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-element-button",6),o.bIt("delete$",(function(){o.eBV(e);const t=o.XpG().$implicit,i=o.XpG();return o.Njj(i.onContentDelete(t))})),o.k0s()}if(2&e){const e=o.XpG().$implicit;o.Y8G("element",e)("cdkDragData",e)}}function tt(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-element-divider",6),o.bIt("delete$",(function(){o.eBV(e);const t=o.XpG().$implicit,i=o.XpG();return o.Njj(i.onContentDelete(t))})),o.k0s()}if(2&e){const e=o.XpG().$implicit;o.Y8G("element",e)("cdkDragData",e)}}function it(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-element-spacer",6),o.bIt("delete$",(function(){o.eBV(e);const t=o.XpG().$implicit,i=o.XpG();return o.Njj(i.onContentDelete(t))})),o.k0s()}if(2&e){const e=o.XpG().$implicit;o.Y8G("element",e)("cdkDragData",e)}}function st(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-element-code",6),o.bIt("delete$",(function(){o.eBV(e);const t=o.XpG().$implicit,i=o.XpG();return o.Njj(i.onContentDelete(t))})),o.k0s()}if(2&e){const e=o.XpG().$implicit;o.Y8G("element",e)("cdkDragData",e)}}function nt(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-element-rss",6),o.bIt("delete$",(function(){o.eBV(e);const t=o.XpG().$implicit,i=o.XpG();return o.Njj(i.onContentDelete(t))})),o.k0s()}if(2&e){const e=o.XpG().$implicit;o.Y8G("element",e)("cdkDragData",e)}}function lt(e,t){if(1&e&&(o.qex(0,4),o.DNE(1,Qe,1,2,"spice-page-builder-element-text",5)(2,Ze,1,2,"spice-page-builder-element-image",5)(3,et,1,2,"spice-page-builder-element-button",5)(4,tt,1,2,"spice-page-builder-element-divider",5)(5,it,1,2,"spice-page-builder-element-spacer",5)(6,st,1,2,"spice-page-builder-element-code",5)(7,nt,1,2,"spice-page-builder-element-rss",5),o.bVm()),2&e){const e=t.$implicit;o.Y8G("ngSwitch",e.tagName),o.R7$(),o.Y8G("ngSwitchCase","text"),o.R7$(),o.Y8G("ngSwitchCase","image"),o.R7$(),o.Y8G("ngSwitchCase","button"),o.R7$(),o.Y8G("ngSwitchCase","divider"),o.R7$(),o.Y8G("ngSwitchCase","spacer"),o.R7$(),o.Y8G("ngSwitchCase","raw"),o.R7$(),o.Y8G("ngSwitchCase","rss")}}function ot(e,t){if(1&e&&(o.j41(0,"div",7)(1,"div",8),o.nrm(2,"system-label",9),o.k0s()()),2&e){const e=o.XpG();o.xc7("height",e.spicePageBuilderService.defaultPlaceholderHeight,"px")}}let rt=(()=>{class SpicePageBuilderElementColumn{constructor(e,t,i){this.spicePageBuilderService=e,this.modal=t,this.cdRef=i,this.dragEntered=!1,this.style={}}ngOnInit(){this.generateStyle()}ngAfterViewInit(){this.spicePageBuilderService.addDropListToGroup(this.dropList)}trackByFn(e,t){return e}contentPredicate(e){return"section"!=e.data.tagName}generateStyle(){this.style={"background-color":this.column.attributes["background-color"],border:this.column.attributes.border,"border-top":this.column.attributes["border-top"],"border-right":this.column.attributes["border-right"],"border-bottom":this.column.attributes["border-bottom"],"border-left":this.column.attributes["border-left"],"border-radius":this.column.attributes["border-radius"],width:this.column.attributes.width,"vertical-align":this.column.attributes["vertical-align"],padding:this.column.attributes.padding}}onDrop(e){if(e.previousContainer!=e.container)if(this.spicePageBuilderService.dragPlaceholderNode&&e.previousContainer.element.nativeElement.contains(this.spicePageBuilderService.dragPlaceholderNode)&&(e.previousContainer.element.nativeElement.removeChild(this.spicePageBuilderService.dragPlaceholderNode),this.spicePageBuilderService.dragPlaceholderNode=void 0),-1==e.previousContainer.id.indexOf("panel-drop-list")&&(e.previousContainer.data.children=e.previousContainer.data.children.filter((t=>t!=e.item.data))),"image"===e.item.data.tagName)this.spicePageBuilderService.openMediaFilePicker().subscribe((t=>{if(t){const i=JSON.parse(JSON.stringify(e.item.data));i.attributes.src=t,delete i.icon,this.column.children.splice(e.currentIndex,0,i),this.cdRef.detectChanges()}}));else{const t=JSON.parse(JSON.stringify(e.item.data));delete t.icon,this.column.children.splice(e.currentIndex,0,t)}else(0,E.HD)(this.column.children,e.previousIndex,e.currentIndex);this.spicePageBuilderService.emitData(),this.dragEntered=!1}onDragExit(e){this.dragEntered=!1}onDragEnter(e){this.dragEntered=!0}onContentDelete(e){this.column.children=this.column.children.filter((t=>t!=e)),this.spicePageBuilderService.emitData()}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderElementColumn)(o.rXU(x),o.rXU(m.y),o.rXU(o.gRc))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderElementColumn,selectors:[["spice-page-builder-element-column"]],viewQuery:function(e,t){if(1&e&&o.GBs(We,5,E.O7),2&e){let e;o.mGM(e=o.lsd())&&(t.dropList=e.first)}},inputs:{column:"column"},decls:4,vars:6,consts:[["cdkDropList","",1,"slds-grid","slds-grid--vertical","spice-page-builder-renderer-drop-list",3,"ngStyle","cdkDropListEnterPredicate","cdkDropListData","cdkDropListEntered","cdkDropListExited","cdkDropListDropped"],["dropList","cdkDropList"],[3,"ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],["class","slds-align--absolute-center slds-size--1-of-1",3,"height",4,"ngIf"],[3,"ngSwitch"],["cdkDrag","","class","slds-grid slds-grow slds-drag--preview","style","width: 100%",3,"element","cdkDragData","delete$",4,"ngSwitchCase"],["cdkDrag","",1,"slds-grid","slds-grow","slds-drag--preview",2,"width","100%",3,"element","cdkDragData","delete$"],[1,"slds-align--absolute-center","slds-size--1-of-1"],[1,"slds-align--absolute-center","slds-height_full","slds-size--1-of-1","slds-theme--shade","slds-text-title--caps","slds-truncate"],["label","MSG_DROP_CONTENT_HERE"]],template:function(e,t){1&e&&(o.j41(0,"div",0,1),o.bIt("cdkDropListEntered",(function(e){return t.onDragEnter(e)}))("cdkDropListExited",(function(e){return t.onDragExit(e)}))("cdkDropListDropped",(function(e){return t.onDrop(e)})),o.DNE(2,lt,8,8,"ng-container",2)(3,ot,3,2,"div",3),o.k0s()),2&e&&(o.Y8G("ngStyle",t.style)("cdkDropListEnterPredicate",t.contentPredicate)("cdkDropListData",t.column),o.R7$(2),o.Y8G("ngForOf",t.column.children)("ngForTrackBy",t.trackByFn),o.R7$(),o.Y8G("ngIf",!t.dragEntered&&0==(null==t.column.children?null:t.column.children.length)))},dependencies:[s.Sq,s.bT,s.B3,s.ux,s.e1,a.W,E.O7,E.T1,V,Z,ce,fe,Me,we,Ke],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementColumn})();function at(e,t){if(1&e&&o.nrm(0,"spice-page-builder-element-column",20),2&e){const e=t.$implicit,i=o.XpG(2);o.xc7("width",100/i.section.children.length,"%"),o.Y8G("column",e)}}const ct=()=>["section","content"];function dt(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",2),o.bIt("mouseenter",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!0))}))("mouseleave",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.setIsMouseIn(!1))})),o.j41(1,"div",3)(2,"div",4)(3,"div",5),o.nrm(4,"system-icon",6),o.k0s(),o.j41(5,"div",7)(6,"h2",8),o.nrm(7,"system-label",9),o.k0s()(),o.j41(8,"button",10),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.saveAsCustom())})),o.nrm(9,"system-button-icon",11),o.k0s(),o.j41(10,"button",12),o.nrm(11,"system-button-icon",13),o.k0s(),o.j41(12,"button",14),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.edit())})),o.nrm(13,"system-button-icon",15),o.k0s(),o.j41(14,"button",16),o.bIt("click",(function(){o.eBV(e);const t=o.XpG();return o.Njj(t.delete$.emit())})),o.nrm(15,"system-button-icon",17),o.k0s()()(),o.j41(16,"article",18),o.DNE(17,at,1,3,"spice-page-builder-element-column",19),o.k0s()()}if(2&e){const e=o.XpG();o.AVh("slds-is-hovered",o.lJ4(9,ct).indexOf(e.spicePageBuilderService.isMouseIn)>-1),o.R7$(9),o.Y8G("inverse",!0),o.R7$(2),o.Y8G("inverse",!0),o.R7$(2),o.Y8G("inverse",!0),o.R7$(2),o.Y8G("inverse",!0),o.R7$(),o.Y8G("ngStyle",e.style),o.R7$(),o.Y8G("ngForOf",e.section.children)("ngForTrackBy",e.trackByFn)}}function ut(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",29),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.section.attributes[i.name],t)||(s.section.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.section.attributes[e.name]),o.Y8G("label",e.name)}}function pt(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-text",30),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.section.attributes[i.name],t)||(s.section.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.section.attributes[e.name]),o.Y8G("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function mt(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-sides",29),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.section.attributes[i.name],t)||(s.section.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.section.attributes[e.name]),o.Y8G("label",e.name)}}function gt(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-input-color",29),o.mxI("ngModelChange",(function(t){o.eBV(e);const i=o.XpG().$implicit,s=o.XpG(2);return o.DH7(s.section.attributes[i.name],t)||(s.section.attributes[i.name]=t),o.Njj(t)})),o.k0s()}if(2&e){const e=o.XpG().$implicit,t=o.XpG(2);o.R50("ngModel",t.section.attributes[e.name]),o.Y8G("label",e.name)}}function bt(e,t){if(1&e&&(o.qex(0,26),o.DNE(1,ut,1,2,"spice-page-builder-input-text",27)(2,pt,1,3,"spice-page-builder-input-text",28)(3,mt,1,2,"spice-page-builder-input-sides",27)(4,gt,1,2,"spice-page-builder-input-color",27),o.bVm()),2&e){const e=t.$implicit;o.Y8G("ngSwitch",e.type),o.R7$(),o.Y8G("ngSwitchCase","text"),o.R7$(),o.Y8G("ngSwitchCase","textSuffix"),o.R7$(),o.Y8G("ngSwitchCase","sides"),o.R7$(),o.Y8G("ngSwitchCase","color")}}function ht(e,t){if(1&e&&(o.j41(0,"div",21)(1,"system-section",22)(2,"div",23)(3,"div",24),o.DNE(4,bt,5,5,"ng-container",25),o.k0s()()()()),2&e){const e=o.XpG();o.R7$(),o.Y8G("alwaysExpanded",!0),o.R7$(3),o.Y8G("ngForOf",e.attributesList)}}let ft=(()=>{class SpicePageBuilderElementSection{constructor(e,t){this.spicePageBuilderService=e,this.cdRef=t,this.isEditMode=!1,this.delete$=new o.bkB,this.style={},this.attributesList=[{name:"background-color",type:"color"},{name:"color",type:"color"},{name:"padding",type:"sides"},{name:"css-class",type:"text"},{name:"border",type:"text"},{name:"border-top",type:"text"},{name:"border-right",type:"text"},{name:"border-bottom",type:"text"},{name:"border-left",type:"text"},{name:"background-position",type:"text"},{name:"background-repeat",type:"text"},{name:"background-size",type:"text"},{name:"background-url",type:"text"}]}ngOnInit(){this.generateStyle()}trackByFn(e,t){return e}generateStyle(){this.style={"background-color":this.section.attributes["background-color"],color:this.section.attributes.color,padding:this.section.attributes.padding,"css-class":this.section.attributes["css-class"],border:this.section.attributes.border,"border-top":this.section.attributes["border-top"],"border-right":this.section.attributes["border-right"],"border-bottom":this.section.attributes["border-bottom"],"border-left":this.section.attributes["border-left"],"background-position":this.section.attributes["background-position"],"background-repeat":this.section.attributes["background-repeat"],"background-size":this.section.attributes["background-size"],"background-url":this.section.attributes["background-url"]}}setIsMouseIn(e){this.spicePageBuilderService.isMouseIn=e?"section":void 0}saveAsCustom(){this.spicePageBuilderService.saveCustomElement(this.section,"section")}edit(){this.spicePageBuilderService.openEditModal(this.section).subscribe({next:e=>{e&&this.handleEditResponse(e)}})}handleEditResponse(e){this.section.attributes=e.attributes,this.generateStyle(),this.spicePageBuilderService.emitData(),this.cdRef.detectChanges()}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderElementSection)(o.rXU(x),o.rXU(o.gRc))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderElementSection,selectors:[["spice-page-builder-element-section"]],inputs:{isEditMode:"isEditMode",section:"section"},outputs:{delete$:"delete$"},decls:3,vars:2,consts:[["tabindex","-1","class","spice-drop-zone",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label","spice-drop-zone-label-bottom"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","full_width_view","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_SECTION"],["system-title","LBL_SAVE",1,"slds-button","slds-button--icon",3,"click"],["icon","save",3,"inverse"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button--icon","slds-m-left--none"],["icon","move",3,"inverse"],["system-title","LBL_EDIT",1,"slds-button","slds-button--icon","slds-m-left--none",3,"click"],["icon","edit",3,"inverse"],["system-title","LBL_DELETE",1,"slds-button","slds-button--icon","slds-m-right--xx-small","slds-m-left--none",3,"click"],["icon","delete",3,"inverse"],[1,"spice-drop-zone-content","slds-grid",3,"ngStyle"],["class","spice-display-block slds-grow slds-height_full",3,"column","width",4,"ngFor","ngForOf","ngForTrackBy"],[1,"spice-display-block","slds-grow","slds-height_full",3,"column"],[2,"height","100%"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&o.DNE(0,dt,18,10,"div",0)(1,ht,5,2,"ng-template",null,1,o.C5r),2&e){const e=o.sdS(2);o.Y8G("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[s.Sq,s.bT,s.B3,s.ux,s.e1,B.t,G.J,a.W,R.v,r.BC,r.vS,k.L,E.Fb,u,v,y,rt],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementSection})();const xt=["dropList"];function vt(e,t){if(1&e){const e=o.RV6();o.j41(0,"spice-page-builder-element-section",4),o.bIt("delete$",(function(){const t=o.eBV(e).$implicit,i=o.XpG();return o.Njj(i.onSectionDelete(t))})),o.k0s()}if(2&e){const e=t.$implicit;o.Y8G("ngStyle",e.style)("cdkDragData",e)("section",e)}}function yt(e,t){1&e&&(o.j41(0,"div",5),o.nrm(1,"system-label",6),o.k0s())}let St=(()=>{class SpicePageBuilderElementBody{constructor(e){this.spicePageBuilderService=e,this.dragEntered=!1,this.style={}}ngOnInit(){this.generateStyle()}ngAfterViewInit(){this.spicePageBuilderService.addDropListToGroup(this.dropList)}trackByFn(e,t){return e}sectionPredicate(e){return"section"==e.data.tagName}generateStyle(){this.style={"background-color":this.body.attributes["background-color"],width:this.body.attributes.width}}onSectionDelete(e){this.body.children=this.body.children.filter((t=>t!=e)),this.spicePageBuilderService.emitData()}onDrop(e){if(e.previousContainer!=e.container){this.spicePageBuilderService.dragPlaceholderNode&&e.previousContainer.element.nativeElement.contains(this.spicePageBuilderService.dragPlaceholderNode)&&(e.previousContainer.element.nativeElement.removeChild(this.spicePageBuilderService.dragPlaceholderNode),this.spicePageBuilderService.dragPlaceholderNode=void 0);const t=JSON.parse(JSON.stringify(e.item.data));this.body.children.splice(e.currentIndex,0,t),this.dragEntered=!1}else(0,E.HD)(this.body.children,e.previousIndex,e.currentIndex);this.spicePageBuilderService.emitData()}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderElementBody)(o.rXU(x))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderElementBody,selectors:[["spice-page-builder-element-body"]],viewQuery:function(e,t){if(1&e&&o.GBs(xt,5,E.O7),2&e){let e;o.mGM(e=o.lsd())&&(t.dropList=e.first)}},inputs:{body:"body"},decls:4,vars:6,consts:[["cdkDropList","",1,"spice-page-builder-renderer-drop-list",2,"min-height","100%","width","100%",3,"ngStyle","cdkDropListEnterPredicate","cdkDropListData","cdkDropListEntered","cdkDropListExited","cdkDropListDropped"],["dropList","cdkDropList"],["cdkDrag","","class","spice-display-block slds-drag--preview",3,"ngStyle","cdkDragData","section","delete$",4,"ngFor","ngForOf","ngForTrackBy"],["class","slds-align--absolute-center slds-height_full slds-size--1-of-1 slds-text-title--caps slds-truncate",4,"ngIf"],["cdkDrag","",1,"spice-display-block","slds-drag--preview",3,"ngStyle","cdkDragData","section","delete$"],[1,"slds-align--absolute-center","slds-height_full","slds-size--1-of-1","slds-text-title--caps","slds-truncate"],["label","LBL_DROP_SECTION_HERE"]],template:function(e,t){1&e&&(o.j41(0,"div",0,1),o.bIt("cdkDropListEntered",(function(){return t.dragEntered=!0}))("cdkDropListExited",(function(){return t.dragEntered=!1}))("cdkDropListDropped",(function(e){return t.onDrop(e)})),o.DNE(2,vt,1,3,"spice-page-builder-element-section",2)(3,yt,2,0,"div",3),o.k0s()),2&e&&(o.Y8G("ngStyle",t.style)("cdkDropListEnterPredicate",t.sectionPredicate)("cdkDropListData",t.body),o.R7$(2),o.Y8G("ngForOf",t.body.children)("ngForTrackBy",t.trackByFn),o.R7$(),o.Y8G("ngIf",!t.dragEntered&&0==(null==t.body.children?null:t.body.children.length)))},dependencies:[s.Sq,s.bT,s.B3,a.W,E.O7,E.T1,ft],encapsulation:2,changeDetection:0})}return SpicePageBuilderElementBody})(),Bt=(()=>{class SpicePageBuilderRenderer{constructor(e){this.spicePageBuilderService=e}ngOnInit(){this.setBodyElement()}trackByFn(e,t){return e}setBodyElement(){this.spicePageBuilderService.page&&this.spicePageBuilderService.page.children&&(this.body=this.spicePageBuilderService.page.children[0])}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderRenderer)(o.rXU(x))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderRenderer,selectors:[["spice-page-builder-renderer"]],decls:2,vars:1,consts:[[1,"slds-grid","slds-grid--align-center","slds-scrollable--y","slds-height_full","slds-p-around--large",2,"background-color","#ca1b21ea"],[2,"box-shadow","0 0 8px #666",3,"body"]],template:function(e,t){1&e&&(o.j41(0,"div",0),o.nrm(1,"spice-page-builder-element-body",1),o.k0s()),2&e&&(o.R7$(),o.Y8G("body",t.body))},dependencies:[St],encapsulation:2,changeDetection:0})}return SpicePageBuilderRenderer})();var Gt=i(18521),kt=i(32130);function Et(e,t){if(1&e&&o.nrm(0,"div",13),2&e){const e=t.last;o.xc7("border-right",e?0:"2px solid #ca1b21")}}function jt(e,t){if(1&e&&(o.j41(0,"div",9)(1,"div"),o.EFF(2),o.nrm(3,"system-label",10),o.k0s(),o.j41(4,"div",11),o.DNE(5,Et,1,2,"div",12),o.k0s()()),2&e){const e=t.$implicit,i=o.XpG();o.Y8G("cdkDragData",e),o.R7$(2),o.SpI(" ",null==e.children?null:e.children.length," "),o.R7$(3),o.Y8G("ngForOf",e.children)("ngForTrackBy",i.trackByFn)}}function Rt(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",14)(1,"div"),o.EFF(2),o.k0s(),o.j41(3,"div",15),o.nrm(4,"system-utility-icon",16),o.j41(5,"button",17),o.bIt("click",(function(){const t=o.eBV(e).$implicit,i=o.XpG();return o.Njj(i.spicePageBuilderService.deleteCustomElement(t.id,"section"))})),o.nrm(6,"system-utility-icon",18),o.k0s()()()}if(2&e){const e=t.$implicit;o.Y8G("cdkDragData",e.content),o.R7$(2),o.SpI(" ",e.name," ")}}function _t(e,t){if(1&e&&(o.j41(0,"div",19)(1,"div",20),o.nrm(2,"system-utility-icon",21),o.j41(3,"div"),o.nrm(4,"system-label",22),o.k0s()()()),2&e){const e=t.$implicit;o.Y8G("cdkDragData",e)("title",e.tagName),o.R7$(2),o.Y8G("icon",e.icon),o.R7$(2),o.Y8G("label",e.label)}}function Lt(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",23)(1,"div",20),o.nrm(2,"system-utility-icon",16),o.j41(3,"button",17),o.bIt("click",(function(){const t=o.eBV(e).$implicit,i=o.XpG();return o.Njj(i.spicePageBuilderService.deleteCustomElement(t.id,"item"))})),o.nrm(4,"system-utility-icon",18),o.k0s(),o.j41(5,"div"),o.nrm(6,"system-label",22),o.k0s()()()}if(2&e){const e=t.$implicit;o.Y8G("cdkDragData",e.content)("title",e.name),o.R7$(6),o.Y8G("label",e.name)}}let Dt=(()=>{class SpicePageBuilderPanel{constructor(e,t){this.spicePageBuilderService=e,this.cdRef=t,this.customSections=[],this.customItems=[],this.sections=[]}ngOnInit(){this.spicePageBuilderService.loadCustomElements(),this.generateSections()}ngAfterViewInit(){this.cdRef.detectChanges()}generateSections(){let e=1;for(;e<=4;){let t=1,i=[];for(;t<=e;)i.push(JSON.parse(JSON.stringify(this.spicePageBuilderService.panelDefaultColumn))),t++;const s=JSON.parse(JSON.stringify(this.spicePageBuilderService.panelDefaultSection));s.children=i,this.sections.push(s),e++}}trackByFn(e,t){return e}noReturnPredicate(){return!1}onDragExit(e){const t=e.item.getPlaceholderElement().cloneNode(!0);this.spicePageBuilderService.dragPlaceholderNode=t,e.container.element.nativeElement.insertBefore(t,e.item.getPlaceholderElement())}onDragEnter(e){this.spicePageBuilderService.dragPlaceholderNode&&e.container.element.nativeElement.contains(this.spicePageBuilderService.dragPlaceholderNode)&&(e.container.element.nativeElement.removeChild(this.spicePageBuilderService.dragPlaceholderNode),this.spicePageBuilderService.dragPlaceholderNode=void 0)}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderPanel)(o.rXU(x),o.rXU(o.gRc))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderPanel,selectors:[["spice-page-builder-panel"]],inputs:{customSections:"customSections",customItems:"customItems"},decls:9,vars:13,consts:[[1,"slds-grid","slds-grid--vertical","slds-height_full","slds-p-around--x-small","slds-scrollable--y",3,"system-overlay-loading-spinner"],["titlelabel","LBL_SECTIONS",1,"spice-collapsible-tab-grow",2,"max-height","50%","height","initial"],["cdkDropList","","cdkDropListSortingDisabled","",1,"slds-scrollable--y","slds-grid","slds-size--1-of-1","slds-grid--vertical","slds-height_full","slds-p-bottom--small","spice-page-builder-panel-drop-list",3,"cdkDropListEnterPredicate","cdkDropListData","cdkDropListEntered","cdkDropListExited"],["cdkDrag","","class","slds-grow slds-p-around--xx-small slds-grid slds-grid--vertical slds-drag--preview spice-drag-placeholder-visible",3,"cdkDragData",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","","class","slds-grow slds-p-around--xx-small slds-grid slds-grid--vertical slds-drag--preview spice-drag-placeholder-visible spice-hover-display-children",3,"cdkDragData",4,"ngFor","ngForOf"],["titlelabel","LBL_CONTENT_ELEMENTS",1,"spice-collapsible-tab-grow",2,"max-height","50%","height","initial"],["cdkDropList","","cdkDropListSortingDisabled","",1,"slds-scrollable--y","slds-grid","slds-size--1-of-1","slds-p-around--xx-small","slds-wrap","spice-page-builder-panel-drop-list",2,"height","fit-content",3,"id","cdkDropListEnterPredicate","cdkDropListData","cdkDropListEntered","cdkDropListExited"],["cdkDrag","","class","slds-p-around--xxx-small slds-drag--preview","style","cursor: move",3,"cdkDragData","title",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","","class","slds-p-around--xxx-small slds-drag--preview spice-hover-display-children","style","cursor: move",3,"cdkDragData","title",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"slds-grow","slds-p-around--xx-small","slds-grid","slds-grid--vertical","slds-drag--preview","spice-drag-placeholder-visible",3,"cdkDragData"],["label","LBL_COLUMNS"],[1,"slds-grid","slds-grow","slds-theme--default",2,"border","2px solid #ca1b21","cursor","move","min-height","70px"],["class","slds-grow",3,"border-right",4,"ngFor","ngForOf","ngForTrackBy"],[1,"slds-grow"],["cdkDrag","",1,"slds-grow","slds-p-around--xx-small","slds-grid","slds-grid--vertical","slds-drag--preview","spice-drag-placeholder-visible","spice-hover-display-children",3,"cdkDragData"],[1,"slds-grid","slds-grow","slds-theme--default","slds-grid--align-center","slds-grid--vertical-align-center","slds-is-relative",2,"border","2px solid #ca1b21","cursor","move","min-height","70px"],["icon","user","size","large"],[1,"slds-button","slds-button--icon","slds-is-absolute__top","slds-p-around--xxx-small","spice-hover-child",2,"right","0",3,"click"],["icon","delete","size","xx-small"],["cdkDrag","",1,"slds-p-around--xxx-small","slds-drag--preview",2,"cursor","move",3,"cdkDragData","title"],[1,"slds-p-around--x-small","slds-card","slds-height_full","slds-align--absolute-center","slds-grid","slds-grid--vertical"],["size","large",3,"icon"],[3,"label"],["cdkDrag","",1,"slds-p-around--xxx-small","slds-drag--preview","spice-hover-display-children",2,"cursor","move",3,"cdkDragData","title"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"system-section",1)(2,"div",2),o.bIt("cdkDropListEntered",(function(e){return t.onDragEnter(e)}))("cdkDropListExited",(function(e){return t.onDragExit(e)})),o.DNE(3,jt,6,4,"div",3)(4,Rt,7,2,"div",4),o.k0s()(),o.j41(5,"system-section",5)(6,"div",6),o.bIt("cdkDropListEntered",(function(e){return t.onDragEnter(e)}))("cdkDropListExited",(function(e){return t.onDragExit(e)})),o.DNE(7,_t,5,4,"div",7)(8,Lt,7,3,"div",8),o.k0s()()()),2&e&&(o.Y8G("system-overlay-loading-spinner",t.spicePageBuilderService.isLoading),o.R7$(2),o.Y8G("cdkDropListEnterPredicate",t.noReturnPredicate)("cdkDropListData",t.sections),o.R7$(),o.Y8G("ngForOf",t.sections)("ngForTrackBy",t.trackByFn),o.R7$(),o.Y8G("ngForOf",t.customSections),o.R7$(2),o.Y8G("id",t.spicePageBuilderService.contentListId)("cdkDropListEnterPredicate",t.noReturnPredicate)("cdkDropListData",t.spicePageBuilderService.panelElements),o.R7$(),o.Y8G("ngForOf",t.spicePageBuilderService.panelElements)("ngForTrackBy",t.trackByFn),o.R7$(),o.Y8G("ngForOf",t.customItems)("ngForTrackBy",t.trackByFn))},dependencies:[s.Sq,a.W,R.v,Gt.B,kt.M,E.O7,E.T1],encapsulation:2,changeDetection:0})}return SpicePageBuilderPanel})();var Mt=i(84412),Ct=i(40713),It=i(25028),Xt=i(88418),wt=i(83524);const Nt=["codeContainer"];function Vt(e,t){if(1&e&&o.nrm(0,"spice-page-builder-element-text",11),2&e){const e=o.XpG();o.Y8G("element",e.element)("isEditMode",!0)}}function $t(e,t){if(1&e&&o.nrm(0,"spice-page-builder-element-image",11),2&e){const e=o.XpG();o.Y8G("element",e.element)("isEditMode",!0)}}function Pt(e,t){if(1&e&&o.nrm(0,"spice-page-builder-element-button",11),2&e){const e=o.XpG();o.Y8G("element",e.element)("isEditMode",!0)}}function zt(e,t){if(1&e&&o.nrm(0,"spice-page-builder-element-divider",11),2&e){const e=o.XpG();o.Y8G("element",e.element)("isEditMode",!0)}}function Yt(e,t){if(1&e&&o.nrm(0,"spice-page-builder-element-spacer",11),2&e){const e=o.XpG();o.Y8G("element",e.element)("isEditMode",!0)}}function Tt(e,t){if(1&e&&o.nrm(0,"spice-page-builder-element-code",11),2&e){const e=o.XpG();o.Y8G("element",e.element)("isEditMode",!0)}}function Ot(e,t){if(1&e&&o.nrm(0,"spice-page-builder-element-rss",11),2&e){const e=o.XpG();o.Y8G("element",e.element)("isEditMode",!0)}}function Ft(e,t){if(1&e&&o.nrm(0,"spice-page-builder-element-section",12),2&e){const e=o.XpG();o.Y8G("section",e.element)("isEditMode",!0)}}let Ht=(()=>{class SpicePageBuilderEditor{constructor(){this.response=new Mt.t(!1),this.self={}}trackByFn(e,t){return e}cancel(){this.response.next(!1),this.response.complete(),this.self.destroy()}confirm(){this.response.next(JSON.parse(JSON.stringify(this.element))),this.response.complete(),this.self.destroy()}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilderEditor)};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilderEditor,selectors:[["spice-page-builder-editor"]],viewQuery:function(e,t){if(1&e&&o.GBs(Nt,5,o.c1b),2&e){let e;o.mGM(e=o.lsd())&&(t.codeContainer=e.first)}},decls:19,vars:11,consts:[[3,"close"],["label","LBL_EDIT"],[3,"label"],[3,"grow"],[1,"slds-height_full","slds-size--1-of-1",3,"ngSwitch"],[3,"element","isEditMode",4,"ngSwitchCase"],[3,"section","isEditMode",4,"ngSwitchCase"],[1,"slds-button","slds-button--neutral",3,"click"],["label","LBL_CANCEL"],[1,"slds-button","slds-button--brand",3,"click"],["label","LBL_SAVE"],[3,"element","isEditMode"],[3,"section","isEditMode"]],template:function(e,t){1&e&&(o.j41(0,"system-modal")(1,"system-modal-header",0),o.bIt("close",(function(){return t.cancel()})),o.nrm(2,"system-label",1)(3,"system-label",2),o.k0s(),o.j41(4,"system-modal-content",3)(5,"div",4),o.DNE(6,Vt,1,2,"spice-page-builder-element-text",5)(7,$t,1,2,"spice-page-builder-element-image",5)(8,Pt,1,2,"spice-page-builder-element-button",5)(9,zt,1,2,"spice-page-builder-element-divider",5)(10,Yt,1,2,"spice-page-builder-element-spacer",5)(11,Tt,1,2,"spice-page-builder-element-code",5)(12,Ot,1,2,"spice-page-builder-element-rss",5)(13,Ft,1,2,"spice-page-builder-element-section",6),o.k0s()(),o.j41(14,"system-modal-footer")(15,"button",7),o.bIt("click",(function(){return t.cancel()})),o.nrm(16,"system-label",8),o.k0s(),o.j41(17,"button",9),o.bIt("click",(function(){return t.confirm()})),o.nrm(18,"system-label",10),o.k0s()()()),2&e&&(o.R7$(3),o.Y8G("label",t.element.label),o.R7$(),o.Y8G("grow",!0),o.R7$(),o.Y8G("ngSwitch",t.element.tagName),o.R7$(),o.Y8G("ngSwitchCase","text"),o.R7$(),o.Y8G("ngSwitchCase","image"),o.R7$(),o.Y8G("ngSwitchCase","button"),o.R7$(),o.Y8G("ngSwitchCase","divider"),o.R7$(),o.Y8G("ngSwitchCase","spacer"),o.R7$(),o.Y8G("ngSwitchCase","raw"),o.R7$(),o.Y8G("ngSwitchCase","rss"),o.R7$(),o.Y8G("ngSwitchCase","section"))},dependencies:[s.ux,s.e1,a.W,Ct.D,It.I,Xt.Q,wt.C,ft,V,Z,ce,fe,Me,we,Ke],encapsulation:2,changeDetection:0})}return SpicePageBuilderEditor})();function Ut(e,t){if(1&e&&(o.qex(0),o.nrm(1,"spice-page-builder-panel",2)(2,"spice-page-builder-renderer",3),o.bVm()),2&e){const e=o.XpG();o.R7$(),o.Y8G("customSections",e.spicePageBuilderService.customSections)("customItems",e.spicePageBuilderService.customItems)}}let At=(()=>{class SpicePageBuilder{constructor(e,t,i){this.spicePageBuilderService=e,this.toast=t,this.cdRef=i,this.dropListGroupDefined=!1,this.pageBuilderChange$=this.spicePageBuilderService.response}set pageContent(e){if(window._.isEmpty(e))return;const t=JSON.parse(JSON.stringify(e));t?.children?.length?this.spicePageBuilderService._page=e:this.toast.sendToast("ERR_LOADING_RECORD","error")}ngAfterViewInit(){this.setDropListReference()}setDropListReference(){this.spicePageBuilderService.dropListGroup=this.dropListGroup,this.dropListGroupDefined=!0,this.cdRef.detectChanges()}static#e=this.ɵfac=function(e){return new(e||SpicePageBuilder)(o.rXU(x),o.rXU(g.o),o.rXU(o.gRc))};static#t=this.ɵcmp=o.VBU({type:SpicePageBuilder,selectors:[["spice-page-builder"]],viewQuery:function(e,t){if(1&e&&o.GBs(E.RK,5,E.RK),2&e){let e;o.mGM(e=o.lsd())&&(t.dropListGroup=e.first)}},inputs:{pageContent:"pageContent"},outputs:{pageBuilderChange$:"pageBuilderChange$"},features:[o.Jv_([x])],decls:2,vars:1,consts:[["cdkDropListGroup","",1,"slds-grid","slds-height_full",2,"overflow","hidden"],[4,"ngIf"],[1,"slds-size--1-of-4","spice-display-block","slds-height_full","slds-border--right",2,"box-shadow","10px 0 20px 0 #1b1b1b",3,"customSections","customItems"],[1,"slds-size--3-of-4","spice-display-block","slds-height_full"]],template:function(e,t){1&e&&(o.j41(0,"div",0),o.DNE(1,Ut,3,2,"ng-container",1),o.k0s()),2&e&&(o.R7$(),o.Y8G("ngIf",t.dropListGroupDefined))},dependencies:[s.bT,E.RK,Dt,Bt],encapsulation:2,changeDetection:0})}return SpicePageBuilder})();var Jt=i(13921),qt=i(41731),Kt=i(69904),Wt=i(83935),Qt=i(57363),Zt=i(66935),ei=i(89166);function ti(e,t){if(1&e&&o.nrm(0,"iframe",5),2&e){const e=o.XpG(2);o.Y8G("src",e.parsedHtml,o.f$h)}}function ii(e,t){if(1&e&&(o.j41(0,"field-generic-display",2)(1,"div",3),o.DNE(2,ti,1,1,"iframe",4),o.k0s()()),2&e){const e=o.XpG();o.Y8G("fielddisplayclass",e.fielddisplayclass+" spice-field-page-builder-display-container")("fieldconfig",e.fieldconfig)("editable",e.isEditable()),o.R7$(),o.xc7("min-height",e.iframeHeight,"px"),o.R7$(),o.Y8G("ngIf",e.parsedHtml)}}function si(e,t){if(1&e){const e=o.RV6();o.j41(0,"div",6)(1,"spice-page-builder",7),o.bIt("pageBuilderChange$",(function(t){o.eBV(e);const i=o.XpG();return o.Njj(i.onPageBuilderChange(t))})),o.k0s(),o.nrm(2,"field-messages",8),o.k0s()}if(2&e){const e=o.XpG();o.Y8G("ngClass",e.getFieldClass()),o.R7$(),o.Y8G("pageContent",e.model.data[e.bodySPBFieldName]),o.R7$(),o.Y8G("fieldname",e.fieldname)}}let ni=(()=>{class fieldPageBuilder extends Jt.s{constructor(e,t,i,s,n,l,o,r,a,c,d){super(e,t,i,s,o),this.model=e,this.view=t,this.language=i,this.metadata=s,this.backend=n,this.toast=l,this.router=o,this.injector=r,this.modal=a,this.cdRef=c,this.sanitizer=d,this.iframeHeight=250}get bodySPBFieldName(){return this.fieldconfig.bodySPBField??"body_spb"}ngOnInit(){super.ngOnInit(),this.setIframeHeight()}ngAfterViewInit(){super.ngAfterViewInit(),this.setHtmlValue(),this.modelChangesSubscriber()}setEditMode(){this.model.startEdit(),this.view.setEditMode(),this.cdRef.detectChanges()}modelChangesSubscriber(){this.subscriptions.add(this.model.data$.subscribe((()=>this.setHtmlValue()))),this.subscriptions.add(this.view.mode$.subscribe((()=>this.cdRef.detectChanges())))}setHtmlValue(){this.value&&(this.parsedHtml=this.sanitizer.bypassSecurityTrustResourceUrl("data:text/html;charset=UTF-8,"+encodeURIComponent(this.value)),this.cdRef.detectChanges())}setIframeHeight(){const e=parseInt(this.fieldconfig.initialHeight,10);e&&!isNaN(e)&&(this.iframeHeight=e)}onPageBuilderChange(e){this.model.setField(this.bodySPBFieldName,e),this.backend.postRequest("common/mjml/json2html",{},{json:e}).subscribe({next:e=>{e.html||this.toast.sendToast("ERR_FAILED_TO_EXECUTE","error"),this.model.setField(this.fieldname,e.html)}})}static#e=this.ɵfac=function(e){return new(e||fieldPageBuilder)(o.rXU(xe.g),o.rXU(qt.U),o.rXU(Kt.B),o.rXU(Wt.yu),o.rXU(f.H),o.rXU(g.o),o.rXU(Qt.Ix),o.rXU(o.zZn),o.rXU(m.y),o.rXU(o.gRc),o.rXU(S.up))};static#t=this.ɵcmp=o.VBU({type:fieldPageBuilder,selectors:[["field-page-builder"]],features:[o.Vt3],decls:2,vars:2,consts:[[3,"fielddisplayclass","fieldconfig","editable",4,"ngIf"],["class","slds-form-element__control slds-height_full",3,"ngClass",4,"ngIf"],[3,"fielddisplayclass","fieldconfig","editable"],[1,"slds-size--1-of-1","slds-height_full"],["style","border: 0; resize: vertical","class","slds-size--1-of-1 slds-height_full","sandbox","",3,"src",4,"ngIf"],["sandbox","",1,"slds-size--1-of-1","slds-height_full",2,"border","0","resize","vertical",3,"src"],[1,"slds-form-element__control","slds-height_full",3,"ngClass"],[1,"spice-display-block","slds-height_full",3,"pageContent","pageBuilderChange$"],[3,"fieldname"]],template:function(e,t){1&e&&o.DNE(0,ii,3,6,"field-generic-display",0)(1,si,3,3,"div",1),2&e&&(o.Y8G("ngIf",!t.isEditMode()),o.R7$(),o.Y8G("ngIf",t.isEditable()&&t.isEditMode()))},dependencies:[s.YU,s.bT,Zt.K,ei.A,At],encapsulation:2,changeDetection:0})}return fieldPageBuilder})();var li=i(71341);let oi=(()=>{class ModuleSpicePageBuilder{static#e=this.ɵfac=function(e){return new(e||ModuleSpicePageBuilder)};static#t=this.ɵmod=o.$C({type:ModuleSpicePageBuilder});static#i=this.ɵinj=o.G2t({imports:[s.MD,n.ObjectFields,l.SystemComponents,r.YN,li.h,E.ad]})}return ModuleSpicePageBuilder})();("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(oi,{declarations:[At,Dt,Bt,j,u,v,y,Ht,j,St,ft,rt,V,Z,ce,fe,Me,we,Ke,ni],imports:[s.MD,n.ObjectFields,l.SystemComponents,r.YN,li.h,E.ad],exports:[At]})}}]);