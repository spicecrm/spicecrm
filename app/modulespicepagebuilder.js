/*!
 * 
 *                     aacService
 *
 *                     release: 2023.02.001
 *
 *                     date: 2023-08-15 08:42:29
 *
 *                     build: 2023.02.001.1692081749029
 *
 */
"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([["src_include_spicepagebuilder_modulespicepagebuilder_ts"],{9524:(e,t,i)=>{i.r(t),i.d(t,{ModuleSpicePageBuilder:()=>di});var s=i(1180),n=i(4755),l=i(3190),o=i(3735),d=i(2242),c=i(5030),a=i(3463);function r(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"input",6),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.value=t)}))("ngModelChange",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.emitJoinedValue())})),d.qZA()}if(2&e){const e=d.oxw();d.Q6J("ngModel",e.value)}}function u(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"input",7),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.value=t)}))("ngModelChange",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.emitJoinedValue())})),d.qZA(),d.TgZ(1,"span",8),d._uU(2),d.qZA()}if(2&e){const e=d.oxw();d.Q6J("ngModel",e.value),d.xp6(2),d.hij(" ",e.suffix," ")}}let p=(()=>{var e;class SpicePageBuilderInputText{constructor(e){(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"suffix",void 0),(0,s.Z)(this,"label",""),(0,s.Z)(this,"value",""),(0,s.Z)(this,"onTouched",void 0),(0,s.Z)(this,"onChange",void 0),this.cdRef=e}registerOnChange(e){this.onChange=t=>{e(t)}}registerOnTouched(e){this.onTouched=e}writeValue(e){e&&(this.value=this.suffix?parseFloat(e):e,this.cdRef.detectChanges())}emitJoinedValue(){this.onChange(this.suffix?this.value+this.suffix:this.value)}}return e=SpicePageBuilderInputText,(0,s.Z)(SpicePageBuilderInputText,"ɵfac",(function(t){return new(t||e)(d.Y36(d.sBO))})),(0,s.Z)(SpicePageBuilderInputText,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-input-text"]],inputs:{suffix:"suffix",label:"label"},features:[d._Bn([{multi:!0,provide:c.JU,useExisting:(0,d.Gpc)((()=>e))}])],decls:7,vars:5,consts:[[1,"slds-form-element"],[1,"slds-form-element__label"],[3,"label"],[1,"slds-form-element__control"],["type","text","class","slds-input",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["inputNumberContainer",""],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["type","number",1,"slds-input",3,"ngModel","ngModelChange"],[1,"slds-form-element__addon"]],template:function(e,t){if(1&e&&(d.TgZ(0,"div",0)(1,"label",1),d._UZ(2,"system-label",2),d.qZA(),d.TgZ(3,"div",3),d.YNc(4,r,1,1,"input",4),d.YNc(5,u,3,2,"ng-template",null,5,d.W1O),d.qZA()()),2&e){const e=d.MAs(6);d.xp6(2),d.Q6J("label",t.label),d.xp6(1),d.ekj("slds-input-has-fixed-addon",!!t.suffix),d.xp6(1),d.Q6J("ngIf",!t.suffix)("ngIfElse",e)}},dependencies:[n.O5,a._,c.Fj,c.wV,c.JJ,c.On],encapsulation:2,changeDetection:0})),SpicePageBuilderInputText})();var g=i(7579),m=i(4044),h=i(3278),f=i(3441),b=i(6625),x=i(4505);let v=(()=>{var e;class SpicePageBuilderService{constructor(e,t,i,n,l,o,c){(0,s.Z)(this,"modal",void 0),(0,s.Z)(this,"toast",void 0),(0,s.Z)(this,"helper",void 0),(0,s.Z)(this,"injector",void 0),(0,s.Z)(this,"configurationService",void 0),(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"backend",void 0),(0,s.Z)(this,"isLoading",!1),(0,s.Z)(this,"customSections",[]),(0,s.Z)(this,"customItems",[]),(0,s.Z)(this,"response",new d.vpe),(0,s.Z)(this,"contentListId",void 0),(0,s.Z)(this,"dragPlaceholderNode",void 0),(0,s.Z)(this,"defaultPlaceholderHeight",200),(0,s.Z)(this,"isMouseIn",void 0),(0,s.Z)(this,"_page",{tagName:"mjml",attributes:{},children:[{tagName:"body",attributes:{"background-color":"#ffffff",width:"550px"},children:[]},{tagName:"head",children:[{tagName:"html-attributes",children:[{tagName:"selector",attributes:{path:".spice-trackable-link a"},children:[{tagName:"html-attribute",attributes:{name:"data-trackinglink"},content:""}]}]}]}]}),(0,s.Z)(this,"rssDateItem",{tagName:"text",content:"RSS-ITEM-DATE-PLACEHOLDER",attributes:{"css-class":"rss-date","font-size":"10px","line-height":"14px",padding:"4px","container-background-color":"#ffffff"}}),(0,s.Z)(this,"panelElements",[{tagName:"text",label:"LBL_TEXT",content:"Write text here...",icon:"text",attributes:{"font-size":"13px","line-height":"14px",padding:"4px","container-background-color":"#ffffff"}},{tagName:"image",label:"LBL_IMAGE",icon:"image",attributes:{align:"center",padding:"4px",target:"_blank"}},{tagName:"divider",label:"LBL_DIVIDER",icon:"dash",attributes:{padding:"8px","border-width":"2px",width:"100%","border-color":"#a2a2a2"}},{tagName:"spacer",label:"LBL_SPACER",icon:"steps",attributes:{height:"50px","vertical-align":"middle"}},{tagName:"button",label:"LBL_BUTTON",content:"New Button",icon:"link",attributes:{"border-radius":"4px","background-color":"#ca1b21",color:"#ffffff",padding:"4px","inner-padding":"4px",width:"100px",align:"center","font-size":"13px","text-align":"center","line-height":"14px",target:"_blank","vertical-align":"middle",href:"#"}},{tagName:"raw",label:"LBL_HTML_CODE",content:"Write code here...",icon:"insert_tag_field",attributes:{}},{tagName:"rss",label:"LBL_RSS_FEED",icon:"news",content:"Enter RSS name here...",href:"#",showDate:"1",count:"3",attributes:{"font-size":"16px","css-class":"rss-container"},children:[{tagName:"column",attributes:{width:"100%"},children:[{tagName:"section",attributes:{"css-class":"rss-item",padding:"0"},children:[{tagName:"column",attributes:{"css-class":"rss-item-image-column",width:"35%",padding:"0 0 5px 0"},children:[{tagName:"image",attributes:{"css-class":"rss-image",align:"right",width:"100%",padding:"4px","fluid-on-mobile":"true",target:"_blank",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAaVBMVEVHcEzhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgDhWgD////hWADiXwfjZA/kahnlcCHmdSnnejHogDrphUPqi0zhVwD2zLDun2r86+H++vf64M/sklfxroHzvJf99O3418HwywNDAAAADHRSTlMAPut1Cqe90RIRVSoKNZleAAAEvUlEQVRo3u2a13arMBBF47jFDh6BqBKd///IK+wAGjXTkqc7K0/Y8da0MwLx8fHfttjp9rXRbic34HA8X66b7XI+Hmyg0/3y6e1kn5e7EfN99na187fOOFzlbwB4Hplldsr1oDHkSAHxaRQnSZq8LH5Z9LLwafRpQSD+evN9nfepUL5lP0iYpJWw9GUGkMR5IXqK4Ki+oIidzpIXYaoCEAE5MjCeCD14Zzn79+l6kIwEqw908uHlwotgSNBdcuQyXhVuGAjRKoKwy0nPOolm5YHKBN9VZFLuj8O1aCnhXRl7xxFyHmO1wgfibkk1JUGyM0FOyu3VJCTem9C3yu0H8vWChLsTesgXgvjxrIbwFxB0CEUASpc1xDwIiSbZiDiv0jgKtxJUCPhTlGiSP4o2LztW8yQM1hM0T6iUhzh/DNbmrK5Cfx1Bh0iZjibI0wQo9vs5thFC5GIKFUjvUVdHZAUHQ6hUTGH5MFjLqmAxRocMtUSNEGFlHXqwBSJVa2CDiPQsxGCI3NN+93g4MHRB0BSIpBpOiAga92EdRBYmwh5uY/HcmKmQqanfQh5tPdMZRbukpiacsa7M28LlTARrIPL2rk8MjVLesNxGyqs5IVOkXjUAyDIgQVKz3EgpagJbIROLhJy1JkwTwD6Q3rKMRLWpQRmF3SBPhwJuwHTvKIsgNsw7igPSp1zXDgDatAspdggRu+6I+oKl/AB4iaY4zJl9KwT88jnjn4NX8QiCRm2cxlXJTshPK4iBmODBC16ltk3tbYI8QWUd48EbK/kvKtgKeQ7eVA4JhEpicruOzYeIxSIMUEWmmVWTHRDD0CqE7MKUfjYzLcsg/dyd1gsUf6WNYR8ImiGgbJtsAbM3o3XG5+k4QyDBlcx3gzxaPuY/46grS7O8rIGgSdXMyL1Du6q6YZ158E4UCNBa8hAWqrCoVp8m3DR4i3HJkCJNbtbNeCC00gdvwc0BM7oyZ2hBRmJthrTJEDC8M69hw2SMmZKdqZI4umyYLLMhQHiujhBj2/INEJGeqDOLOyBXGNm0kRAD0RgwLNitLvnLtkS+pfW4O/XLtkTgM9OcAiqnq9Nk8i2k75TpnzLc4EPrQeOMlxvSd2IcR/60dYc4N7QeJIWrvpwQIBUTNyht2UQTxhR/XMVafbkgYooPC8xHdce/N7Qe1LJ/aj+6BFKerkJ3R0WUQlOkmR6vIpkPwTeNU+uh683QQnKr8Gw2JMViVY6VWZmkijn03gFRNjxDZDxPXvUQmowb1/Nut6I99qiNE6Q2FHFO50K0R1FjELKq0OoVNX0Rz4VQKwR99FOvWCSrbHu4SGcQEWYvL0fiGzXxk7Y0+qqhsQuxHYL1CIkrKqWfVaOeb+Y3I3KlTSUtrvRVIzCbLyvyrUHBbU42BnBH5gtkMG6Eygp9ELXaqtdC+pvppszbvOO4uyBstR8UzSPM3PJvJmMmNqphoD4LBr/io6WD20l/StUfTXJeWTy5OcavaVM5GuiXssxySCOdAO5u0xng+fcgZ/0IcH87mo+wdzXpMPP3kiIdy8oHzPva3XxUvm/aT9ZD/93s+u14fWH/rBtfxNjFj8Nvv1ICxPRKyd+8HPM3r/n80QtL/+2d/QNYM8VY/rzpWAAAAABJRU5ErkJggg=="}}]},{tagName:"column",attributes:{"css-class":"rss-item-content-column",width:"65%",padding:"0 0 5px 0"},children:[{tagName:"button",content:"RSS-ITEM-HEADER-PLACEHOLDER",attributes:{"css-class":"rss-header",align:"left","inner-padding":"0","background-color":"#ffffff",color:"#000000",href:"RSS_ITEM_HEADER_HREF_PLACEHOLDER","font-size":"22px","line-height":"22px","font-weight":"500","text-align":"left",padding:"4px","container-background-color":"#ffffff"}},this.rssDateItem,{tagName:"text",content:"RSS-ITEM-DESCRIPTION-PLACEHOLDER",attributes:{"css-class":"rss-description","font-size":"14px","line-height":"14px",padding:"4px","container-background-color":"#ffffff"}}]}]}]}]}]),(0,s.Z)(this,"panelDefaultSection",{tagName:"section",children:[],attributes:{padding:"0"}}),(0,s.Z)(this,"panelDefaultColumn",{tagName:"column",children:[],attributes:{}}),(0,s.Z)(this,"alignOptions",[{title:"LBL_LEFT_ALIGN",icon:"left_align_text",value:"left"},{title:"LBL_CENTER_ALIGN",icon:"center_align_text",value:"center"},{title:"LBL_RIGHT_ALIGN",icon:"right_align_text",value:"right"}]),(0,s.Z)(this,"dropListGroup",void 0),(0,s.Z)(this,"defaultSuffix","px"),this.modal=e,this.toast=t,this.helper=i,this.injector=n,this.configurationService=l,this.cdRef=o,this.backend=c,this.contentListId=_.uniqueId("panel-drop-list-")}set page(e){this.emitData(),this._page=e}get page(){return this._page}addDropListToGroup(e){this.dropListGroup&&!this.dropListGroup._items.has(e)&&(this.dropListGroup._items.add(e),this.dropListGroup._items.forEach((e=>e._group=this.dropListGroup)))}openMediaFilePicker(){const e=new g.x;return this.modal.openModal("MediaFilePicker").subscribe((t=>{t.instance.answer.subscribe((t=>{t||(e.next(void 0),e.complete());const i=this.configurationService.getCapabilityConfig("mediafiles");t.upload?this.modal.openModal("MediaFileUploader").subscribe((t=>{t.instance.answer.subscribe((t=>{e.next(t?i.public_url+t:void 0),e.complete()}))})):(e.next(t.id?i.public_url+t.id:void 0),e.complete())}))})),e.asObservable()}emitData(e){this.response.next(e?null:this.page)}loadCustomElements(){this.isLoading=!0,this.backend.getRequest("common/PageBuilder/customElements").subscribe((e=>{this.isLoading=!1,e.sections.forEach((e=>e.content=JSON.parse(e.content))),this.customSections=e.sections,e.items.forEach((e=>e.content=JSON.parse(e.content))),this.customItems=e.items,this.cdRef.detectChanges()}))}saveCustomElement(e,t){this.isMouseIn=void 0,this.modal.input("LBL_ENTER_NAME","LBL_NAME").subscribe((i=>{if(!i)return;const s={id:this.helper.generateGuid(),name:i,type:t,content:e};switch(t){case"item":this.customItems=[...this.customItems,{...s}];break;case"section":this.customSections=[...this.customSections,{...s}]}this.cdRef.detectChanges(),s.content=JSON.stringify(s.content),this.backend.postRequest("common/PageBuilder/customElements",null,s).subscribe({next:()=>this.toast.sendToast("LBL_DATA_SAVED","success"),error:()=>this.toast.sendToast("ERR_FAILED_TO_EXECUTE","error")})}))}deleteCustomElement(e,t){switch(t){case"item":this.customItems=this.customItems.filter((t=>t.id!=e));break;case"section":this.customSections=this.customSections.filter((t=>t.id!=e))}this.cdRef.detectChanges(),this.backend.deleteRequest("common/PageBuilder/customElements/"+e).subscribe({next:()=>this.toast.sendToast("LBL_DATA_SAVED","success"),error:()=>this.toast.sendToast("ERR_FAILED_TO_EXECUTE","error")})}openEditModal(e){this.isMouseIn=void 0,this.cdRef.detectChanges();const t=new g.x;return this.modal.openModal("SpicePageBuilderEditor",!0,this.injector).subscribe((i=>{i.instance.element=JSON.parse(JSON.stringify(e)),i.instance.response.subscribe((e=>{t.next(e),e&&t.complete()}))})),t.asObservable()}}return e=SpicePageBuilderService,(0,s.Z)(SpicePageBuilderService,"ɵfac",(function(t){return new(t||e)(d.LFG(m.o),d.LFG(h.A),d.LFG(f._),d.LFG(d.zs3),d.LFG(b.C),d.LFG(d.sBO),d.LFG(x.y))})),(0,s.Z)(SpicePageBuilderService,"ɵprov",d.Yz7({token:e,factory:e.ɵfac})),SpicePageBuilderService})(),Z=(()=>{var e;class SpicePageBuilderInputSides{constructor(e,t){(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"label",""),(0,s.Z)(this,"value",{top:0,right:0,bottom:0,left:0}),(0,s.Z)(this,"onTouched",void 0),(0,s.Z)(this,"onChange",void 0),this.cdRef=e,this.spicePageBuilderService=t}registerOnChange(e){this.onChange=t=>{e(t)}}registerOnTouched(e){this.onTouched=e}writeValue(e){if(!e)return;const t=e.split(" ");this.value={top:parseFloat(t[0]),right:parseFloat(1==t.length?e:t[1]),bottom:parseFloat(1==t.length?e:t[2]),left:parseFloat(1==t.length?e:t[3])},this.cdRef.detectChanges()}emitJoinedValue(){const e=this.spicePageBuilderService.defaultSuffix;this.onChange(`${this.value.top+e} ${this.value.right+e} ${this.value.bottom+e} ${this.value.left+e}`)}}return e=SpicePageBuilderInputSides,(0,s.Z)(SpicePageBuilderInputSides,"ɵfac",(function(t){return new(t||e)(d.Y36(d.sBO),d.Y36(v))})),(0,s.Z)(SpicePageBuilderInputSides,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-input-sides"]],inputs:{label:"label"},features:[d._Bn([{multi:!0,provide:c.JU,useExisting:(0,d.Gpc)((()=>e))}])],decls:37,vars:9,consts:[[1,"slds-form-element","slds-form-element_compound"],[1,"slds-form-element__legend","slds-form-element__label"],[1,"slds-form-element__control"],[1,"slds-form-element__row"],[1,"slds-size_1-of-4"],[1,"slds-form-element"],[1,"slds-form-element__label"],[1,"slds-form-element__control","slds-input-has-fixed-addon"],["type","number","maxlength","4","size","4",1,"slds-input",3,"ngModel","ngModelChange"],[1,"slds-form-element__addon"]],template:function(e,t){1&e&&(d.TgZ(0,"fieldset",0)(1,"legend",1),d._uU(2),d.qZA(),d.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),d._uU(8,"Top"),d.qZA(),d.TgZ(9,"div",7)(10,"input",8),d.NdJ("ngModelChange",(function(e){return t.value.top=e}))("ngModelChange",(function(){return t.emitJoinedValue()})),d.qZA(),d.TgZ(11,"span",9),d._uU(12),d.qZA()()()(),d.TgZ(13,"div",4)(14,"div",5)(15,"label",6),d._uU(16,"Right"),d.qZA(),d.TgZ(17,"div",7)(18,"input",8),d.NdJ("ngModelChange",(function(e){return t.value.right=e}))("ngModelChange",(function(){return t.emitJoinedValue()})),d.qZA(),d.TgZ(19,"span",9),d._uU(20),d.qZA()()()(),d.TgZ(21,"div",4)(22,"div",5)(23,"label",6),d._uU(24,"Bottom"),d.qZA(),d.TgZ(25,"div",7)(26,"input",8),d.NdJ("ngModelChange",(function(e){return t.value.bottom=e}))("ngModelChange",(function(){return t.emitJoinedValue()})),d.qZA(),d.TgZ(27,"span",9),d._uU(28),d.qZA()()()(),d.TgZ(29,"div",4)(30,"div",5)(31,"label",6),d._uU(32,"Left"),d.qZA(),d.TgZ(33,"div",7)(34,"input",8),d.NdJ("ngModelChange",(function(e){return t.value.left=e}))("ngModelChange",(function(){return t.emitJoinedValue()})),d.qZA(),d.TgZ(35,"span",9),d._uU(36),d.qZA()()()()()()()),2&e&&(d.xp6(2),d.Oqu(t.label),d.xp6(8),d.Q6J("ngModel",t.value.top),d.xp6(2),d.hij(" ",t.spicePageBuilderService.defaultSuffix," "),d.xp6(6),d.Q6J("ngModel",t.value.right),d.xp6(2),d.hij(" ",t.spicePageBuilderService.defaultSuffix," "),d.xp6(6),d.Q6J("ngModel",t.value.bottom),d.xp6(2),d.hij(" ",t.spicePageBuilderService.defaultSuffix," "),d.xp6(6),d.Q6J("ngModel",t.value.left),d.xp6(2),d.hij(" ",t.spicePageBuilderService.defaultSuffix," "))},dependencies:[c.Fj,c.wV,c.JJ,c.nD,c.On],encapsulation:2,changeDetection:0})),SpicePageBuilderInputSides})(),y=(()=>{var e;class SpicePageBuilderInputColor{constructor(e){(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"label",""),(0,s.Z)(this,"value",""),(0,s.Z)(this,"onTouched",void 0),(0,s.Z)(this,"onChange",void 0),this.cdRef=e}registerOnChange(e){this.onChange=t=>{e(t)}}registerOnTouched(e){this.onTouched=e}writeValue(e){e&&(this.value=e,this.cdRef.detectChanges())}emitValue(){this.onChange(this.value)}}return e=SpicePageBuilderInputColor,(0,s.Z)(SpicePageBuilderInputColor,"ɵfac",(function(t){return new(t||e)(d.Y36(d.sBO))})),(0,s.Z)(SpicePageBuilderInputColor,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-input-color"]],inputs:{label:"label"},features:[d._Bn([{multi:!0,provide:c.JU,useExisting:(0,d.Gpc)((()=>e))}])],decls:6,vars:3,consts:[[1,"slds-form-element"],[1,"slds-form-element__label"],[1,"slds-form-element__control","slds-input-has-fixed-addon"],["type","color",1,"slds-input",3,"ngModel","ngModelChange"],["type","text","maxlength","8","size","8",1,"slds-input","slds-m-left--x-small",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0)(1,"label",1),d._uU(2),d.qZA(),d.TgZ(3,"div",2)(4,"input",3),d.NdJ("ngModelChange",(function(e){return t.value=e}))("ngModelChange",(function(){return t.emitValue()})),d.qZA(),d.TgZ(5,"input",4),d.NdJ("ngModelChange",(function(e){return t.value=e}))("ngModelChange",(function(){return t.emitValue()})),d.qZA()()()),2&e&&(d.xp6(2),d.Oqu(t.label),d.xp6(2),d.Q6J("ngModel",t.value),d.xp6(1),d.Q6J("ngModel",t.value))},dependencies:[c.Fj,c.JJ,c.nD,c.On],encapsulation:2,changeDetection:0})),SpicePageBuilderInputColor})();var w=i(6550),S=i(2656),M=i(4561),C=i(151),E=i(3418);let B=(()=>{var e;class SpicePageBuilderElement{constructor(e,t,i,n,l){(0,s.Z)(this,"domSanitizer",void 0),(0,s.Z)(this,"modal",void 0),(0,s.Z)(this,"injector",void 0),(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"element",void 0),(0,s.Z)(this,"delete$",new d.vpe),(0,s.Z)(this,"isEditMode",!1),(0,s.Z)(this,"attributesList",[{name:"width",type:"text"},{name:"background-color",type:"color"}]),(0,s.Z)(this,"style",{}),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=n,this.spicePageBuilderService=l}ngOnInit(){this.generateStyle()}handleEditResponse(e){this.element.attributes=e.attributes,this.generateStyle(),this.spicePageBuilderService.emitData(),this.cdRef.detectChanges()}generateStyle(e){this.style=JSON.parse(JSON.stringify(e?_.pick(this.element.attributes,e):this.element.attributes))}setIsMouseIn(e){this.spicePageBuilderService.isMouseIn=e?"content":"section"}edit(){this.spicePageBuilderService.openEditModal(this.element).subscribe({next:e=>{e&&this.handleEditResponse(e)}})}}return e=SpicePageBuilderElement,(0,s.Z)(SpicePageBuilderElement,"ɵfac",(function(t){return new(t||e)(d.Y36(w.H7),d.Y36(m.o),d.Y36(d.zs3),d.Y36(d.sBO),d.Y36(v))})),(0,s.Z)(SpicePageBuilderElement,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-element"]],inputs:{element:"element",isEditMode:"isEditMode"},outputs:{delete$:"delete$"},decls:18,vars:3,consts:[["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_ELEMENT"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.NdJ("mouseenter",(function(){return t.setIsMouseIn(!0)}))("mouseleave",(function(){return t.setIsMouseIn(!1)})),d.TgZ(1,"div",1)(2,"div",2)(3,"div",3),d._UZ(4,"system-icon",4),d.qZA(),d.TgZ(5,"div",5)(6,"h2",6),d._UZ(7,"system-label",7),d.qZA()()()(),d.TgZ(8,"article",8),d.NdJ("dblclick",(function(){return t.edit()})),d._UZ(9,"div",9),d.qZA(),d.TgZ(10,"div",10)(11,"div",11)(12,"button",12),d._UZ(13,"system-button-icon",13),d.qZA(),d.TgZ(14,"button",14),d.NdJ("click",(function(){return t.edit()})),d._UZ(15,"system-button-icon",15),d.qZA(),d.TgZ(16,"button",16),d.NdJ("click",(function(){return t.delete$.emit()})),d._UZ(17,"system-button-icon",17),d.qZA()()()()),2&e&&(d.ekj("slds-is-hovered","content"==t.spicePageBuilderService.isMouseIn),d.xp6(9),d.Q6J("ngStyle",t.style))},dependencies:[n.PC,S.J,M.f,a._,C.S,E.Bh],encapsulation:2,changeDetection:0})),SpicePageBuilderElement})();var J=i(2868);function L(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",2),d.NdJ("mouseenter",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!1))})),d.TgZ(1,"div",3)(2,"div",4)(3,"div",5),d._UZ(4,"system-icon",6),d.qZA(),d.TgZ(5,"div",7)(6,"h2",8),d._UZ(7,"system-label",9),d.qZA()(),d.TgZ(8,"button",10),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),d._UZ(9,"system-button-icon",11),d.qZA()()(),d.TgZ(10,"article",12),d.NdJ("dblclick",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d.TgZ(11,"div"),d._UZ(12,"img",13),d.qZA()(),d.TgZ(13,"div",14)(14,"div",15)(15,"button",16),d._UZ(16,"system-button-icon",17),d.qZA(),d.TgZ(17,"button",18),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d._UZ(18,"system-button-icon",19),d.qZA(),d.TgZ(19,"button",20),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.delete$.emit())})),d._UZ(20,"system-button-icon",21),d.qZA()()()()}if(2&e){const e=d.oxw();d.ekj("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),d.xp6(9),d.Q6J("inverse",!0),d.xp6(1),d.Q6J("ngStyle",e.style),d.xp6(1),d.Udp("background-color",e.element.attributes["container-background-color"]),d.xp6(1),d.Q6J("src",e.element.attributes.src,d.LSH)("ngStyle",e.style)}}function T(e,t){if(1&e&&(d.TgZ(0,"div",43)(1,"span",27),d._UZ(2,"system-label",44),d.qZA(),d.TgZ(3,"div",45),d._UZ(4,"img",46),d.qZA()()),2&e){const e=d.oxw(2);d.xp6(4),d.Q6J("src",e.element.attributes.src,d.LSH)}}function N(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",50),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function k(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",51),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function D(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-sides",50),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function A(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-color",50),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function P(e,t){if(1&e&&(d.ynx(0,47),d.YNc(1,N,1,2,"spice-page-builder-input-text",48),d.YNc(2,k,1,3,"spice-page-builder-input-text",49),d.YNc(3,D,1,2,"spice-page-builder-input-sides",48),d.YNc(4,A,1,2,"spice-page-builder-input-color",48),d.BQk()),2&e){const e=t.$implicit;d.Q6J("ngSwitch",e.type),d.xp6(1),d.Q6J("ngSwitchCase","text"),d.xp6(1),d.Q6J("ngSwitchCase","textSuffix"),d.xp6(1),d.Q6J("ngSwitchCase","sides"),d.xp6(1),d.Q6J("ngSwitchCase","color")}}function Q(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",22)(1,"system-section",23)(2,"div",24)(3,"div",25)(4,"div",26)(5,"span",27),d._UZ(6,"system-label",28),d.qZA(),d.TgZ(7,"div",29)(8,"div",30)(9,"div",31)(10,"label",32)(11,"span",33),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.openMediaFilePicker())})),d._UZ(12,"system-button-icon",34),d.TgZ(13,"span"),d._UZ(14,"system-label",35),d.qZA()(),d.TgZ(15,"span",36),d._UZ(16,"system-label",37),d.qZA()()()()()(),d.YNc(17,T,5,1,"div",38),d.qZA()()()(),d.TgZ(18,"div",22)(19,"system-section",39)(20,"div",40)(21,"div",41),d.YNc(22,P,5,5,"ng-container",42),d.qZA()()()()}if(2&e){const e=d.oxw();d.xp6(1),d.Q6J("alwaysExpanded",!0),d.xp6(16),d.Q6J("ngIf",!!e.element.attributes.src),d.xp6(2),d.Q6J("alwaysExpanded",!0),d.xp6(3),d.Q6J("ngForOf",e.attributesList)}}let z=(()=>{var e;class SpicePageBuilderElementImage extends B{constructor(e,t,i,n,l){super(e,t,i,n,l),(0,s.Z)(this,"domSanitizer",void 0),(0,s.Z)(this,"modal",void 0),(0,s.Z)(this,"injector",void 0),(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"element",void 0),(0,s.Z)(this,"attributesList",[{name:"title",type:"text"},{name:"href",type:"text"},{name:"alt",type:"text"},{name:"fluid-on-mobile",type:"text"},{name:"rel",type:"text"},{name:"srcset",type:"text"},{name:"target",type:"text"},{name:"usemap",type:"text"},{name:"border",type:"text"},{name:"border-radius",type:"textSuffix"},{name:"align",type:"text"},{name:"height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"width",type:"textSuffix"},{name:"container-background-color",type:"color"},{name:"css-class",type:"text"}]),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=n,this.spicePageBuilderService=l}openMediaFilePicker(){this.spicePageBuilderService.openMediaFilePicker().subscribe((e=>{e&&(this.element.attributes.src=e)}))}generateStyle(){super.generateStyle(["border","border-radius","align","height","padding","width"])}}return e=SpicePageBuilderElementImage,(0,s.Z)(SpicePageBuilderElementImage,"ɵfac",(function(t){return new(t||e)(d.Y36(w.H7),d.Y36(m.o),d.Y36(d.zs3),d.Y36(d.sBO),d.Y36(v))})),(0,s.Z)(SpicePageBuilderElementImage,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-element-image"]],inputs:{element:"element"},features:[d.qOj],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","image","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_IMAGE"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"ngStyle","dblclick"],["alt","SpiceCRM image",2,"max-height","100%",3,"src","ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-grid","slds-height_full","slds-size--1-of-1"],[1,"slds-form-element","slds-grid","slds-grid--vertical","slds-size--1-of-2","slds-p-right--xx-small"],[1,"slds-form-element__label"],["label","LBL_IMAGE_FILE"],[1,"slds-form-element__control","slds-grow"],[1,"slds-file-selector","slds-file-selector_images","slds-height_full"],[1,"slds-file-selector__dropzone","slds-height_full"],[1,"slds-file-selector__body"],[1,"slds-file-selector__button","slds-button","slds-button_neutral",2,"cursor","pointer",3,"click"],["icon","upload"],["label","LBL_UPLOAD_IMAGE"],[1,"slds-file-selector__text","slds-medium-show"],["label","LBL_OR_DROP_IMAGE"],["class","slds-height_full slds-size--1-of-2 slds-grid slds-grid--vertical slds-p-left--xx-small",4,"ngIf"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"slds-height_full","slds-size--1-of-2","slds-grid","slds-grid--vertical","slds-p-left--xx-small"],["label","LBL_PREVIEW"],[1,"slds-grow","slds-p-around--x-small","slds-text-align--center",2,"min-height","0","border","1px solid #ddd","border-radius","4px"],["alt","Spice Image",2,"max-height","100%",3,"src"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&(d.YNc(0,L,21,8,"div",0),d.YNc(1,Q,23,4,"ng-template",null,1,d.W1O)),2&e){const e=d.MAs(2);d.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[n.sg,n.O5,n.PC,n.RF,n.n9,S.J,M.f,a._,J.P,c.JJ,c.On,C.S,E.Bh,p,Z,y],encapsulation:2,changeDetection:0})),SpicePageBuilderElementImage})();var I=i(6271),O=i(1574),q=i(3091);function H(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",2),d.NdJ("mouseenter",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!1))})),d.TgZ(1,"div",3)(2,"div",4)(3,"div",5),d._UZ(4,"system-icon",6),d.qZA(),d.TgZ(5,"div",7)(6,"h2",8),d._UZ(7,"system-label",9),d.qZA()(),d.TgZ(8,"button",10),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),d._UZ(9,"system-button-icon",11),d.qZA()()(),d.TgZ(10,"article",12),d.NdJ("dblclick",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d.TgZ(11,"div"),d._UZ(12,"div",13),d.qZA()(),d.TgZ(13,"div",14)(14,"div",15)(15,"button",16),d._UZ(16,"system-button-icon",17),d.qZA(),d.TgZ(17,"button",18),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d._UZ(18,"system-button-icon",19),d.qZA(),d.TgZ(19,"button",20),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.delete$.emit())})),d._UZ(20,"system-button-icon",21),d.qZA()()()()}if(2&e){const e=d.oxw();d.ekj("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),d.xp6(9),d.Q6J("inverse",!0),d.xp6(2),d.Udp("background-color",e.element.attributes["container-background-color"]),d.xp6(1),d.Q6J("innerHTML",e.sanitizedContent,d.oJD)("ngStyle",e.style)}}function F(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"system-html-editor",35),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw(2);return d.KtG(i.element.content=t)})),d.qZA()}if(2&e){const e=d.oxw(2);d.Q6J("ngModel",e.element.content)}}function Y(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"system-richtext-editor",35),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw(2);return d.KtG(i.element.content=t)})),d.qZA()}if(2&e){const e=d.oxw(2);d.Q6J("ngModel",e.element.content)}}function G(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",39),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function R(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",40),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function U(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-sides",39),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function K(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-color",39),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function $(e,t){if(1&e&&(d.ynx(0,36),d.YNc(1,G,1,2,"spice-page-builder-input-text",37),d.YNc(2,R,1,3,"spice-page-builder-input-text",38),d.YNc(3,U,1,2,"spice-page-builder-input-sides",37),d.YNc(4,K,1,2,"spice-page-builder-input-color",37),d.BQk()),2&e){const e=t.$implicit;d.Q6J("ngSwitch",e.type),d.xp6(1),d.Q6J("ngSwitchCase","text"),d.xp6(1),d.Q6J("ngSwitchCase","textSuffix"),d.xp6(1),d.Q6J("ngSwitchCase","sides"),d.xp6(1),d.Q6J("ngSwitchCase","color")}}const j=function(){return{value:"richText",label:"LBL_RICH_TEXT_EDITOR"}},V=function(){return{value:"html",label:"LBL_HTML"}},W=function(e,t){return[e,t]};function X(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",22)(1,"system-section",23)(2,"div",24),d.YNc(3,F,1,1,"system-html-editor",25),d.YNc(4,Y,1,1,"system-richtext-editor",26),d.qZA()()(),d.TgZ(5,"div",22)(6,"system-section",27)(7,"div",28)(8,"div",29)(9,"div",30)(10,"label",31),d._UZ(11,"system-label",32),d.qZA(),d.TgZ(12,"system-input-radio-button-group",33),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.element.editorType=t)})),d.qZA()(),d.YNc(13,$,5,5,"ng-container",34),d.qZA()()()()}if(2&e){const e=d.oxw();d.xp6(1),d.Q6J("alwaysExpanded",!0),d.xp6(1),d.Q6J("ngSwitch",e.element.editorType),d.xp6(1),d.Q6J("ngSwitchCase","html"),d.xp6(3),d.Q6J("alwaysExpanded",!0),d.xp6(6),d.Q6J("ngModel",e.element.editorType)("inputOptions",d.WLB(9,W,d.DdM(7,j),d.DdM(8,V))),d.xp6(1),d.Q6J("ngForOf",e.attributesList)}}let ee=(()=>{var e;class SpicePageBuilderElementText extends B{constructor(e,t,i,n,l){super(e,t,i,n,l),(0,s.Z)(this,"domSanitizer",void 0),(0,s.Z)(this,"modal",void 0),(0,s.Z)(this,"injector",void 0),(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"element",void 0),(0,s.Z)(this,"attributesList",[{name:"color",type:"color"},{name:"container-background-color",type:"color"},{name:"font-size",type:"textSuffix"},{name:"font-style",type:"text"},{name:"font-weight",type:"text"},{name:"line-height",type:"textSuffix"},{name:"letter-spacing",type:"textSuffix"},{name:"height",type:"textSuffix"},{name:"text-decoration",type:"text"},{name:"text-transform",type:"text"},{name:"align",type:"text"},{name:"padding",type:"sides"},{name:"css-class",type:"text"}]),(0,s.Z)(this,"sanitizedContent",""),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=n,this.spicePageBuilderService=l}ngOnInit(){super.ngOnInit(),this.element.editorType||(this.element.editorType="richText"),this.sanitizeContent()}handleEditResponse(e){this.element.content=e.content,this.sanitizeContent(),super.handleEditResponse(e)}sanitizeContent(){this.sanitizedContent=this.domSanitizer.bypassSecurityTrustHtml(this.element.content)}generateStyle(){super.generateStyle(["color","font-size","font-style","font-weight","line-height","letter-spacing","text-decoration","text-transform","align","padding","height"])}}return e=SpicePageBuilderElementText,(0,s.Z)(SpicePageBuilderElementText,"ɵfac",(function(t){return new(t||e)(d.Y36(w.H7),d.Y36(m.o),d.Y36(d.zs3),d.Y36(d.sBO),d.Y36(v))})),(0,s.Z)(SpicePageBuilderElementText,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-element-text"]],inputs:{element:"element"},features:[d.qOj],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_TEXT"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"innerHTML","ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-scrollable--y","slds-height_full","slds-p-around--xx-small",2,"min-height","0",3,"ngSwitch"],["class","slds-size--1-of-1 spice-page-builder-text-editor",3,"ngModel","ngModelChange",4,"ngSwitchCase"],["class","slds-size--1-of-1 spice-page-builder-text-editor",3,"ngModel","ngModelChange",4,"ngSwitchDefault"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[1,"slds-form-element","slds-grid","slds-size--1-of-1"],[1,"slds-form-element__label"],["label","LBL_EDIT_WITH"],[1,"spice-display-block",3,"ngModel","inputOptions","ngModelChange"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"slds-size--1-of-1","spice-page-builder-text-editor",3,"ngModel","ngModelChange"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&(d.YNc(0,H,21,7,"div",0),d.YNc(1,X,14,12,"ng-template",null,1,d.W1O)),2&e){const e=d.MAs(2);d.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[n.sg,n.O5,n.PC,n.RF,n.n9,n.ED,S.J,M.f,I.p,a._,O.z,J.P,q.e,c.JJ,c.On,C.S,E.Bh,p,Z,y],encapsulation:2,changeDetection:0})),SpicePageBuilderElementText})();const te=function(e,t,i){return{padding:e,"background-color":t,width:i}},ie=function(e,t,i){return{"border-width":e,"border-style":t,"border-color":i}};function se(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",2),d.NdJ("mouseenter",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!1))})),d.TgZ(1,"div",3)(2,"div",4)(3,"div",5),d._UZ(4,"system-icon",6),d.qZA(),d.TgZ(5,"div",7)(6,"h2",8),d._UZ(7,"system-label",9),d.qZA()(),d.TgZ(8,"button",10),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),d._UZ(9,"system-button-icon",11),d.qZA()()(),d.TgZ(10,"article",12),d.NdJ("dblclick",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d.TgZ(11,"div",13),d._UZ(12,"hr",14),d.qZA()(),d.TgZ(13,"div",15)(14,"div",16)(15,"button",17),d._UZ(16,"system-button-icon",18),d.qZA(),d.TgZ(17,"button",19),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d._UZ(18,"system-button-icon",20),d.qZA(),d.TgZ(19,"button",21),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.delete$.emit())})),d._UZ(20,"system-button-icon",22),d.qZA()()()()}if(2&e){const e=d.oxw();d.ekj("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),d.xp6(9),d.Q6J("inverse",!0),d.xp6(2),d.Q6J("ngStyle",d.kEZ(5,te,e.element.attributes.padding,e.element.attributes["container-background-color"],e.element.attributes.width)),d.xp6(1),d.Q6J("ngStyle",d.kEZ(9,ie,e.style["border-width"],e.style["border-style"],e.style["border-color"]))}}function ne(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",37),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function le(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",38),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function oe(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-sides",37),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function de(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-color",37),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function ce(e,t){if(1&e&&(d.ynx(0,34),d.YNc(1,ne,1,2,"spice-page-builder-input-text",35),d.YNc(2,le,1,3,"spice-page-builder-input-text",36),d.YNc(3,oe,1,2,"spice-page-builder-input-sides",35),d.YNc(4,de,1,2,"spice-page-builder-input-color",35),d.BQk()),2&e){const e=t.$implicit;d.Q6J("ngSwitch",e.type),d.xp6(1),d.Q6J("ngSwitchCase","text"),d.xp6(1),d.Q6J("ngSwitchCase","textSuffix"),d.xp6(1),d.Q6J("ngSwitchCase","sides"),d.xp6(1),d.Q6J("ngSwitchCase","color")}}function ae(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",23)(1,"system-section",24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"spice-page-builder-input-color",28),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.element.attributes["border-color"]=t)})),d.qZA()(),d.TgZ(6,"div",27)(7,"spice-page-builder-input-text",29),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.element.attributes["border-width"]=t)})),d.qZA()()()()()(),d.TgZ(8,"div",23)(9,"system-section",30)(10,"div",31)(11,"div",32),d.YNc(12,ce,5,5,"ng-container",33),d.qZA()()()()}if(2&e){const e=d.oxw();d.xp6(1),d.Q6J("alwaysExpanded",!0),d.xp6(4),d.Q6J("ngModel",e.element.attributes["border-color"]),d.xp6(2),d.Q6J("ngModel",e.element.attributes["border-width"])("suffix",e.spicePageBuilderService.defaultSuffix),d.xp6(2),d.Q6J("alwaysExpanded",!0),d.xp6(3),d.Q6J("ngForOf",e.attributesList)}}let re=(()=>{var e;class SpicePageBuilderElementDivider extends B{constructor(e,t,i,n,l){super(e,t,i,n,l),(0,s.Z)(this,"domSanitizer",void 0),(0,s.Z)(this,"modal",void 0),(0,s.Z)(this,"injector",void 0),(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"element",void 0),(0,s.Z)(this,"attributesList",[{name:"container-background-color",type:"color"},{name:"border-style",type:"text"},{name:"padding",type:"sides"},{name:"width",type:"textSuffix"},{name:"css-class",type:"text"}]),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=n,this.spicePageBuilderService=l}generateStyle(){super.generateStyle(["border-color","border-style","border-width"])}}return e=SpicePageBuilderElementDivider,(0,s.Z)(SpicePageBuilderElementDivider,"ɵfac",(function(t){return new(t||e)(d.Y36(w.H7),d.Y36(m.o),d.Y36(d.zs3),d.Y36(d.sBO),d.Y36(v))})),(0,s.Z)(SpicePageBuilderElementDivider,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-element-divider"]],inputs:{element:"element"},features:[d.qOj],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_DIVIDER"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"ngStyle"],[2,"margin","0",3,"ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1"],[1,"slds-grid"],["label","LBL_COLOR",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","ngModelChange"],["label","LBL_THICKNESS",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","suffix","ngModelChange"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&(d.YNc(0,se,21,13,"div",0),d.YNc(1,ae,13,6,"ng-template",null,1,d.W1O)),2&e){const e=d.MAs(2);d.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[n.sg,n.O5,n.PC,n.RF,n.n9,S.J,M.f,a._,J.P,c.JJ,c.On,C.S,E.Bh,p,Z,y],encapsulation:2,changeDetection:0})),SpicePageBuilderElementDivider})();function ue(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",2),d.NdJ("mouseenter",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!1))})),d.TgZ(1,"div",3)(2,"div",4)(3,"div",5),d._UZ(4,"system-icon",6),d.qZA(),d.TgZ(5,"div",7)(6,"h2",8),d._UZ(7,"system-label",9),d.qZA()(),d.TgZ(8,"button",10),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),d._UZ(9,"system-button-icon",11),d.qZA()()(),d.TgZ(10,"article",12),d.NdJ("dblclick",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d._UZ(11,"div",13),d.qZA(),d.TgZ(12,"div",14)(13,"div",15)(14,"button",16),d._UZ(15,"system-button-icon",17),d.qZA(),d.TgZ(16,"button",18),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d._UZ(17,"system-button-icon",19),d.qZA(),d.TgZ(18,"button",20),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.delete$.emit())})),d._UZ(19,"system-button-icon",21),d.qZA()()()()}if(2&e){const e=d.oxw();d.ekj("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),d.xp6(9),d.Q6J("inverse",!0),d.xp6(2),d.Udp("background-color",e.element.attributes["container-background-color"]),d.Q6J("ngStyle",e.style)}}function pe(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",35),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function ge(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",36),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function me(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-sides",35),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function he(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-color",35),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function fe(e,t){if(1&e&&(d.ynx(0,32),d.YNc(1,pe,1,2,"spice-page-builder-input-text",33),d.YNc(2,ge,1,3,"spice-page-builder-input-text",34),d.YNc(3,me,1,2,"spice-page-builder-input-sides",33),d.YNc(4,he,1,2,"spice-page-builder-input-color",33),d.BQk()),2&e){const e=t.$implicit;d.Q6J("ngSwitch",e.type),d.xp6(1),d.Q6J("ngSwitchCase","text"),d.xp6(1),d.Q6J("ngSwitchCase","textSuffix"),d.xp6(1),d.Q6J("ngSwitchCase","sides"),d.xp6(1),d.Q6J("ngSwitchCase","color")}}function be(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",22)(1,"system-section",23)(2,"div",24)(3,"div",25)(4,"div",26)(5,"spice-page-builder-input-text",27),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.element.attributes.height=t)})),d.qZA()()()()()(),d.TgZ(6,"div",22)(7,"system-section",28)(8,"div",29)(9,"div",30),d.YNc(10,fe,5,5,"ng-container",31),d.qZA()()()()}if(2&e){const e=d.oxw();d.xp6(1),d.Q6J("alwaysExpanded",!0),d.xp6(4),d.Q6J("ngModel",e.element.attributes.height),d.xp6(2),d.Q6J("alwaysExpanded",!0),d.xp6(3),d.Q6J("ngForOf",e.attributesList)}}let xe=(()=>{var e;class SpicePageBuilderElementSpacer extends B{constructor(e,t,i,n,l){super(e,t,i,n,l),(0,s.Z)(this,"domSanitizer",void 0),(0,s.Z)(this,"modal",void 0),(0,s.Z)(this,"injector",void 0),(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"element",void 0),(0,s.Z)(this,"attributesList",[{name:"width",type:"textSuffix"},{name:"padding",type:"sides"},{name:"container-background-color",type:"color"},{name:"vertical-align",type:"text"},{name:"css-class",type:"text"}]),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=n,this.spicePageBuilderService=l}generateStyle(){super.generateStyle(["width","padding","vertical-align","height"])}}return e=SpicePageBuilderElementSpacer,(0,s.Z)(SpicePageBuilderElementSpacer,"ɵfac",(function(t){return new(t||e)(d.Y36(w.H7),d.Y36(m.o),d.Y36(d.zs3),d.Y36(d.sBO),d.Y36(v))})),(0,s.Z)(SpicePageBuilderElementSpacer,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-element-spacer"]],inputs:{element:"element"},features:[d.qOj],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_SPACER"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1"],[1,"slds-grid"],["label","LBL_SPACING",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","ngModelChange"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&(d.YNc(0,ue,20,6,"div",0),d.YNc(1,be,11,4,"ng-template",null,1,d.W1O)),2&e){const e=d.MAs(2);d.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[n.sg,n.O5,n.PC,n.RF,n.n9,S.J,M.f,a._,J.P,c.JJ,c.On,C.S,E.Bh,p,Z,y],encapsulation:2,changeDetection:0})),SpicePageBuilderElementSpacer})();var ve=i(5710);const Ze=function(e,t){return{"background-color":e,padding:t}};function ye(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",2),d.NdJ("mouseenter",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!1))})),d.TgZ(1,"div",3)(2,"div",4)(3,"div",5),d._UZ(4,"system-icon",6),d.qZA(),d.TgZ(5,"div",7)(6,"h2",8),d._UZ(7,"system-label",9),d.qZA()(),d.TgZ(8,"button",10),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),d._UZ(9,"system-button-icon",11),d.qZA()()(),d.TgZ(10,"article",12),d.NdJ("dblclick",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d.TgZ(11,"div",13)(12,"div",13),d._uU(13),d.qZA()()(),d.TgZ(14,"div",14)(15,"div",15)(16,"button",16),d._UZ(17,"system-button-icon",17),d.qZA(),d.TgZ(18,"button",18),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d._UZ(19,"system-button-icon",19),d.qZA(),d.TgZ(20,"button",20),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.delete$.emit())})),d._UZ(21,"system-button-icon",21),d.qZA()()()()}if(2&e){const e=d.oxw();d.ekj("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),d.xp6(9),d.Q6J("inverse",!0),d.xp6(2),d.Q6J("ngStyle",d.WLB(8,Ze,e.element.attributes["container-background-color"],e.element.attributes.padding)),d.xp6(1),d.Udp("padding",e.element.attributes["inner-padding"]),d.Q6J("ngStyle",e.style),d.xp6(1),d.hij(" ",e.element.content," ")}}function we(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",48),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function Se(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",49),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function Me(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-sides",48),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function _e(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-color",48),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function Ce(e,t){if(1&e&&(d.ynx(0,45),d.YNc(1,we,1,2,"spice-page-builder-input-text",46),d.YNc(2,Se,1,3,"spice-page-builder-input-text",47),d.YNc(3,Me,1,2,"spice-page-builder-input-sides",46),d.YNc(4,_e,1,2,"spice-page-builder-input-color",46),d.BQk()),2&e){const e=t.$implicit;d.Q6J("ngSwitch",e.type),d.xp6(1),d.Q6J("ngSwitchCase","text"),d.xp6(1),d.Q6J("ngSwitchCase","textSuffix"),d.xp6(1),d.Q6J("ngSwitchCase","sides"),d.xp6(1),d.Q6J("ngSwitchCase","color")}}const Ee=function(){return{value:"id",label:"LBL_BY_ID"}},Be=function(){return{value:void 0,icon:"topic2",label:"LBL_NONE"}},Je=function(){return{value:"url",icon:"link",label:"LBL_BY_URL"}},Le=function(e,t,i){return[e,t,i]};function Te(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",22)(1,"system-section",23)(2,"div",24)(3,"div",25)(4,"div",26)(5,"div",27)(6,"label",28),d._UZ(7,"system-label",29),d.qZA(),d.TgZ(8,"div",30)(9,"input",31),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.element.content=t)})),d.qZA()()(),d.TgZ(10,"div",27)(11,"label",28),d._UZ(12,"system-label",32),d.qZA(),d.TgZ(13,"div",30)(14,"input",31),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.element.attributes.href=t)})),d.qZA()()()(),d.TgZ(15,"div",26)(16,"spice-page-builder-input-color",33),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.element.attributes["background-color"]=t)})),d.qZA(),d.TgZ(17,"spice-page-builder-input-color",34),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.element.attributes.color=t)})),d.qZA()(),d.TgZ(18,"div",26)(19,"spice-page-builder-input-text",35),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.element.attributes["border-radius"]=t)})),d.qZA(),d.TgZ(20,"div",27)(21,"label",28),d._UZ(22,"system-label",36),d.qZA(),d.TgZ(23,"div",30)(24,"system-input-radio-button-group",37),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.element.attributes["text-align"]=t)})),d.qZA()()()(),d.TgZ(25,"div",26)(26,"div",38)(27,"label",28),d._UZ(28,"system-label",39),d.qZA(),d.TgZ(29,"system-input-radio-button-group",40),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.setTrackByMethod(t))})),d.qZA()()()()()()(),d.TgZ(30,"div",22)(31,"system-section",41)(32,"div",42)(33,"div",43),d.YNc(34,Ce,5,5,"ng-container",44),d.qZA()()()()}if(2&e){const e=d.oxw();d.xp6(1),d.Q6J("alwaysExpanded",!0),d.xp6(8),d.Q6J("ngModel",e.element.content),d.xp6(5),d.Q6J("ngModel",e.element.attributes.href),d.xp6(2),d.Q6J("ngModel",e.element.attributes["background-color"]),d.xp6(1),d.Q6J("ngModel",e.element.attributes.color),d.xp6(2),d.Q6J("ngModel",e.element.attributes["border-radius"])("suffix",e.spicePageBuilderService.defaultSuffix),d.xp6(5),d.Q6J("ngModel",e.element.attributes["text-align"])("inputOptions",e.spicePageBuilderService.alignOptions),d.xp6(5),d.Q6J("ngModel",e.element.trackByMethod)("inputOptions",d.kEZ(16,Le,d.DdM(13,Ee),d.DdM(14,Be),d.DdM(15,Je))),d.xp6(2),d.Q6J("alwaysExpanded",!0),d.xp6(3),d.Q6J("ngForOf",e.attributesList)}}let Ne=(()=>{var e;class SpicePageBuilderElementButton extends B{constructor(e,t,i,n,l,o){super(e,i,n,l,o),(0,s.Z)(this,"domSanitizer",void 0),(0,s.Z)(this,"model",void 0),(0,s.Z)(this,"modal",void 0),(0,s.Z)(this,"injector",void 0),(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"element",void 0),(0,s.Z)(this,"attributesList",[{name:"href",type:"text"},{name:"rel",type:"text"},{name:"target",type:"text"},{name:"align",type:"text"},{name:"width",type:"textSuffix"},{name:"container-background-color",type:"color"},{name:"border",type:"text"},{name:"border-top",type:"text"},{name:"border-right",type:"text"},{name:"border-bottom",type:"text"},{name:"border-left",type:"text"},{name:"height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"inner-padding",type:"sides"},{name:"line-height",type:"textSuffix"},{name:"vertical-align",type:"text"},{name:"font-size",type:"textSuffix"},{name:"font-style",type:"text"},{name:"font-weight",type:"text"},{name:"letter-spacing",type:"textSuffix"},{name:"text-decoration",type:"text"},{name:"text-transform",type:"text"},{name:"css-class",type:"text"}]),this.domSanitizer=e,this.model=t,this.modal=i,this.injector=n,this.cdRef=l,this.spicePageBuilderService=o,this.model.module="EmailTrackingLinks"}handleEditResponse(e){this.element.content=e.content,this.element.trackingLink=e.trackingLink,this.element.trackByMethod=e.trackByMethod,super.handleEditResponse(e)}generateStyle(){super.generateStyle(["width","border","border-top","border-right","border-bottom","border-left","border-radius","height","line-height","vertical-align","font-size","font-style","font-weight","text-align","letter-spacing","text-decoration","text-transform","background-color","align","color"])}setTrackByMethod(e){this.element.trackByMethod=e,"id"==e?this.openTrackingLinkSelectModal():"url"==e?this.element.trackingLink="":delete this.element.trackingLink}openTrackingLinkSelectModal(){const e=[{value:"select",display:"LBL_SELECT"},{value:"new",display:"LBL_NEW"},{value:void 0,display:"LBL_CANCEL"}];this.modal.prompt("input","LBL_MAKE_SELECTION","LBL_TRACKINGLINKS","shade","select",e,"button").subscribe((e=>{if(e)switch(e){case"new":const e={name:this.element.content,url:this.element.attributes.href};this.model.addModel("",null,e,!0).subscribe((e=>{this.element.trackingLink=e.id}));break;case"select":this.modal.openModal("ObjectModalModuleLookup").subscribe((e=>{e.instance.module="EmailTrackingLinks",e.instance.multiselect=!1,e.instance.selectedItems.subscribe((e=>{this.element.trackingLink=e[0].id}))}))}}))}}return e=SpicePageBuilderElementButton,(0,s.Z)(SpicePageBuilderElementButton,"ɵfac",(function(t){return new(t||e)(d.Y36(w.H7),d.Y36(ve.o),d.Y36(m.o),d.Y36(d.zs3),d.Y36(d.sBO),d.Y36(v))})),(0,s.Z)(SpicePageBuilderElementButton,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-element-button"]],inputs:{element:"element"},features:[d._Bn([ve.o]),d.qOj],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_BUTTON"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-x-small"],["icon","move"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-x-small",3,"click"],["icon","edit"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-x-small",3,"click"],["icon","delete"],[2,"height","50%"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1"],[1,"slds-grid"],[1,"slds-form-element","slds-size--1-of-2","slds-p-horizontal--xxx-small"],[1,"slds-form-element__label"],["label","LBL_TEXT"],[1,"slds-form-element__control"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_URL"],["label","LBL_BACKGROUND_COLOR",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","ngModelChange"],["label","LBL_COLOR",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","ngModelChange"],["label","LBL_RADIUS",1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","suffix","ngModelChange"],["label","LBL_TEXT_ALIGN"],[3,"ngModel","inputOptions","ngModelChange"],[1,"slds-form-element","slds-col","slds-grow-none"],["label","LBL_CLICKS_TRACKABLE"],[1,"spice-display-block",3,"ngModel","inputOptions","ngModelChange"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&(d.YNc(0,ye,22,11,"div",0),d.YNc(1,Te,35,20,"ng-template",null,1,d.W1O)),2&e){const e=d.MAs(2);d.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[n.sg,n.O5,n.PC,n.RF,n.n9,S.J,M.f,I.p,a._,J.P,c.Fj,c.JJ,c.On,C.S,E.Bh,p,Z,y],encapsulation:2,changeDetection:0})),SpicePageBuilderElementButton})();var ke=i(2067);function De(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",2),d.NdJ("mouseenter",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!1))})),d.TgZ(1,"div",3)(2,"div",4)(3,"div",5),d._UZ(4,"system-icon",6),d.qZA(),d.TgZ(5,"div",7)(6,"h2",8),d._UZ(7,"system-label",9),d.qZA()(),d.TgZ(8,"button",10),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),d._UZ(9,"system-button-icon",11),d.qZA()()(),d.TgZ(10,"article",12),d.NdJ("dblclick",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d._UZ(11,"div",13),d.qZA(),d.TgZ(12,"div",14)(13,"div",15)(14,"button",16),d._UZ(15,"system-button-icon",17),d.qZA(),d.TgZ(16,"button",18),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d._UZ(17,"system-button-icon",19),d.qZA(),d.TgZ(18,"button",20),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.delete$.emit())})),d._UZ(19,"system-button-icon",21),d.qZA()()()()}if(2&e){const e=d.oxw();d.ekj("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),d.xp6(9),d.Q6J("inverse",!0),d.xp6(2),d.Q6J("innerHTML",e.sanitizedContent,d.oJD)("ngStyle",e.style)}}function Ae(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",22)(1,"system-section",23)(2,"div",24)(3,"system-html-editor",25),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.element.content=t)})),d.qZA()()()()}if(2&e){const e=d.oxw();d.xp6(1),d.Q6J("alwaysExpanded",!0),d.xp6(2),d.Q6J("ngModel",e.element.content)}}let Pe=(()=>{var e;class SpicePageBuilderElementCode extends B{constructor(e,t,i,n,l,o){super(e,t,i,n,o),(0,s.Z)(this,"domSanitizer",void 0),(0,s.Z)(this,"modal",void 0),(0,s.Z)(this,"injector",void 0),(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"libloader",void 0),(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"element",void 0),(0,s.Z)(this,"attributesList",[]),(0,s.Z)(this,"beautifyLoaded",!1),(0,s.Z)(this,"sanitizedContent",""),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=n,this.libloader=l,this.spicePageBuilderService=o}ngOnInit(){super.ngOnInit(),this.sanitizeContent(),this.isEditMode&&this.loadBeatifyLibrary()}handleEditResponse(e){this.element.content=e.content,this.sanitizeContent(),super.handleEditResponse(e)}loadBeatifyLibrary(){this.libloader.loadLib("jsbeautify").subscribe((e=>{this.beautifyLoaded=!0,this.cdRef.detectChanges()}))}sanitizeContent(){this.sanitizedContent=this.domSanitizer.bypassSecurityTrustHtml(this.element.content)}beautify(){this.element.content=html_beautify(this.element.content,{indent_size:4,indent_char:" ",indent_with_tabs:!1,end_with_newline:!1,indent_level:0,preserve_newlines:!0,max_preserve_newlines:10,space_in_paren:!1,space_in_empty_paren:!1,unindent_chained_methods:!1,break_chained_methods:!1,keep_array_indentation:!1,unescape_strings:!1,wrap_line_length:100,e4x:!1,comma_first:!1,operator_position:"before-newline",indent_empty_lines:!1,templating:["auto"]}),this.cdRef.detectChanges()}}return e=SpicePageBuilderElementCode,(0,s.Z)(SpicePageBuilderElementCode,"ɵfac",(function(t){return new(t||e)(d.Y36(w.H7),d.Y36(m.o),d.Y36(d.zs3),d.Y36(d.sBO),d.Y36(ke.$),d.Y36(v))})),(0,s.Z)(SpicePageBuilderElementCode,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-element-code"]],inputs:{element:"element"},features:[d.qOj],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_HTML_CODE"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[3,"innerHTML","ngStyle"],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],[1,"slds-height_full"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1","spice-page-builder-text-editor",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(d.YNc(0,De,20,5,"div",0),d.YNc(1,Ae,4,2,"ng-template",null,1,d.W1O)),2&e){const e=d.MAs(2);d.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[n.O5,n.PC,S.J,M.f,a._,J.P,q.e,c.JJ,c.On,C.S,E.Bh],encapsulation:2,changeDetection:0})),SpicePageBuilderElementCode})();function Qe(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",2),d.NdJ("mouseenter",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!1))})),d.TgZ(1,"div",3)(2,"div",4)(3,"div",5),d._UZ(4,"system-icon",6),d.qZA(),d.TgZ(5,"div",7)(6,"h2",8),d._UZ(7,"system-label",9),d.qZA()(),d.TgZ(8,"button",10),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.spicePageBuilderService.saveCustomElement(t.element,"item"))})),d._UZ(9,"system-button-icon",11),d.qZA()()(),d.TgZ(10,"article",12),d.NdJ("dblclick",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d.TgZ(11,"div",13)(12,"div",14),d._uU(13),d.qZA(),d._UZ(14,"img",15),d.qZA()(),d.TgZ(15,"div",16)(16,"div",17)(17,"button",18),d._UZ(18,"system-button-icon",19),d.qZA(),d.TgZ(19,"button",20),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d._UZ(20,"system-button-icon",21),d.qZA(),d.TgZ(21,"button",22),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.delete$.emit())})),d._UZ(22,"system-button-icon",23),d.qZA()()()()}if(2&e){const e=d.oxw();d.ekj("slds-is-hovered","content"==e.spicePageBuilderService.isMouseIn),d.xp6(9),d.Q6J("inverse",!0),d.xp6(2),d.Q6J("ngStyle",e.style),d.xp6(1),d.Q6J("title",e.element.content),d.xp6(1),d.Oqu(e.element.content)}}function ze(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",47),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw().$implicit;return d.KtG(s.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw().$implicit;d.Q6J("ngModel",t.attributes[e.name])("label",e.name)}}function Ie(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",48),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw().$implicit;return d.KtG(s.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw().$implicit,i=d.oxw(3);d.Q6J("ngModel",t.attributes[e.name])("label",e.name)("suffix",i.spicePageBuilderService.defaultSuffix)}}function Oe(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-sides",47),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw().$implicit;return d.KtG(s.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw().$implicit;d.Q6J("ngModel",t.attributes[e.name])("label",e.name)}}function qe(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-color",47),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw().$implicit;return d.KtG(s.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw().$implicit;d.Q6J("ngModel",t.attributes[e.name])("label",e.name)}}function He(e,t){if(1&e&&(d.ynx(0,44),d.YNc(1,ze,1,2,"spice-page-builder-input-text",45),d.YNc(2,Ie,1,3,"spice-page-builder-input-text",46),d.YNc(3,Oe,1,2,"spice-page-builder-input-sides",45),d.YNc(4,qe,1,2,"spice-page-builder-input-color",45),d.BQk()),2&e){const e=t.$implicit;d.Q6J("ngSwitch",e.type),d.xp6(1),d.Q6J("ngSwitchCase","text"),d.xp6(1),d.Q6J("ngSwitchCase","textSuffix"),d.xp6(1),d.Q6J("ngSwitchCase","sides"),d.xp6(1),d.Q6J("ngSwitchCase","color")}}function Fe(e,t){if(1&e&&(d.ynx(0),d.TgZ(1,"system-section",43)(2,"div",41),d.YNc(3,He,5,5,"ng-container",42),d.qZA()(),d.BQk()),2&e){const e=t.$implicit,i=d.oxw(3);d.xp6(1),d.Q6J("titlelabel",e.attributes["css-class"])("alwaysExpanded",!0),d.xp6(2),d.Q6J("ngForOf",i.childrenAttributesList[e.attributes["css-class"]])}}function Ye(e,t){if(1&e&&(d.ynx(0),d.YNc(1,Fe,4,3,"ng-container",38),d.BQk()),2&e){const e=t.$implicit;d.xp6(1),d.Q6J("ngForOf",e.children)}}function Ge(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",47),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function Re(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",48),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function Ue(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-sides",47),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function Ke(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-color",47),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.element.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.element.attributes[e.name])("label",e.name)}}function $e(e,t){if(1&e&&(d.ynx(0,44),d.YNc(1,Ge,1,2,"spice-page-builder-input-text",45),d.YNc(2,Re,1,3,"spice-page-builder-input-text",46),d.YNc(3,Ue,1,2,"spice-page-builder-input-sides",45),d.YNc(4,Ke,1,2,"spice-page-builder-input-color",45),d.BQk()),2&e){const e=t.$implicit;d.Q6J("ngSwitch",e.type),d.xp6(1),d.Q6J("ngSwitchCase","text"),d.xp6(1),d.Q6J("ngSwitchCase","textSuffix"),d.xp6(1),d.Q6J("ngSwitchCase","sides"),d.xp6(1),d.Q6J("ngSwitchCase","color")}}function je(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div")(1,"system-section",24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"div",28)(6,"label",29),d._UZ(7,"system-label",30),d.qZA(),d.TgZ(8,"div",31)(9,"input",32),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.element.content=t)})),d.qZA()()(),d.TgZ(10,"div",28)(11,"label",29),d._UZ(12,"system-label",33),d.qZA(),d.TgZ(13,"div",31)(14,"input",32),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.element.href=t)})),d.qZA()()()(),d.TgZ(15,"div",27)(16,"div",28)(17,"label",29),d._UZ(18,"system-label",34),d.qZA(),d.TgZ(19,"div",31)(20,"input",35),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.count=t)})),d.qZA(),d._uU(21,"Min 1 - Max 100 "),d.qZA()(),d.TgZ(22,"div",28)(23,"label",29),d._UZ(24,"system-label",36),d.qZA(),d.TgZ(25,"div",31)(26,"system-input-radio-button-group",37),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.element.showDate=t)})),d.qZA()()()()()()(),d.YNc(27,Ye,2,1,"ng-container",38),d.qZA(),d.TgZ(28,"div")(29,"system-section",39)(30,"div",40)(31,"div",41),d.YNc(32,$e,5,5,"ng-container",42),d.qZA()()()()}if(2&e){const e=d.oxw();d.xp6(1),d.Q6J("alwaysExpanded",!0),d.xp6(8),d.Q6J("ngModel",e.element.content),d.xp6(5),d.Q6J("ngModel",e.element.href),d.xp6(6),d.Q6J("ngModel",e.count),d.xp6(6),d.Q6J("ngModel",e.element.showDate)("inputOptions",e.dateHiddenOptions),d.xp6(1),d.Q6J("ngForOf",e.element.children[0].children[0].children),d.xp6(2),d.Q6J("alwaysExpanded",!0),d.xp6(3),d.Q6J("ngForOf",e.attributesList)}}let Ve=(()=>{var e;class SpicePageBuilderElementRSS extends B{constructor(e,t,i,n,l){super(e,t,i,n,l),(0,s.Z)(this,"domSanitizer",void 0),(0,s.Z)(this,"modal",void 0),(0,s.Z)(this,"injector",void 0),(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"element",void 0),(0,s.Z)(this,"attributesList",[{name:"align",type:"text"},{name:"width",type:"textSuffix"},{name:"border",type:"text"},{name:"border-top",type:"text"},{name:"border-right",type:"text"},{name:"border-bottom",type:"text"},{name:"border-left",type:"text"},{name:"height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"line-height",type:"textSuffix"},{name:"vertical-align",type:"text"},{name:"font-size",type:"textSuffix"},{name:"font-style",type:"text"},{name:"font-weight",type:"text"},{name:"letter-spacing",type:"textSuffix"},{name:"text-decoration",type:"text"},{name:"text-transform",type:"text"},{name:"css-class",type:"text"}]),(0,s.Z)(this,"childrenAttributesList",{"rss-header":[{name:"align",type:"text"},{name:"inner-padding",type:"sides"},{name:"background-color",type:"color"},{name:"color",type:"color"},{name:"font-size",type:"textSuffix"},{name:"line-height",type:"textSuffix"},{name:"font-weight",type:"text"},{name:"padding",type:"sides"},{name:"container-background-color",type:"color"}],"rss-date":[{name:"font-size",type:"textSuffix"},{name:"line-height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"container-background-color",type:"color"}],"rss-description":[{name:"font-size",type:"textSuffix"},{name:"line-height",type:"textSuffix"},{name:"padding",type:"sides"},{name:"container-background-color",type:"color"}],"rss-image":[{name:"align",type:"text"},{name:"width",type:"text"},{name:"height",type:"text"},{name:"padding",type:"sides"},{name:"fluid-on-mobile",type:"text"}]}),(0,s.Z)(this,"dateHiddenOptions",[{label:"LBL_HIDDEN",value:"0"},{label:"LBL_VISIBLE",value:"1"}]),this.domSanitizer=e,this.modal=t,this.injector=i,this.cdRef=n,this.spicePageBuilderService=l}set count(e){+e<1&&(e="1"),+e>100&&(e="100"),this.element.count=e}get count(){return this.element.count}handleEditResponse(e){this.element.content=e.content,this.element.href=e.href,this.element.count=e.count,this.element.showDate=e.showDate,this.element.children=e.children,super.handleEditResponse(e)}generateStyle(){super.generateStyle(["width","background-color","border","border-top","border-right","border-bottom","border-left","height","padding","css-class"])}}return e=SpicePageBuilderElementRSS,(0,s.Z)(SpicePageBuilderElementRSS,"ɵfac",(function(t){return new(t||e)(d.Y36(w.H7),d.Y36(m.o),d.Y36(d.zs3),d.Y36(d.sBO),d.Y36(v))})),(0,s.Z)(SpicePageBuilderElementRSS,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-element-rss"]],inputs:{element:"element"},features:[d.qOj],decls:3,vars:2,consts:[["class","spice-drop-zone","tabindex","-1",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","text","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_RSS_FEED"],[1,"slds-button","slds-button--icon","slds-m-right--xx-small",3,"click"],["icon","save",3,"inverse"],[1,"spice-drop-zone-content",3,"dblclick"],[1,"slds-grid","slds-grid--vertical","slds-grid--vertical-align-center","slds-grid--align-center",3,"ngStyle"],[1,"slds-p-horizontal--xx-small","slds-truncate",3,"title"],["alt","","src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAaVBMVEVHcEz/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/pQD/////pAD/04H/9eP/qg7/vkf/36P/+vD/sB7/79H/ujr//vz/6L7//ff/tCn/owD/x2D/2JD/0Xz/w1X/ymn/zW8DMx5KAAAADHRSTlMAdwb+UdH3I+mM+caVTWFiAAAEpUlEQVRo3r2a2ZaiMBCG06MiTDNFIOy7vv9DTqBbTWUjCJg+xxtoP2r/MSFEWNdz8O17p3DTOnn+d3C+Eu36cw0uHr8n3GN5l0CHuQb+ToDf5auY82VfxLQuZ+yqLz88YPlff0TG3/CQ9VegHMWYKM94+OFhy/+Ny/USHrguPzkWHMkIT8FsiH8oJPSv2BDgq22nzz0pAYoIFNFwv3VJ0WRxCO1eKB6Vs/eCRP+mVaYprVjfFVm8i03eGXnrB8Ix5fRZ06ofm3g7JyDfGsgvavqgVZRw322CfBPfCHmsOu+TTfb4xFuEzJyhed8cj5xcINx1lHFz3qxHEjpBZnOq7k3MCgi3503MKghf1fgGZi2EO61YnQKrIbwh9BlsgNwppWldLnLycZ0xIiSMs6YpivEWsYqmVp+xVcYgyNzrp2bPcUXXV9RsVJ68DXnRWv4XNx3LawMljdzTjNgu8oaVjb3JHtbAHhC+uOuyrtIHKC9gH8hsT5wwLYaOu0EmTlj0Okx63xEyY3TW1MOekAmTVGoKlC5JRlakO8R3qlL6eFcIxzSsVG1ZB3lou3XGlMOqBlkMw6TtJmlnJEFRKdG/r271dUpzFpkFF2SKy9IR3pon5Sy4tJw2HuRkpvbatw2tOo8KPaeTA5Nb+9jCZEwn6aD5/1GmsHjD+C3L/KYZUJDIlGjjjM9valW3MiVNYJuQKKtEGeoKJTdPZEe1olEorRwXtl0SaYZ6hzO5NlaLu+7SDPWhdHPYGnGn6KCY4Rt6R3Fn1XbyUG8z3MdSQ+Er4i4ZB5YblF2ZS3kKBQ5+FTuKu0naTYJLaxGVKXfxttIQe2IWXFqFIlOksOhNIRZhV/R0kQINvqeDleMXwkYjhKToY4fpTVma8YWqUCqcyTHKsFJnyhJEN9RxW4ckXTJlWa1ohrrU1lHsa003dtHCylDHbR2KdKFPuuguiPva2tZ79EqpTmIncQfhUFu6lGTKAK7F2AL+VU2iSHOQod4Tu0B4uSc3rvOSTJiHfWkubZxgauiJTr0zWv/8qsaeYxek/oHqAXCt9IuWcE0tPFb6fDEEqa2j2EMn2qn4iyhaJ5fHLujb+k2EZNTmL7Kkp14dUepS+HmRMyMrBJpcMw8fHrN0qXasLa2FWDqEXMNSPYhfBZn4dFSqR2LpdWpR4NIWez6gUhktEL0hgil4QkXG/OrNEJwj4rtKpjMFhR7zpaAgSGL4taZ+pbGxtFFWUNxARUh7MwmuW7ucqr2oWgojBAYT5NlYYSwNXmk7pCfaLRBjqmJPRpvcFZpSFWcN2xD4KVUN8wl3YpxeLiksJgs0qemBmTG9VhXjnKq5qVIiY2NZ11ZsD4wiil8iyMm9QaopKH5XK2Z3KT7XSdykWWr1aj2INQ+FmDZjK27S+M5D6/FqXeuLrkWFIiT9yRc3zuzjV1t0wnfhvLuDuHEWOAqJ5wOjdisUivFCGIibmTZJZCimAZYveGfdRrlW3L0K5R69lpippgvTZnngJFPlrYnHcrgQfGqr/OBN/9mQDx1f+MhBjM8cKfnM4ZiPHPP5ObC0f8zPuqNX+5phOOF18fYiGA6RHXkc7j/PiO/oPEbyIgAAAABJRU5ErkJggg=="],[1,"spice-drop-zone-actions"],["role","group",1,"slds-button-group"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small"],["icon","move","addclasses","slds-icon"],["system-title","LBL_EDIT",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","edit","addclasses","slds-icon"],["system-title","LBL_DELETE",1,"slds-button","slds-button_icon","slds-button_icon-brand","slds-button_icon-x-small",3,"click"],["icon","delete","addclasses","slds-icon"],["titlelabel","LBL_ELEMENT_CONTENT",1,"spice-collapsible-tab-grow","slds-m-bottom--small",3,"alwaysExpanded"],[1,"slds-grid","slds-size--1-of-1","slds-height_full","slds-p-around--xx-small"],[1,"slds-size--1-of-1"],[1,"slds-grid"],[1,"slds-form-element","slds-size--1-of-2","slds-p-horizontal--xxx-small"],[1,"slds-form-element__label"],["label","LBL_TEXT"],[1,"slds-form-element__control"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_URL"],["label","LBL_COUNT"],["type","text","max","100","min","1",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_DATE_VISIBILITY"],[3,"ngModel","inputOptions","ngModelChange"],[4,"ngFor","ngForOf"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"spice-collapsible-tab-grow","slds-m-bottom--small",3,"titlelabel","alwaysExpanded"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&(d.YNc(0,Qe,23,6,"div",0),d.YNc(1,je,33,9,"ng-template",null,1,d.W1O)),2&e){const e=d.MAs(2);d.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[n.sg,n.O5,n.PC,n.RF,n.n9,S.J,M.f,I.p,a._,J.P,c.Fj,c.JJ,c.On,C.S,E.Bh,p,Z,y],encapsulation:2,changeDetection:0})),SpicePageBuilderElementRSS})();const We=["dropList"];function Xe(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-element-text",6),d.NdJ("delete$",(function(){d.CHM(e);const t=d.oxw().$implicit,i=d.oxw();return d.KtG(i.onContentDelete(t))})),d.qZA()}if(2&e){const e=d.oxw().$implicit;d.Q6J("element",e)("cdkDragData",e)}}function et(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-element-image",6),d.NdJ("delete$",(function(){d.CHM(e);const t=d.oxw().$implicit,i=d.oxw();return d.KtG(i.onContentDelete(t))})),d.qZA()}if(2&e){const e=d.oxw().$implicit;d.Q6J("element",e)("cdkDragData",e)}}function tt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-element-button",6),d.NdJ("delete$",(function(){d.CHM(e);const t=d.oxw().$implicit,i=d.oxw();return d.KtG(i.onContentDelete(t))})),d.qZA()}if(2&e){const e=d.oxw().$implicit;d.Q6J("element",e)("cdkDragData",e)}}function it(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-element-divider",6),d.NdJ("delete$",(function(){d.CHM(e);const t=d.oxw().$implicit,i=d.oxw();return d.KtG(i.onContentDelete(t))})),d.qZA()}if(2&e){const e=d.oxw().$implicit;d.Q6J("element",e)("cdkDragData",e)}}function st(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-element-spacer",6),d.NdJ("delete$",(function(){d.CHM(e);const t=d.oxw().$implicit,i=d.oxw();return d.KtG(i.onContentDelete(t))})),d.qZA()}if(2&e){const e=d.oxw().$implicit;d.Q6J("element",e)("cdkDragData",e)}}function nt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-element-code",6),d.NdJ("delete$",(function(){d.CHM(e);const t=d.oxw().$implicit,i=d.oxw();return d.KtG(i.onContentDelete(t))})),d.qZA()}if(2&e){const e=d.oxw().$implicit;d.Q6J("element",e)("cdkDragData",e)}}function lt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-element-rss",6),d.NdJ("delete$",(function(){d.CHM(e);const t=d.oxw().$implicit,i=d.oxw();return d.KtG(i.onContentDelete(t))})),d.qZA()}if(2&e){const e=d.oxw().$implicit;d.Q6J("element",e)("cdkDragData",e)}}function ot(e,t){if(1&e&&(d.ynx(0,4),d.YNc(1,Xe,1,2,"spice-page-builder-element-text",5),d.YNc(2,et,1,2,"spice-page-builder-element-image",5),d.YNc(3,tt,1,2,"spice-page-builder-element-button",5),d.YNc(4,it,1,2,"spice-page-builder-element-divider",5),d.YNc(5,st,1,2,"spice-page-builder-element-spacer",5),d.YNc(6,nt,1,2,"spice-page-builder-element-code",5),d.YNc(7,lt,1,2,"spice-page-builder-element-rss",5),d.BQk()),2&e){const e=t.$implicit;d.Q6J("ngSwitch",e.tagName),d.xp6(1),d.Q6J("ngSwitchCase","text"),d.xp6(1),d.Q6J("ngSwitchCase","image"),d.xp6(1),d.Q6J("ngSwitchCase","button"),d.xp6(1),d.Q6J("ngSwitchCase","divider"),d.xp6(1),d.Q6J("ngSwitchCase","spacer"),d.xp6(1),d.Q6J("ngSwitchCase","raw"),d.xp6(1),d.Q6J("ngSwitchCase","rss")}}function dt(e,t){if(1&e&&(d.TgZ(0,"div",7)(1,"div",8),d._UZ(2,"system-label",9),d.qZA()()),2&e){const e=d.oxw();d.Udp("height",e.spicePageBuilderService.defaultPlaceholderHeight,"px")}}let ct=(()=>{var e;class SpicePageBuilderElementColumn{constructor(e,t,i){(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"modal",void 0),(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"column",void 0),(0,s.Z)(this,"dragEntered",!1),(0,s.Z)(this,"dropList",void 0),(0,s.Z)(this,"style",{}),this.spicePageBuilderService=e,this.modal=t,this.cdRef=i}ngOnInit(){this.generateStyle()}ngAfterViewInit(){this.spicePageBuilderService.addDropListToGroup(this.dropList)}trackByFn(e,t){return e}contentPredicate(e){return"section"!=e.data.tagName}generateStyle(){this.style={"background-color":this.column.attributes["background-color"],border:this.column.attributes.border,"border-top":this.column.attributes["border-top"],"border-right":this.column.attributes["border-right"],"border-bottom":this.column.attributes["border-bottom"],"border-left":this.column.attributes["border-left"],"border-radius":this.column.attributes["border-radius"],width:this.column.attributes.width,"vertical-align":this.column.attributes["vertical-align"],padding:this.column.attributes.padding}}onDrop(e){if(e.previousContainer!=e.container)if(this.spicePageBuilderService.dragPlaceholderNode&&e.previousContainer.element.nativeElement.contains(this.spicePageBuilderService.dragPlaceholderNode)&&(e.previousContainer.element.nativeElement.removeChild(this.spicePageBuilderService.dragPlaceholderNode),this.spicePageBuilderService.dragPlaceholderNode=void 0),-1==e.previousContainer.id.indexOf("panel-drop-list")&&(e.previousContainer.data.children=e.previousContainer.data.children.filter((t=>t!=e.item.data))),"image"===e.item.data.tagName)this.spicePageBuilderService.openMediaFilePicker().subscribe((t=>{if(t){const i=JSON.parse(JSON.stringify(e.item.data));i.attributes.src=t,delete i.icon,this.column.children.splice(e.currentIndex,0,i),this.cdRef.detectChanges()}}));else{const t=JSON.parse(JSON.stringify(e.item.data));delete t.icon,this.column.children.splice(e.currentIndex,0,t)}else(0,E.bA)(this.column.children,e.previousIndex,e.currentIndex);this.spicePageBuilderService.emitData(),this.dragEntered=!1}onDragExit(e){this.dragEntered=!1}onDragEnter(e){this.dragEntered=!0}onContentDelete(e){this.column.children=this.column.children.filter((t=>t!=e)),this.spicePageBuilderService.emitData()}}return e=SpicePageBuilderElementColumn,(0,s.Z)(SpicePageBuilderElementColumn,"ɵfac",(function(t){return new(t||e)(d.Y36(v),d.Y36(m.o),d.Y36(d.sBO))})),(0,s.Z)(SpicePageBuilderElementColumn,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-element-column"]],viewQuery:function(e,t){if(1&e&&d.Gf(We,5,E.Wj),2&e){let e;d.iGM(e=d.CRH())&&(t.dropList=e.first)}},inputs:{column:"column"},decls:4,vars:6,consts:[["cdkDropList","",1,"slds-grid","slds-grid--vertical","spice-page-builder-renderer-drop-list",3,"ngStyle","cdkDropListEnterPredicate","cdkDropListData","cdkDropListEntered","cdkDropListExited","cdkDropListDropped"],["dropList","cdkDropList"],[3,"ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],["class","slds-align--absolute-center slds-size--1-of-1",3,"height",4,"ngIf"],[3,"ngSwitch"],["cdkDrag","","class","slds-grid slds-grow slds-drag--preview","style","width: 100%",3,"element","cdkDragData","delete$",4,"ngSwitchCase"],["cdkDrag","",1,"slds-grid","slds-grow","slds-drag--preview",2,"width","100%",3,"element","cdkDragData","delete$"],[1,"slds-align--absolute-center","slds-size--1-of-1"],[1,"slds-align--absolute-center","slds-height_full","slds-size--1-of-1","slds-theme--shade","slds-text-title--caps","slds-truncate"],["label","MSG_DROP_CONTENT_HERE"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0,1),d.NdJ("cdkDropListEntered",(function(e){return t.onDragEnter(e)}))("cdkDropListExited",(function(e){return t.onDragExit(e)}))("cdkDropListDropped",(function(e){return t.onDrop(e)})),d.YNc(2,ot,8,8,"ng-container",2),d.YNc(3,dt,3,2,"div",3),d.qZA()),2&e&&(d.Q6J("ngStyle",t.style)("cdkDropListEnterPredicate",t.contentPredicate)("cdkDropListData",t.column),d.xp6(2),d.Q6J("ngForOf",t.column.children)("ngForTrackBy",t.trackByFn),d.xp6(1),d.Q6J("ngIf",!t.dragEntered&&0==(null==t.column.children?null:t.column.children.length)))},dependencies:[n.sg,n.O5,n.PC,n.RF,n.n9,a._,E.Wj,E.Zt,z,ee,re,xe,Ne,Pe,Ve],encapsulation:2,changeDetection:0})),SpicePageBuilderElementColumn})();function at(e,t){if(1&e&&d._UZ(0,"spice-page-builder-element-column",20),2&e){const e=t.$implicit,i=d.oxw(2);d.Udp("width",100/i.section.children.length,"%"),d.Q6J("column",e)}}const rt=function(){return["section","content"]};function ut(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",2),d.NdJ("mouseenter",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!0))}))("mouseleave",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.setIsMouseIn(!1))})),d.TgZ(1,"div",3)(2,"div",4)(3,"div",5),d._UZ(4,"system-icon",6),d.qZA(),d.TgZ(5,"div",7)(6,"h2",8),d._UZ(7,"system-label",9),d.qZA()(),d.TgZ(8,"button",10),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.saveAsCustom())})),d._UZ(9,"system-button-icon",11),d.qZA(),d.TgZ(10,"button",12),d._UZ(11,"system-button-icon",13),d.qZA(),d.TgZ(12,"button",14),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.edit())})),d._UZ(13,"system-button-icon",15),d.qZA(),d.TgZ(14,"button",16),d.NdJ("click",(function(){d.CHM(e);const t=d.oxw();return d.KtG(t.delete$.emit())})),d._UZ(15,"system-button-icon",17),d.qZA()()(),d.TgZ(16,"article",18),d.YNc(17,at,1,3,"spice-page-builder-element-column",19),d.qZA()()}if(2&e){const e=d.oxw();d.ekj("slds-is-hovered",d.DdM(9,rt).indexOf(e.spicePageBuilderService.isMouseIn)>-1),d.xp6(9),d.Q6J("inverse",!0),d.xp6(2),d.Q6J("inverse",!0),d.xp6(2),d.Q6J("inverse",!0),d.xp6(2),d.Q6J("inverse",!0),d.xp6(1),d.Q6J("ngStyle",e.style),d.xp6(1),d.Q6J("ngForOf",e.section.children)("ngForTrackBy",e.trackByFn)}}function pt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",29),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.section.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.section.attributes[e.name])("label",e.name)}}function gt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-text",30),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.section.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.section.attributes[e.name])("label",e.name)("suffix",t.spicePageBuilderService.defaultSuffix)}}function mt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-sides",29),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.section.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.section.attributes[e.name])("label",e.name)}}function ht(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-input-color",29),d.NdJ("ngModelChange",(function(t){d.CHM(e);const i=d.oxw().$implicit,s=d.oxw(2);return d.KtG(s.section.attributes[i.name]=t)})),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw(2);d.Q6J("ngModel",t.section.attributes[e.name])("label",e.name)}}function ft(e,t){if(1&e&&(d.ynx(0,26),d.YNc(1,pt,1,2,"spice-page-builder-input-text",27),d.YNc(2,gt,1,3,"spice-page-builder-input-text",28),d.YNc(3,mt,1,2,"spice-page-builder-input-sides",27),d.YNc(4,ht,1,2,"spice-page-builder-input-color",27),d.BQk()),2&e){const e=t.$implicit;d.Q6J("ngSwitch",e.type),d.xp6(1),d.Q6J("ngSwitchCase","text"),d.xp6(1),d.Q6J("ngSwitchCase","textSuffix"),d.xp6(1),d.Q6J("ngSwitchCase","sides"),d.xp6(1),d.Q6J("ngSwitchCase","color")}}function bt(e,t){if(1&e&&(d.TgZ(0,"div",21)(1,"system-section",22)(2,"div",23)(3,"div",24),d.YNc(4,ft,5,5,"ng-container",25),d.qZA()()()()),2&e){const e=d.oxw();d.xp6(1),d.Q6J("alwaysExpanded",!0),d.xp6(3),d.Q6J("ngForOf",e.attributesList)}}let xt=(()=>{var e;class SpicePageBuilderElementSection{constructor(e,t){(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"isEditMode",!1),(0,s.Z)(this,"section",void 0),(0,s.Z)(this,"delete$",new d.vpe),(0,s.Z)(this,"style",{}),(0,s.Z)(this,"attributesList",[{name:"background-color",type:"color"},{name:"color",type:"color"},{name:"padding",type:"sides"},{name:"css-class",type:"text"},{name:"border",type:"text"},{name:"border-top",type:"text"},{name:"border-right",type:"text"},{name:"border-bottom",type:"text"},{name:"border-left",type:"text"},{name:"background-position",type:"text"},{name:"background-repeat",type:"text"},{name:"background-size",type:"text"},{name:"background-url",type:"text"}]),this.spicePageBuilderService=e,this.cdRef=t}ngOnInit(){this.generateStyle()}trackByFn(e,t){return e}generateStyle(){this.style={"background-color":this.section.attributes["background-color"],color:this.section.attributes.color,padding:this.section.attributes.padding,"css-class":this.section.attributes["css-class"],border:this.section.attributes.border,"border-top":this.section.attributes["border-top"],"border-right":this.section.attributes["border-right"],"border-bottom":this.section.attributes["border-bottom"],"border-left":this.section.attributes["border-left"],"background-position":this.section.attributes["background-position"],"background-repeat":this.section.attributes["background-repeat"],"background-size":this.section.attributes["background-size"],"background-url":this.section.attributes["background-url"]}}setIsMouseIn(e){this.spicePageBuilderService.isMouseIn=e?"section":void 0}saveAsCustom(){this.spicePageBuilderService.saveCustomElement(this.section,"section")}edit(){this.spicePageBuilderService.openEditModal(this.section).subscribe({next:e=>{e&&this.handleEditResponse(e)}})}handleEditResponse(e){this.section.attributes=e.attributes,this.generateStyle(),this.spicePageBuilderService.emitData(),this.cdRef.detectChanges()}}return e=SpicePageBuilderElementSection,(0,s.Z)(SpicePageBuilderElementSection,"ɵfac",(function(t){return new(t||e)(d.Y36(v),d.Y36(d.sBO))})),(0,s.Z)(SpicePageBuilderElementSection,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-element-section"]],inputs:{isEditMode:"isEditMode",section:"section"},outputs:{delete$:"delete$"},decls:3,vars:2,consts:[["tabindex","-1","class","spice-drop-zone",3,"slds-is-hovered","mouseenter","mouseleave",4,"ngIf","ngIfElse"],["editContainer",""],["tabindex","-1",1,"spice-drop-zone",3,"mouseenter","mouseleave"],[1,"spice-drop-zone-label","spice-drop-zone-label-bottom"],[1,"slds-media","slds-media_center"],[1,"slds-media__figure"],["icon","full_width_view","sprite","utility","size","x-small","divClass","slds-current-color"],[1,"slds-media__body"],[1,"slds-truncate"],["label","LBL_SECTION"],["system-title","LBL_SAVE",1,"slds-button","slds-button--icon",3,"click"],["icon","save",3,"inverse"],["cdkDragHandle","","system-title","LBL_MOVE",1,"slds-button","slds-button--icon","slds-m-left--none"],["icon","move",3,"inverse"],["system-title","LBL_EDIT",1,"slds-button","slds-button--icon","slds-m-left--none",3,"click"],["icon","edit",3,"inverse"],["system-title","LBL_DELETE",1,"slds-button","slds-button--icon","slds-m-right--xx-small","slds-m-left--none",3,"click"],["icon","delete",3,"inverse"],[1,"spice-drop-zone-content","slds-grid",3,"ngStyle"],["class","spice-display-block slds-grow slds-height_full",3,"column","width",4,"ngFor","ngForOf","ngForTrackBy"],[1,"spice-display-block","slds-grow","slds-height_full",3,"column"],[2,"height","100%"],["titlelabel","LBL_STYLING",1,"spice-collapsible-tab-grow",3,"alwaysExpanded"],[1,"slds-size--1-of-1","slds-height_full","slds-p-horizontal--xx-small","slds-p-vertical--x-small","slds-scrollable--y"],[1,"slds-size--1-of-1","slds-grid","slds-wrap"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","ngModelChange",4,"ngSwitchCase"],["class","slds-p-horizontal--xxx-small slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange",4,"ngSwitchCase"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","ngModelChange"],[1,"slds-p-horizontal--xxx-small","slds-size--1-of-2",3,"ngModel","label","suffix","ngModelChange"]],template:function(e,t){if(1&e&&(d.YNc(0,ut,18,10,"div",0),d.YNc(1,bt,5,2,"ng-template",null,1,d.W1O)),2&e){const e=d.MAs(2);d.Q6J("ngIf",!t.isEditMode)("ngIfElse",e)}},dependencies:[n.sg,n.O5,n.PC,n.RF,n.n9,S.J,M.f,a._,J.P,c.JJ,c.On,C.S,E.Bh,p,Z,y,ct],encapsulation:2,changeDetection:0})),SpicePageBuilderElementSection})();const vt=["dropList"];function Zt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"spice-page-builder-element-section",4),d.NdJ("delete$",(function(){const t=d.CHM(e).$implicit,i=d.oxw();return d.KtG(i.onSectionDelete(t))})),d.qZA()}if(2&e){const e=t.$implicit;d.Q6J("ngStyle",e.style)("cdkDragData",e)("section",e)}}function yt(e,t){1&e&&(d.TgZ(0,"div",5),d._UZ(1,"system-label",6),d.qZA())}let wt=(()=>{var e;class SpicePageBuilderElementBody{constructor(e){(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"body",void 0),(0,s.Z)(this,"dragEntered",!1),(0,s.Z)(this,"dropList",void 0),(0,s.Z)(this,"style",{}),this.spicePageBuilderService=e}ngOnInit(){this.generateStyle()}ngAfterViewInit(){this.spicePageBuilderService.addDropListToGroup(this.dropList)}trackByFn(e,t){return e}sectionPredicate(e){return"section"==e.data.tagName}generateStyle(){this.style={"background-color":this.body.attributes["background-color"],width:this.body.attributes.width}}onSectionDelete(e){this.body.children=this.body.children.filter((t=>t!=e)),this.spicePageBuilderService.emitData()}onDrop(e){if(e.previousContainer!=e.container){this.spicePageBuilderService.dragPlaceholderNode&&e.previousContainer.element.nativeElement.contains(this.spicePageBuilderService.dragPlaceholderNode)&&(e.previousContainer.element.nativeElement.removeChild(this.spicePageBuilderService.dragPlaceholderNode),this.spicePageBuilderService.dragPlaceholderNode=void 0);const t=JSON.parse(JSON.stringify(e.item.data));this.body.children.splice(e.currentIndex,0,t),this.dragEntered=!1}else(0,E.bA)(this.body.children,e.previousIndex,e.currentIndex);this.spicePageBuilderService.emitData()}}return e=SpicePageBuilderElementBody,(0,s.Z)(SpicePageBuilderElementBody,"ɵfac",(function(t){return new(t||e)(d.Y36(v))})),(0,s.Z)(SpicePageBuilderElementBody,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-element-body"]],viewQuery:function(e,t){if(1&e&&d.Gf(vt,5,E.Wj),2&e){let e;d.iGM(e=d.CRH())&&(t.dropList=e.first)}},inputs:{body:"body"},decls:4,vars:6,consts:[["cdkDropList","",1,"spice-page-builder-renderer-drop-list",2,"height","100%","width","100%",3,"ngStyle","cdkDropListEnterPredicate","cdkDropListData","cdkDropListEntered","cdkDropListExited","cdkDropListDropped"],["dropList","cdkDropList"],["cdkDrag","","class","spice-display-block slds-drag--preview",3,"ngStyle","cdkDragData","section","delete$",4,"ngFor","ngForOf","ngForTrackBy"],["class","slds-align--absolute-center slds-height_full slds-size--1-of-1 slds-text-title--caps slds-truncate",4,"ngIf"],["cdkDrag","",1,"spice-display-block","slds-drag--preview",3,"ngStyle","cdkDragData","section","delete$"],[1,"slds-align--absolute-center","slds-height_full","slds-size--1-of-1","slds-text-title--caps","slds-truncate"],["label","LBL_DROP_SECTION_HERE"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0,1),d.NdJ("cdkDropListEntered",(function(){return t.dragEntered=!0}))("cdkDropListExited",(function(){return t.dragEntered=!1}))("cdkDropListDropped",(function(e){return t.onDrop(e)})),d.YNc(2,Zt,1,3,"spice-page-builder-element-section",2),d.YNc(3,yt,2,0,"div",3),d.qZA()),2&e&&(d.Q6J("ngStyle",t.style)("cdkDropListEnterPredicate",t.sectionPredicate)("cdkDropListData",t.body),d.xp6(2),d.Q6J("ngForOf",t.body.children)("ngForTrackBy",t.trackByFn),d.xp6(1),d.Q6J("ngIf",!t.dragEntered&&0==(null==t.body.children?null:t.body.children.length)))},dependencies:[n.sg,n.O5,n.PC,a._,E.Wj,E.Zt,xt],encapsulation:2,changeDetection:0})),SpicePageBuilderElementBody})(),St=(()=>{var e;class SpicePageBuilderRenderer{constructor(e){(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"body",void 0),this.spicePageBuilderService=e}ngOnInit(){this.setBodyElement()}trackByFn(e,t){return e}setBodyElement(){this.spicePageBuilderService.page&&this.spicePageBuilderService.page.children&&(this.body=this.spicePageBuilderService.page.children[0])}}return e=SpicePageBuilderRenderer,(0,s.Z)(SpicePageBuilderRenderer,"ɵfac",(function(t){return new(t||e)(d.Y36(v))})),(0,s.Z)(SpicePageBuilderRenderer,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-renderer"]],decls:2,vars:1,consts:[[1,"slds-grid","slds-grid--align-center","slds-scrollable--y","slds-height_full","slds-p-around--large",2,"background-color","#ca1b21ea"],[2,"box-shadow","0 0 8px #666",3,"body"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d._UZ(1,"spice-page-builder-element-body",1),d.qZA()),2&e&&(d.xp6(1),d.Q6J("body",t.body))},dependencies:[wt],encapsulation:2,changeDetection:0})),SpicePageBuilderRenderer})();var Mt=i(8859),_t=i(4021);function Ct(e,t){if(1&e&&d._UZ(0,"div",13),2&e){const e=t.last;d.Udp("border-right",e?0:"2px solid #ca1b21")}}function Et(e,t){if(1&e&&(d.TgZ(0,"div",9)(1,"div"),d._uU(2),d._UZ(3,"system-label",10),d.qZA(),d.TgZ(4,"div",11),d.YNc(5,Ct,1,2,"div",12),d.qZA()()),2&e){const e=t.$implicit,i=d.oxw();d.Q6J("cdkDragData",e),d.xp6(2),d.hij(" ",null==e.children?null:e.children.length," "),d.xp6(3),d.Q6J("ngForOf",e.children)("ngForTrackBy",i.trackByFn)}}function Bt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",14)(1,"div"),d._uU(2),d.qZA(),d.TgZ(3,"div",15),d._UZ(4,"system-utility-icon",16),d.TgZ(5,"button",17),d.NdJ("click",(function(){const t=d.CHM(e).$implicit,i=d.oxw();return d.KtG(i.spicePageBuilderService.deleteCustomElement(t.id,"section"))})),d._UZ(6,"system-utility-icon",18),d.qZA()()()}if(2&e){const e=t.$implicit;d.Q6J("cdkDragData",e.content),d.xp6(2),d.hij(" ",e.name," ")}}function Jt(e,t){if(1&e&&(d.TgZ(0,"div",19)(1,"div",20),d._UZ(2,"system-utility-icon",21),d.TgZ(3,"div"),d._UZ(4,"system-label",22),d.qZA()()()),2&e){const e=t.$implicit;d.Q6J("cdkDragData",e)("title",e.tagName),d.xp6(2),d.Q6J("icon",e.icon),d.xp6(2),d.Q6J("label",e.label)}}function Lt(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",23)(1,"div",20),d._UZ(2,"system-utility-icon",16),d.TgZ(3,"button",17),d.NdJ("click",(function(){const t=d.CHM(e).$implicit,i=d.oxw();return d.KtG(i.spicePageBuilderService.deleteCustomElement(t.id,"item"))})),d._UZ(4,"system-utility-icon",18),d.qZA(),d.TgZ(5,"div"),d._UZ(6,"system-label",22),d.qZA()()()}if(2&e){const e=t.$implicit;d.Q6J("cdkDragData",e.content)("title",e.name),d.xp6(6),d.Q6J("label",e.name)}}let Tt=(()=>{var e;class SpicePageBuilderPanel{constructor(e,t){(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"customSections",[]),(0,s.Z)(this,"customItems",[]),(0,s.Z)(this,"sections",[]),this.spicePageBuilderService=e,this.cdRef=t}ngOnInit(){this.spicePageBuilderService.loadCustomElements(),this.generateSections()}ngAfterViewInit(){this.cdRef.detectChanges()}generateSections(){let e=1;for(;e<=4;){let t=1,i=[];for(;t<=e;)i.push(JSON.parse(JSON.stringify(this.spicePageBuilderService.panelDefaultColumn))),t++;const s=JSON.parse(JSON.stringify(this.spicePageBuilderService.panelDefaultSection));s.children=i,this.sections.push(s),e++}}trackByFn(e,t){return e}noReturnPredicate(){return!1}onDragExit(e){const t=e.item.getPlaceholderElement().cloneNode(!0);this.spicePageBuilderService.dragPlaceholderNode=t,e.container.element.nativeElement.insertBefore(t,e.item.getPlaceholderElement())}onDragEnter(e){this.spicePageBuilderService.dragPlaceholderNode&&e.container.element.nativeElement.contains(this.spicePageBuilderService.dragPlaceholderNode)&&(e.container.element.nativeElement.removeChild(this.spicePageBuilderService.dragPlaceholderNode),this.spicePageBuilderService.dragPlaceholderNode=void 0)}}return e=SpicePageBuilderPanel,(0,s.Z)(SpicePageBuilderPanel,"ɵfac",(function(t){return new(t||e)(d.Y36(v),d.Y36(d.sBO))})),(0,s.Z)(SpicePageBuilderPanel,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-panel"]],inputs:{customSections:"customSections",customItems:"customItems"},decls:9,vars:13,consts:[[1,"slds-grid","slds-grid--vertical","slds-height_full","slds-p-around--x-small","slds-scrollable--y",3,"system-overlay-loading-spinner"],["titlelabel","LBL_SECTIONS",1,"spice-collapsible-tab-grow",2,"max-height","50%","height","initial"],["cdkDropList","","cdkDropListSortingDisabled","",1,"slds-scrollable--y","slds-grid","slds-size--1-of-1","slds-grid--vertical","slds-height_full","slds-p-bottom--small","spice-page-builder-panel-drop-list",3,"cdkDropListEnterPredicate","cdkDropListData","cdkDropListEntered","cdkDropListExited"],["cdkDrag","","class","slds-grow slds-p-around--xx-small slds-grid slds-grid--vertical slds-drag--preview spice-drag-placeholder-visible",3,"cdkDragData",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","","class","slds-grow slds-p-around--xx-small slds-grid slds-grid--vertical slds-drag--preview spice-drag-placeholder-visible spice-hover-display-children",3,"cdkDragData",4,"ngFor","ngForOf"],["titlelabel","LBL_CONTENT_ELEMENTS",1,"spice-collapsible-tab-grow",2,"max-height","50%","height","initial"],["cdkDropList","","cdkDropListSortingDisabled","",1,"slds-scrollable--y","slds-grid","slds-size--1-of-1","slds-p-around--xx-small","slds-wrap","spice-page-builder-panel-drop-list",2,"height","fit-content",3,"id","cdkDropListEnterPredicate","cdkDropListData","cdkDropListEntered","cdkDropListExited"],["cdkDrag","","class","slds-p-around--xxx-small slds-drag--preview","style","cursor: move",3,"cdkDragData","title",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","","class","slds-p-around--xxx-small slds-drag--preview spice-hover-display-children","style","cursor: move",3,"cdkDragData","title",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"slds-grow","slds-p-around--xx-small","slds-grid","slds-grid--vertical","slds-drag--preview","spice-drag-placeholder-visible",3,"cdkDragData"],["label","LBL_COLUMNS"],[1,"slds-grid","slds-grow","slds-theme--default",2,"border","2px solid #ca1b21","cursor","move","min-height","70px"],["class","slds-grow",3,"border-right",4,"ngFor","ngForOf","ngForTrackBy"],[1,"slds-grow"],["cdkDrag","",1,"slds-grow","slds-p-around--xx-small","slds-grid","slds-grid--vertical","slds-drag--preview","spice-drag-placeholder-visible","spice-hover-display-children",3,"cdkDragData"],[1,"slds-grid","slds-grow","slds-theme--default","slds-grid--align-center","slds-grid--vertical-align-center","slds-is-relative",2,"border","2px solid #ca1b21","cursor","move","min-height","70px"],["icon","user","size","large"],[1,"slds-button","slds-button--icon","slds-is-absolute__top","slds-p-around--xxx-small","spice-hover-child",2,"right","0",3,"click"],["icon","delete","size","xx-small"],["cdkDrag","",1,"slds-p-around--xxx-small","slds-drag--preview",2,"cursor","move",3,"cdkDragData","title"],[1,"slds-p-around--x-small","slds-card","slds-height_full","slds-align--absolute-center","slds-grid","slds-grid--vertical"],["size","large",3,"icon"],[3,"label"],["cdkDrag","",1,"slds-p-around--xxx-small","slds-drag--preview","spice-hover-display-children",2,"cursor","move",3,"cdkDragData","title"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0)(1,"system-section",1)(2,"div",2),d.NdJ("cdkDropListEntered",(function(e){return t.onDragEnter(e)}))("cdkDropListExited",(function(e){return t.onDragExit(e)})),d.YNc(3,Et,6,4,"div",3),d.YNc(4,Bt,7,2,"div",4),d.qZA()(),d.TgZ(5,"system-section",5)(6,"div",6),d.NdJ("cdkDropListEntered",(function(e){return t.onDragEnter(e)}))("cdkDropListExited",(function(e){return t.onDragExit(e)})),d.YNc(7,Jt,5,4,"div",7),d.YNc(8,Lt,7,3,"div",8),d.qZA()()()),2&e&&(d.Q6J("system-overlay-loading-spinner",t.spicePageBuilderService.isLoading),d.xp6(2),d.Q6J("cdkDropListEnterPredicate",t.noReturnPredicate)("cdkDropListData",t.sections),d.xp6(1),d.Q6J("ngForOf",t.sections)("ngForTrackBy",t.trackByFn),d.xp6(1),d.Q6J("ngForOf",t.customSections),d.xp6(2),d.Q6J("id",t.spicePageBuilderService.contentListId)("cdkDropListEnterPredicate",t.noReturnPredicate)("cdkDropListData",t.spicePageBuilderService.panelElements),d.xp6(1),d.Q6J("ngForOf",t.spicePageBuilderService.panelElements)("ngForTrackBy",t.trackByFn),d.xp6(1),d.Q6J("ngForOf",t.customItems)("ngForTrackBy",t.trackByFn))},dependencies:[n.sg,a._,J.P,Mt.r,_t._,E.Wj,E.Zt],encapsulation:2,changeDetection:0})),SpicePageBuilderPanel})();var Nt=i(1135),kt=i(9621),Dt=i(3499),At=i(5767),Pt=i(1916);const Qt=["codeContainer"];function zt(e,t){if(1&e&&d._UZ(0,"spice-page-builder-element-text",11),2&e){const e=d.oxw();d.Q6J("element",e.element)("isEditMode",!0)}}function It(e,t){if(1&e&&d._UZ(0,"spice-page-builder-element-image",11),2&e){const e=d.oxw();d.Q6J("element",e.element)("isEditMode",!0)}}function Ot(e,t){if(1&e&&d._UZ(0,"spice-page-builder-element-button",11),2&e){const e=d.oxw();d.Q6J("element",e.element)("isEditMode",!0)}}function qt(e,t){if(1&e&&d._UZ(0,"spice-page-builder-element-divider",11),2&e){const e=d.oxw();d.Q6J("element",e.element)("isEditMode",!0)}}function Ht(e,t){if(1&e&&d._UZ(0,"spice-page-builder-element-spacer",11),2&e){const e=d.oxw();d.Q6J("element",e.element)("isEditMode",!0)}}function Ft(e,t){if(1&e&&d._UZ(0,"spice-page-builder-element-code",11),2&e){const e=d.oxw();d.Q6J("element",e.element)("isEditMode",!0)}}function Yt(e,t){if(1&e&&d._UZ(0,"spice-page-builder-element-rss",11),2&e){const e=d.oxw();d.Q6J("element",e.element)("isEditMode",!0)}}function Gt(e,t){if(1&e&&d._UZ(0,"spice-page-builder-element-section",12),2&e){const e=d.oxw();d.Q6J("section",e.element)("isEditMode",!0)}}let Rt=(()=>{var e;class SpicePageBuilderEditor{constructor(){(0,s.Z)(this,"element",void 0),(0,s.Z)(this,"response",new Nt.X(!1)),(0,s.Z)(this,"self",{}),(0,s.Z)(this,"codeContainer",void 0)}trackByFn(e,t){return e}cancel(){this.response.next(!1),this.response.complete(),this.self.destroy()}confirm(){this.response.next(JSON.parse(JSON.stringify(this.element))),this.response.complete(),this.self.destroy()}}return e=SpicePageBuilderEditor,(0,s.Z)(SpicePageBuilderEditor,"ɵfac",(function(t){return new(t||e)})),(0,s.Z)(SpicePageBuilderEditor,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder-editor"]],viewQuery:function(e,t){if(1&e&&d.Gf(Qt,5,d.s_b),2&e){let e;d.iGM(e=d.CRH())&&(t.codeContainer=e.first)}},decls:19,vars:11,consts:[[3,"close"],["label","LBL_EDIT"],[3,"label"],[3,"grow"],[1,"slds-height_full","slds-size--1-of-1",3,"ngSwitch"],[3,"element","isEditMode",4,"ngSwitchCase"],[3,"section","isEditMode",4,"ngSwitchCase"],[1,"slds-button","slds-button--neutral",3,"click"],["label","LBL_CANCEL"],[1,"slds-button","slds-button--brand",3,"click"],["label","LBL_SAVE"],[3,"element","isEditMode"],[3,"section","isEditMode"]],template:function(e,t){1&e&&(d.TgZ(0,"system-modal")(1,"system-modal-header",0),d.NdJ("close",(function(){return t.cancel()})),d._UZ(2,"system-label",1)(3,"system-label",2),d.qZA(),d.TgZ(4,"system-modal-content",3)(5,"div",4),d.YNc(6,zt,1,2,"spice-page-builder-element-text",5),d.YNc(7,It,1,2,"spice-page-builder-element-image",5),d.YNc(8,Ot,1,2,"spice-page-builder-element-button",5),d.YNc(9,qt,1,2,"spice-page-builder-element-divider",5),d.YNc(10,Ht,1,2,"spice-page-builder-element-spacer",5),d.YNc(11,Ft,1,2,"spice-page-builder-element-code",5),d.YNc(12,Yt,1,2,"spice-page-builder-element-rss",5),d.YNc(13,Gt,1,2,"spice-page-builder-element-section",6),d.qZA()(),d.TgZ(14,"system-modal-footer")(15,"button",7),d.NdJ("click",(function(){return t.cancel()})),d._UZ(16,"system-label",8),d.qZA(),d.TgZ(17,"button",9),d.NdJ("click",(function(){return t.confirm()})),d._UZ(18,"system-label",10),d.qZA()()()),2&e&&(d.xp6(3),d.Q6J("label",t.element.label),d.xp6(1),d.Q6J("grow",!0),d.xp6(1),d.Q6J("ngSwitch",t.element.tagName),d.xp6(1),d.Q6J("ngSwitchCase","text"),d.xp6(1),d.Q6J("ngSwitchCase","image"),d.xp6(1),d.Q6J("ngSwitchCase","button"),d.xp6(1),d.Q6J("ngSwitchCase","divider"),d.xp6(1),d.Q6J("ngSwitchCase","spacer"),d.xp6(1),d.Q6J("ngSwitchCase","raw"),d.xp6(1),d.Q6J("ngSwitchCase","rss"),d.xp6(1),d.Q6J("ngSwitchCase","section"))},dependencies:[n.RF,n.n9,a._,kt.j,Dt.x,At.p,Pt.y,xt,z,ee,re,xe,Ne,Pe,Ve],encapsulation:2,changeDetection:0})),SpicePageBuilderEditor})();function Ut(e,t){if(1&e&&(d.ynx(0),d._UZ(1,"spice-page-builder-panel",2)(2,"spice-page-builder-renderer",3),d.BQk()),2&e){const e=d.oxw();d.xp6(1),d.Q6J("customSections",e.spicePageBuilderService.customSections)("customItems",e.spicePageBuilderService.customItems)}}let Kt=(()=>{var e;class SpicePageBuilder{constructor(e,t,i){(0,s.Z)(this,"spicePageBuilderService",void 0),(0,s.Z)(this,"toast",void 0),(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"pageBuilderChange$",void 0),(0,s.Z)(this,"self",void 0),(0,s.Z)(this,"dropListGroup",void 0),(0,s.Z)(this,"dropListGroupDefined",!1),this.spicePageBuilderService=e,this.toast=t,this.cdRef=i,this.pageBuilderChange$=this.spicePageBuilderService.response}set pageContent(e){if(window._.isEmpty(e))return;const t=JSON.parse(JSON.stringify(e));t?.children?.length?this.spicePageBuilderService._page=e:this.toast.sendToast("ERR_LOADING_RECORD","error")}ngAfterViewInit(){this.setDropListReference()}setDropListReference(){this.spicePageBuilderService.dropListGroup=this.dropListGroup,this.dropListGroupDefined=!0,this.cdRef.detectChanges()}}return e=SpicePageBuilder,(0,s.Z)(SpicePageBuilder,"ɵfac",(function(t){return new(t||e)(d.Y36(v),d.Y36(h.A),d.Y36(d.sBO))})),(0,s.Z)(SpicePageBuilder,"ɵcmp",d.Xpm({type:e,selectors:[["spice-page-builder"]],viewQuery:function(e,t){if(1&e&&d.Gf(E.Fd,5,E.Fd),2&e){let e;d.iGM(e=d.CRH())&&(t.dropListGroup=e.first)}},inputs:{pageContent:"pageContent"},outputs:{pageBuilderChange$:"pageBuilderChange$"},features:[d._Bn([v])],decls:2,vars:1,consts:[["cdkDropListGroup","",1,"slds-grid","slds-height_full",2,"overflow","hidden"],[4,"ngIf"],[1,"slds-size--1-of-4","spice-display-block","slds-height_full","slds-border--right",2,"box-shadow","10px 0 20px 0 #1b1b1b",3,"customSections","customItems"],[1,"slds-size--3-of-4","spice-display-block","slds-height_full"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.YNc(1,Ut,3,2,"ng-container",1),d.qZA()),2&e&&(d.xp6(1),d.Q6J("ngIf",t.dropListGroupDefined))},dependencies:[n.O5,E.Fd,Tt,St],encapsulation:2,changeDetection:0})),SpicePageBuilder})();var $t=i(7040),jt=i(2294),Vt=i(5329),Wt=i(4154),Xt=i(3348),ei=i(3208),ti=i(5638);function ii(e,t){if(1&e&&d._UZ(0,"iframe",5),2&e){const e=d.oxw(2);d.Udp("height",e.iframeHeight,"px"),d.Q6J("src",e.parsedHtml,d.uOi)}}function si(e,t){if(1&e&&(d.TgZ(0,"field-generic-display",2)(1,"div",3),d.YNc(2,ii,1,3,"iframe",4),d.qZA()()),2&e){const e=d.oxw();d.Q6J("fielddisplayclass",e.fielddisplayclass)("fieldconfig",e.fieldconfig)("editable",e.isEditable()),d.xp6(1),d.Udp("min-height",e.iframeHeight,"px"),d.xp6(1),d.Q6J("ngIf",e.parsedHtml)}}function ni(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"div",6)(1,"spice-page-builder",7),d.NdJ("pageBuilderChange$",(function(t){d.CHM(e);const i=d.oxw();return d.KtG(i.onPageBuilderChange(t))})),d.qZA(),d._UZ(2,"field-messages",8),d.qZA()}if(2&e){const e=d.oxw();d.Q6J("ngClass",e.getFieldClass()),d.xp6(1),d.Q6J("pageContent",e.model.data[e.bodySPBFieldName]),d.xp6(1),d.Q6J("fieldname",e.fieldname)}}let li=(()=>{var e;class fieldPageBuilder extends $t.O{constructor(e,t,i,n,l,o,d,c,a,r,u){super(e,t,i,n,d),(0,s.Z)(this,"model",void 0),(0,s.Z)(this,"view",void 0),(0,s.Z)(this,"language",void 0),(0,s.Z)(this,"metadata",void 0),(0,s.Z)(this,"backend",void 0),(0,s.Z)(this,"toast",void 0),(0,s.Z)(this,"router",void 0),(0,s.Z)(this,"injector",void 0),(0,s.Z)(this,"modal",void 0),(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"sanitizer",void 0),(0,s.Z)(this,"parsedHtml",void 0),(0,s.Z)(this,"iframeHeight",250),this.model=e,this.view=t,this.language=i,this.metadata=n,this.backend=l,this.toast=o,this.router=d,this.injector=c,this.modal=a,this.cdRef=r,this.sanitizer=u}get bodySPBFieldName(){return this.fieldconfig.bodySPBField??"body_spb"}ngOnInit(){super.ngOnInit(),this.setIframeHeight()}ngAfterViewInit(){super.ngAfterViewInit(),this.setHtmlValue(),this.modelChangesSubscriber()}setEditMode(){this.model.startEdit(),this.view.setEditMode(),this.cdRef.detectChanges()}modelChangesSubscriber(){this.subscriptions.add(this.model.data$.subscribe((()=>this.setHtmlValue()))),this.subscriptions.add(this.view.mode$.subscribe((()=>this.cdRef.detectChanges())))}setHtmlValue(){this.value&&(this.parsedHtml=this.sanitizer.bypassSecurityTrustResourceUrl("data:text/html;charset=UTF-8,"+encodeURIComponent(this.value)),this.cdRef.detectChanges())}setIframeHeight(){const e=parseInt(this.fieldconfig.initialHeight,10);e&&!isNaN(e)&&(this.iframeHeight=e)}onPageBuilderChange(e){this.model.setField(this.bodySPBFieldName,e),this.backend.postRequest("common/mjml/json2html",{},{json:e}).subscribe({next:e=>{e.html||this.toast.sendToast("ERR_FAILED_TO_EXECUTE","error"),this.model.setField(this.fieldname,e.html)}})}}return e=fieldPageBuilder,(0,s.Z)(fieldPageBuilder,"ɵfac",(function(t){return new(t||e)(d.Y36(ve.o),d.Y36(jt.e),d.Y36(Vt.d),d.Y36(Wt.Pu),d.Y36(x.y),d.Y36(h.A),d.Y36(Xt.F0),d.Y36(d.zs3),d.Y36(m.o),d.Y36(d.sBO),d.Y36(w.H7))})),(0,s.Z)(fieldPageBuilder,"ɵcmp",d.Xpm({type:e,selectors:[["field-page-builder"]],features:[d.qOj],decls:2,vars:2,consts:[[3,"fielddisplayclass","fieldconfig","editable",4,"ngIf"],["class","slds-form-element__control slds-height_full",3,"ngClass",4,"ngIf"],[3,"fielddisplayclass","fieldconfig","editable"],[1,"slds-size--1-of-1"],["style","border: 0; resize: vertical","class","slds-size--1-of-1","sandbox","",3,"src","height",4,"ngIf"],["sandbox","",1,"slds-size--1-of-1",2,"border","0","resize","vertical",3,"src"],[1,"slds-form-element__control","slds-height_full",3,"ngClass"],[1,"spice-display-block","slds-height_full",3,"pageContent","pageBuilderChange$"],[3,"fieldname"]],template:function(e,t){1&e&&(d.YNc(0,si,3,6,"field-generic-display",0),d.YNc(1,ni,3,3,"div",1)),2&e&&(d.Q6J("ngIf",!t.isEditMode()),d.xp6(1),d.Q6J("ngIf",t.isEditable()&&t.isEditMode()))},dependencies:[n.mk,n.O5,ei.D,ti.a,Kt],encapsulation:2,changeDetection:0})),fieldPageBuilder})();var oi=i(4357);let di=(()=>{var e;class ModuleSpicePageBuilder{}return e=ModuleSpicePageBuilder,(0,s.Z)(ModuleSpicePageBuilder,"ɵfac",(function(t){return new(t||e)})),(0,s.Z)(ModuleSpicePageBuilder,"ɵmod",d.oAB({type:e})),(0,s.Z)(ModuleSpicePageBuilder,"ɵinj",d.cJS({imports:[n.ez,l.ObjectFields,o.SystemComponents,c.u5,oi.o,E._t]})),ModuleSpicePageBuilder})();("undefined"==typeof ngJitMode||ngJitMode)&&d.kYT(di,{declarations:[Kt,Tt,St,B,p,Z,y,Rt,B,wt,xt,ct,z,ee,re,xe,Ne,Pe,Ve,li],imports:[n.ez,l.ObjectFields,o.SystemComponents,c.u5,oi.o,E._t],exports:[Kt]})}}]);