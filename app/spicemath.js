/*!
 * 
 *                     aacService
 *
 *                     release: 2023.02.001
 *
 *                     date: 2023-08-15 08:39:15
 *
 *                     build: 2023.02.001.1692081555935
 *
 */
"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([["src_include_spicemath_spicemath_ts"],{7109:(t,i,e)=>{e.r(i),e.d(i,{ModuleSpiceMath:()=>H});var s=e(1180),n=e(4755),l=e(5030),o=e(4357),a=e(3190),h=e(4826),r=e(6490),c=e(3735),u=e(2242),d=e(1591),p=e(2422),g=e(2656);const f=["mainDisParent"],v=["mainDis2"],m=["subDisParent"],b=["subDis2"];function x(t,i){if(1&t){const t=u.EpF();u.TgZ(0,"div",40)(1,"button",41),u.NdJ("click",(function(){const i=u.CHM(t).$implicit,e=u.oxw(2);return u.KtG(e.restoreHistory(e.history.indexOf(i)))})),u.TgZ(2,"span",42),u._uU(3),u.qZA(),u.TgZ(4,"span",43),u._uU(5),u.qZA()()()}if(2&t){const t=i.$implicit;u.xp6(3),u.Oqu(t.mainDisplay),u.xp6(2),u.Oqu(t.value)}}function y(t,i){if(1&t){const t=u.EpF();u.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"button",36),u.NdJ("click",(function(){u.CHM(t);const i=u.oxw();return u.KtG(i.deleteHistory())})),u._UZ(4,"system-button-icon",37),u.qZA()(),u.TgZ(5,"div",38),u.YNc(6,x,6,2,"div",39),u.qZA()()()}if(2&t){const t=u.oxw();u.Q6J("@slideInOutHistory",t.historyState),u.xp6(6),u.Q6J("ngForOf",t.history)}}function Z(t,i){if(1&t){const t=u.EpF();u.TgZ(0,"button",44),u.NdJ("click",(function(){u.CHM(t);const i=u.oxw();return u.KtG(i.slideHistory())})),u._UZ(1,"system-button-icon",45),u.qZA()}}function k(t,i){if(1&t){const t=u.EpF();u.O4$(),u.kcU(),u.TgZ(0,"button",46),u.NdJ("click",(function(){u.CHM(t);const i=u.oxw();return u.KtG(i.slideHistory())})),u._UZ(1,"system-button-icon",45),u.qZA()}}function S(t,i){if(1&t){const t=u.EpF();u.TgZ(0,"button",51),u.NdJ("click",(function(){const i=u.CHM(t).$implicit,e=u.oxw(2);return u.KtG(e.restoreHistory(e.history.indexOf(i)))})),u.TgZ(1,"span",42),u._uU(2),u.qZA(),u.TgZ(3,"span",43),u._uU(4),u.qZA()()}if(2&t){const t=i.$implicit;u.xp6(2),u.Oqu(t.mainDisplay),u.xp6(2),u.Oqu(t.value)}}function C(t,i){if(1&t){const t=u.EpF();u.O4$(),u.kcU(),u.TgZ(0,"div")(1,"div",47),u.YNc(2,S,5,2,"button",48),u.qZA(),u.TgZ(3,"div",49)(4,"button",50),u.NdJ("click",(function(){u.CHM(t);const i=u.oxw();return u.KtG(i.deleteHistory())})),u._UZ(5,"system-button-icon",37),u.qZA()()()}if(2&t){const t=u.oxw();u.Q6J("@slideInOutHistory",t.historyState),u.xp6(2),u.Q6J("ngForOf",t.history)}}const T=function(t,i){return{"slds-grid":t,"slds-grid--vertical":i,"slds-height_full":!0}};let z=(()=>{var t;class SpiceCalculator{constructor(t,i,e){(0,s.Z)(this,"cdRef",void 0),(0,s.Z)(this,"userPreferences",void 0),(0,s.Z)(this,"el",void 0),(0,s.Z)(this,"history",[]),(0,s.Z)(this,"fontSizeSub","300%"),(0,s.Z)(this,"fontSizeMain","250%"),(0,s.Z)(this,"historyState",void 0),(0,s.Z)(this,"mainDisplayText",""),(0,s.Z)(this,"decimalSeparator",void 0),(0,s.Z)(this,"showHistory",!1),(0,s.Z)(this,"onChange",void 0),(0,s.Z)(this,"fromModal",!1),(0,s.Z)(this,"mainDis1",void 0),(0,s.Z)(this,"mainDis2",void 0),(0,s.Z)(this,"subDis1",void 0),(0,s.Z)(this,"subDis2",void 0),(0,s.Z)(this,"negateCheck",!1),(0,s.Z)(this,"size",!1),(0,s.Z)(this,"check",!1),(0,s.Z)(this,"opCheck",!1),(0,s.Z)(this,"focus",!1),(0,s.Z)(this,"opPosition",void 0),(0,s.Z)(this,"dotCheck",!1),(0,s.Z)(this,"numCount",0),(0,s.Z)(this,"separator",void 0),(0,s.Z)(this,"_value",""),this.cdRef=t,this.userPreferences=i,this.el=e,this.decimalSeparator=this.userPreferences.toUse.dec_sep??".",this.separator=","===this.decimalSeparator?".":","}get value(){return this._value}set value(t){"number"==typeof t&&(t=t.toString()),this._value=t,this.onChange(t)}slideHistory(t=!0){if(this.showHistory=!this.showHistory,this.size?(this.historyState=this.showHistory?"openTop":"closedTop",this.cdRef.detectChanges()):(this.historyState=this.showHistory?"openRight":"closedRight",this.cdRef.detectChanges()),t){for(let t=1;t<=10;t++)setTimeout((()=>this.sizeCheck("dynamicWidth")),40*t);setTimeout((()=>this.handleFontSize()),400)}}ngAfterViewInit(){setTimeout((()=>this.sizeCheck("all")),10),this.showHistory=!this.showHistory,this.slideHistory(),"modal"===this.el.nativeElement.parentElement.id&&(this.focus=!0,this.fromModal=!0)}sizeCheck(t){const i="0 0 "+this.subDis1.nativeElement.getBoundingClientRect().width.toString()+" "+this.subDis1.nativeElement.getBoundingClientRect().height.toString();if("dynamicWidth"===t){if(this.mainDis1.nativeElement.attributes.viewBox.value===i)return;return this.mainDis1.nativeElement.attributes.viewBox.value=i,this.subDis1.nativeElement.attributes.viewBox.value=i,this.handleFontSize(),this.sizeCheck("dynamicWidth")}this.mainDis1.nativeElement.attributes.viewBox.value=i,this.subDis1.nativeElement.attributes.viewBox.value=i,this.handleFontSize(),void 0!==this.el.nativeElement&&(this.el.nativeElement.getBoundingClientRect().width<=375&&!this.size?(this.size=!0,this.showHistory=!this.showHistory,setTimeout((()=>this.slideHistory(!1)),10)):this.el.nativeElement.getBoundingClientRect().width>375&&this.size&&(this.size=!1,this.showHistory=!this.showHistory,setTimeout((()=>this.slideHistory(!1)),10)))}deleteHistory(){this.history=[]}registerOnChange(t){this.onChange=t}registerOnTouched(t){}writeValue(t){this._value=null!=t?this.setSeparators(t):"",this.cdRef.detectChanges()}delete(){if(-1!==this.value.search(/Infinity/)||"Undefined Result"===this.value||this.check||""===this.value&&""===this.mainDisplayText)return;const t=this.value.slice(0,-1);""===this.value?(this.value=this.mainDisplayText.slice(0,-1),this.mainDisplayText="",this.negateCheck=!0,this.dotCheck=2===this.value.split(this.decimalSeparator).length,this.numCount=this.mainDisplayText.slice(0,-1).split(this.separator).join("").split(this.decimalSeparator).join("").length,this.opCheck=!1):1===this.value.length?(this.negateCheck=!1,this.value=""):(t===this.decimalSeparator&&(this.dotCheck=!1),this.value=this.setSeparators(this.value.slice(0,-1))),isNaN(parseFloat(t))||(this.numCount-=1),this.subDis2.nativeElement.attributes["font-size"].value=this.fontSizeSub,this.handleOverflow("sub")}onKeyPress(t){if(-1!==this.value.search(/Infinity/)||"Undefined Result"===this.value){if(t===this.mainDisplayText[this.opPosition-1])this.value="",this.mainDisplayText=this.mainDisplayText.slice(0,this.opPosition-1)+t,this.negateCheck=!1,this.numCount=0;else{if(isNaN(t))return;isNaN(t)||(this.value=t,this.mainDisplayText=this.mainDisplayText.slice(0,this.opPosition),this.negateCheck=!0,this.numCount=1)}return this.check=!1,this.dotCheck=!1,this.subDis2.nativeElement.attributes["font-size"].value=this.fontSizeSub,this.mainDis2.nativeElement.attributes["font-size"].value=this.fontSizeMain,void setTimeout((()=>this.handleOverflow("main")),10)}const i=this.value?this.value.slice(-1):this.mainDisplayText?this.mainDisplayText.slice(-1):"";if(t!==this.decimalSeparator||!this.check){if("-"!==t||this.negateCheck){if(-1!==["+","*","/","-"].indexOf(t)){if(this.value.slice(-1)===this.decimalSeparator)return;if(-1!==["+","*","/","-",""].indexOf(i)){if("-"===t||""===i||""!==this.value)return;return void(this.mainDisplayText=this.mainDisplayText.slice(0,-1)+t)}{this.check&&!parseFloat(t)&&(this.mainDisplayText="");const i=this.calculate("operator");return-1!==["Infinity","-Infinity","Undefined Result"].indexOf(i)?void(this.check=!0):(this.mainDisplayText=(this.opCheck?this.calculate("operator"):this.value)+t,this.value="",this.opPosition=this.mainDisplayText.length,this.opCheck=!0,this.negateCheck=!1,this.dotCheck=!1,this.check=!1,this.numCount=0,this.subDis2.nativeElement.attributes["font-size"].value=this.fontSizeSub,this.mainDis2.nativeElement.attributes["font-size"].value=this.fontSizeMain,void setTimeout((()=>this.handleOverflow("main")),10))}}if(-1!==["+","*","/","-","",this.decimalSeparator].indexOf(i)&&t===this.decimalSeparator||this.dotCheck&&t===this.decimalSeparator||this.numCount>=16)return;if(this.check)this.setSettings("default"),this.value=t,this.negateCheck=!0,this.numCount=1;else if("0"!==i||this.dotCheck||1!==this.value.length)t===this.decimalSeparator&&(this.dotCheck=!0,this.numCount-=1),this.value+=t,this.negateCheck=!0,this.numCount+=1;else{if("0"===t)return;isNaN(parseInt(t))?this.value+=t:this.value=t}}else this.value+="-",this.negateCheck=!0;0===this.history.length&&setTimeout((()=>this.handleFontSize()),10),this.value=this.setSeparators(this.value),setTimeout((()=>this.handleOverflow("sub")),10)}}calculate(t){let i,e,s,n=this.mainDisplayText[this.opPosition-1];if(""!==this.value&&""!==this.mainDisplayText&&-1===this.value.search(/Infinity/)&&"Undefined Result"!==this.value&&this.value.slice(0,-1)!==this.decimalSeparator&&!isNaN(parseInt(this.value[this.value.length-1]))){switch(this.check?(i=parseFloat(this.value.split(this.separator).join("").split(this.decimalSeparator).join(".")),e=parseFloat(this.mainDisplayText.slice(this.opPosition,-1).split(this.separator).join("").split(this.decimalSeparator).join(".")),this.mainDisplayText=this.value+n+this.mainDisplayText.substring(this.opPosition),this.opPosition=this.value.length+1):(i=parseFloat(this.mainDisplayText.slice(0,-1).split(this.separator).join("").split(this.decimalSeparator).join(".")),e=parseFloat(this.value.split(this.separator).join("").split(this.decimalSeparator).join(".")),this.mainDisplayText+=this.value+"="),n){case"+":s=i+e;break;case"-":s=i-e;break;case"*":s=i*e;break;case"/":s=i/e;break;default:console.log("calculation Error")}if(isNaN(s)||s===1/0?(s=isNaN(s)?"Undefined Result":"Infinity",this.value=s):s=this.setSeparators(this.checkZeros(s.toString()).split(".").join(this.decimalSeparator)),"operator"===t)return this.value=s,this.check=!1,this.addToHistory(),s;this.setSettings("calculation"),this.value=s,this.addToHistory(),setTimeout((()=>{this.handleOverflow("main"),this.handleOverflow("sub")}),10)}}setSettings(t){switch(t){case"default":this.mainDisplayText="",this.value="",this.opPosition=null,this.check=!1,this.negateCheck=!1,this.opCheck=!1,this.dotCheck=!1,this.numCount=0,this.subDis2.nativeElement.attributes["font-size"].value=this.fontSizeSub,this.mainDis2.nativeElement.attributes["font-size"].value=this.fontSizeMain;break;case"calculation":this.check=!0,this.negateCheck=!0,this.opCheck=!1,this.dotCheck=!1,this.numCount=0,this.subDis2.nativeElement.attributes["font-size"].value=this.fontSizeSub,this.mainDis2.nativeElement.attributes["font-size"].value=this.fontSizeMain;break;case"value":this.check&&this.setSettings("default"),this.value="",this.negateCheck=!1,this.dotCheck=!1,this.subDis2.nativeElement.attributes["font-size"].value=this.fontSizeSub}}onClick(t){this.fromModal||(this.focus=this.el.nativeElement.contains(t))}KeyEvent(t){if(!this.focus)return;if("c"===t.key&&t.ctrlKey)navigator.clipboard.writeText(this.value).then(),t.preventDefault();else if("-"===t.key&&t.ctrlKey)this.negate(),t.preventDefault();else if(t.ctrlKey&&"e"===t.key)this.setSettings("value"),t.preventDefault();else{if(t.ctrlKey)return;-1!==["1","2","3","4","5","6","7","8","9","0"].indexOf(t.key)||-1!==["+","*","/","-",this.decimalSeparator].indexOf(t.key)?(this.onKeyPress(t.key),t.preventDefault()):"Enter"===t.key?(this.calculate("enter"),t.preventDefault()):"c"===t.key||"C"===t.key?(this.setSettings("default"),t.preventDefault()):"Backspace"===t.key&&(this.delete(),t.preventDefault())}}handleOverflow(t){if("sub"===t){const i=this.subDis1.nativeElement.getBoundingClientRect().width,e=this.subDis2.nativeElement.getBoundingClientRect().width,s=parseFloat(this.subDis2.nativeElement.attributes["font-size"].value.slice(0,-1));if(i-5<=e)return this.subDis2.nativeElement.attributes["font-size"].value=(.99*s).toString()+"%",this.handleOverflow(t)}else{const i=this.mainDis1.nativeElement.getBoundingClientRect().width,e=this.mainDis2.nativeElement.getBoundingClientRect().width,s=parseFloat(this.mainDis2.nativeElement.attributes["font-size"].value.slice(0,-1));if(i-5<=e)return this.mainDis2.nativeElement.attributes["font-size"].value=(.99*s).toString()+"%",this.handleOverflow(t)}}handleFontSize(){const t=parseFloat(this.fontSizeSub.slice(0,-1));return 0!==this.subDis2.nativeElement.getBoundingClientRect().height&&this.subDis2.nativeElement.getBoundingClientRect().height<.9*this.subDis1.nativeElement.getBoundingClientRect().height?(this.fontSizeSub=(1.1*t).toString()+"%",this.subDis2.nativeElement.attributes["font-size"].value=this.fontSizeSub,this.fontSizeMain=(.8*t).toString()+"%",this.mainDis2.nativeElement.attributes["font-size"].value=(.8*t).toString()+"%",this.handleFontSize()):this.subDis2.nativeElement.getBoundingClientRect().height>1.1*this.subDis1.nativeElement.getBoundingClientRect().height?(this.fontSizeSub=(.9*t).toString()+"%",this.subDis2.nativeElement.attributes["font-size"].value=this.fontSizeSub,this.fontSizeMain=(.8*t).toString()+"%",this.mainDis2.nativeElement.attributes["font-size"].value=(.8*t).toString()+"%",this.handleFontSize()):void 0}restoreHistory(t){this.setSettings("calculation"),this.value=this.history[t].value,this.mainDisplayText=this.history[t].mainDisplay}addToHistory(){this.history.unshift({value:this.value,mainDisplay:this.mainDisplayText})}negate(){-1===this.value.search(/Infinity/)&&"Undefined Result"!==this.value&&this.check&&(this.value=this.setSeparators((-1*parseFloat(this.value.split(this.decimalSeparator).join("."))).toString().split(".").join(this.decimalSeparator)))}percent(){if(!this.opCheck||["-","+","*","/"].indexOf(this.mainDisplayText.slice(-1))&&!this.value)return;let t=parseFloat(this.value.split(this.separator).join("").split(this.decimalSeparator).join("."))/100;if("+"===this.mainDisplayText[this.opPosition-1]||"-"===this.mainDisplayText[this.opPosition-1]){const i=this.mainDisplayText.slice(0,-1).split(this.separator).join("").split(this.decimalSeparator).join(".");t=parseFloat(i)*t}this.value=this.setSeparators(t.toString().split(".").join(this.decimalSeparator)),this.dotCheck=-1!==this.value.indexOf(this.decimalSeparator),setTimeout((()=>{this.handleOverflow("sub"),this.handleOverflow("main")}),10)}setSeparators(t){if(-1!==t.search(/Infinity/)||"Undefined Result"===t)return t;let i=t.split(this.decimalSeparator);"-"===t[0]&&(i=t.substring(1).split(this.decimalSeparator)),-1!==t.search(/e[+]\d+/)&&(i=t.substring(0,t.search(/e[+]\d+/)).split(this.decimalSeparator));let e=i[0].length,s=i[0].split(this.separator).join("");if(e>3){let e=[];for(let t=1;t<=s.length;t++)t%3==0&&e.unshift(s.substring(s.length-t,3));return s=s.length===3*e.length?e.join(this.separator):s.substring(0,s.length-3*e.length)+this.separator+e.join(this.separator),i.splice(0,1,s),("-"===t[0]?"-":"")+i.join(this.decimalSeparator)}return t}checkZeros(t){if(-1!==t.indexOf(this.decimalSeparator)){const i=t.substring(0,t.indexOf(this.decimalSeparator)),e=t.substring(t.indexOf(this.decimalSeparator));t=-1!==t.search(/000000/)?i+e.substring(0,e.search(/000000/)):t}return t}}return t=SpiceCalculator,(0,s.Z)(SpiceCalculator,"ɵfac",(function(i){return new(i||t)(u.Y36(u.sBO),u.Y36(p.z),u.Y36(u.SBq))})),(0,s.Z)(SpiceCalculator,"ɵcmp",u.Xpm({type:t,selectors:[["spice-calculator"]],viewQuery:function(t,i){if(1&t&&(u.Gf(f,5),u.Gf(v,5),u.Gf(m,5),u.Gf(b,5)),2&t){let t;u.iGM(t=u.CRH())&&(i.mainDis1=t.first),u.iGM(t=u.CRH())&&(i.mainDis2=t.first),u.iGM(t=u.CRH())&&(i.subDis1=t.first),u.iGM(t=u.CRH())&&(i.subDis2=t.first)}},hostBindings:function(t,i){1&t&&u.NdJ("click",(function(t){return i.onClick(t.target)}),!1,u.Jf7)("keydown",(function(t){return i.KeyEvent(t)}),!1,u.Jf7)},features:[u._Bn([{multi:!0,provide:l.JU,useExisting:(0,u.Gpc)((()=>t))}])],decls:131,vars:13,consts:[[3,"ngClass"],["class","slds-size_1-of-1 slds-grid slds-grid--vertical","style","height: 5%;overflow: hidden; display:flex",4,"ngIf"],["class","slds-button slds-button_icon slds-button_icon slds-split-view__toggle-button slds-size_1-of-1","style","height: 4%; position: unset",3,"click",4,"ngIf"],[1,"slds-grid","slds-size--1-of-1","slds-height_full"],[1,"slds-grid","slds-grid--vertical","slds-m-around--small"],[1,"slds-p-bottom--xxx-small",2,"height","30%"],[1,"slds-has-dividers_around-space","slds-height_full"],[1,"slds-grid","slds-grid--vertical","slds-item","slds-height_full"],[2,"height","50%"],["id","subDis1","preserveAspectRatio","xMidYMid meet","width","100%","height","100%","viewBox","0 0 1 1",1,"slds-p-around--none","slds-m-around--none"],["mainDisParent",""],["x","100%","y","50%","text-anchor","end","dominant-baseline","central","font-size","150%"],["mainDis2",""],["subDisParent",""],["id","subDis2","x","100%","y","50%","text-anchor","end","dominant-baseline","central","font-size","300%"],["subDis2",""],[1,"slds-grid","slds-grid--vertical","slds-gutters_direct-xxx-small",2,"height","70%"],[1,"slds-grid","slds-gutters_direct-xxx-small","slds-height_full",2,"height","20%"],[1,"slds-col","slds-size_1-of-5","slds-p-top--xxx-small","slds-p-bottom--xxx-small","slds-height_full"],[1,"slds-button","slds-button--icon","slds-button--icon-border","slds-size--1-of-1","slds-height_full",3,"click"],[1,"slds-button__icon","slds-size_1-of-1",2,"height","45%","color","var(--color-grey-13)"],[0,"xlink","href","./vendor/sldassets/icons/utility-sprite/svg/symbols.svg#percent"],[1,"slds-button","slds-button_neutral","slds-size--1-of-1","slds-height_full","slds-p-around--none",3,"click"],["preserveAspectRatio","xMidYMid meet","width","100%","height","100%","viewBox","0 0 1 1",1,"ng-tns-c1-1","slds-p-around--none","slds-m-around--none"],["x","50%","y","50%","text-anchor","middle","dominant-baseline","central","font-size","4%"],[1,"slds-button","slds-button_neutral","slds-size--1-of-1","slds-height_full","slds-p-around--none",2,"font-size","100%",3,"click"],[1,"slds-button","slds-button--icon","slds-button--icon-border","slds-size--1-of-1","slds-height_full",2,"font-size","100%",3,"click"],[1,"slds-button__icon","slds-size--1-of-1",2,"height","45%","color","var(--color-grey-13)"],[0,"xlink","href","./vendor/sldassets/icons/utility-sprite/svg/symbols.svg#back"],[1,"slds-col","slds-size_1-of-4","slds-p-top--xxx-small","slds-p-bottom--xxx-small","slds-height_full"],[1,"slds-col","slds-size_1-of-4","slds-p-top--xxx-small","slds-height_full"],["class","slds-button slds-button_icon slds-button_icon slds-split-view__toggle-button slds-is-open","style","width: 3%; position: unset",3,"click",4,"ngIf"],[4,"ngIf"],[1,"slds-size_1-of-1","slds-grid","slds-grid--vertical",2,"height","5%","overflow","hidden","display","flex"],[1,"slds-grid","slds-height_full"],[1,"slds-m-around--xxx-small",2,"width","5%"],[1,"slds-button","slds-size--1-of-1","slds-height_full",3,"click"],["icon","delete",1,"slds-align--absolute-center"],[1,"slds-grid","slds-grid--vertical","slds-scrollable--y","slds-p-around--xx-small",2,"width","95%","display","flex","flex-direction","column-reverse"],["class","slds-m-around--xxx-small",4,"ngFor","ngForOf"],[1,"slds-m-around--xxx-small"],[1,"slds-button","slds-button_neutral","slds-grid","slds-grid--vertical","slds-p-around--x-small","slds-size--1-of-1",3,"click"],[1,"slds-text-heading--small","slds-size--1-of-1","slds-text-align--right",2,"overflow","hidden","font-size","0.75rem","float","right"],[1,"slds-text-heading_medium","slds-size--1-of-1","slds-text-align--right",2,"overflow","hidden","font-size","1rem","float","right"],[1,"slds-button","slds-button_icon","slds-button_icon","slds-split-view__toggle-button","slds-size_1-of-1",2,"height","4%","position","unset",3,"click"],["icon","refresh",2,"transform","scale(-0.75, 0.75)"],[1,"slds-button","slds-button_icon","slds-button_icon","slds-split-view__toggle-button","slds-is-open",2,"width","3%","position","unset",3,"click"],[1,"slds-grid","slds-grid--vertical","slds-scrollable--y","slds-p-around--xx-small",2,"height","95%","width","100%"],["class","slds-button slds-button_neutral slds-grid slds-grid--vertical slds-p-around--x-small slds-size--1-of-1 slds-m-around--xxx-small slds-m-left--none",3,"click",4,"ngFor","ngForOf"],[1,"slds-p-around--xxx-small",2,"height","5%"],[1,"slds-size--1-of-1","slds-button","slds-height_full",2,"float","right",3,"click"],[1,"slds-button","slds-button_neutral","slds-grid","slds-grid--vertical","slds-p-around--x-small","slds-size--1-of-1","slds-m-around--xxx-small","slds-m-left--none",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u.YNc(1,y,7,2,"div",1),u.YNc(2,Z,2,0,"button",2),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),u.O4$(),u.TgZ(9,"svg",9,10)(11,"text",11,12),u._uU(13),u.qZA()()(),u.kcU(),u.TgZ(14,"div",8),u.O4$(),u.TgZ(15,"svg",9,13)(17,"text",14,15),u._uU(19),u.qZA()()()()()(),u.kcU(),u.TgZ(20,"div",16)(21,"div",17)(22,"div",18)(23,"button",19),u.NdJ("click",(function(){return i.percent()})),u.O4$(),u.TgZ(24,"svg",20),u._UZ(25,"use",21),u.qZA()()(),u.kcU(),u.TgZ(26,"div",18)(27,"button",22),u.NdJ("click",(function(){return i.setSettings("value")})),u.O4$(),u.TgZ(28,"svg",23)(29,"text",24),u._uU(30,"CE"),u.qZA()()()(),u.kcU(),u.TgZ(31,"div",18)(32,"button",25),u.NdJ("click",(function(){return i.setSettings("default")})),u.O4$(),u.TgZ(33,"svg",23)(34,"text",24),u._uU(35,"C"),u.qZA()()()(),u.kcU(),u.TgZ(36,"div",18)(37,"button",26),u.NdJ("click",(function(){return i.delete()})),u.O4$(),u.TgZ(38,"svg",27),u._UZ(39,"use",28),u.qZA()()(),u.kcU(),u.TgZ(40,"div",18)(41,"button",25),u.NdJ("click",(function(){return i.onKeyPress("/")})),u.O4$(),u.TgZ(42,"svg",23)(43,"text",24),u._uU(44,"/"),u.qZA()()()()(),u.kcU(),u.TgZ(45,"div",17)(46,"div",29)(47,"button",22),u.NdJ("click",(function(){return i.onKeyPress("7")})),u.O4$(),u.TgZ(48,"svg",23)(49,"text",24),u._uU(50,"7"),u.qZA()()()(),u.kcU(),u.TgZ(51,"div",29)(52,"button",22),u.NdJ("click",(function(){return i.onKeyPress("8")})),u.O4$(),u.TgZ(53,"svg",23)(54,"text",24),u._uU(55,"8"),u.qZA()()()(),u.kcU(),u.TgZ(56,"div",29)(57,"button",22),u.NdJ("click",(function(){return i.onKeyPress("9")})),u.O4$(),u.TgZ(58,"svg",23)(59,"text",24),u._uU(60,"9"),u.qZA()()()(),u.kcU(),u.TgZ(61,"div",29)(62,"button",22),u.NdJ("click",(function(){return i.onKeyPress("*")})),u.O4$(),u.TgZ(63,"svg",23)(64,"text",24),u._uU(65,"*"),u.qZA()()()()(),u.kcU(),u.TgZ(66,"div",17)(67,"div",29)(68,"button",22),u.NdJ("click",(function(){return i.onKeyPress("4")})),u.O4$(),u.TgZ(69,"svg",23)(70,"text",24),u._uU(71,"4"),u.qZA()()()(),u.kcU(),u.TgZ(72,"div",29)(73,"button",22),u.NdJ("click",(function(){return i.onKeyPress("5")})),u.O4$(),u.TgZ(74,"svg",23)(75,"text",24),u._uU(76,"5"),u.qZA()()()(),u.kcU(),u.TgZ(77,"div",29)(78,"button",22),u.NdJ("click",(function(){return i.onKeyPress("6")})),u.O4$(),u.TgZ(79,"svg",23)(80,"text",24),u._uU(81,"6"),u.qZA()()()(),u.kcU(),u.TgZ(82,"div",29)(83,"button",22),u.NdJ("click",(function(){return i.onKeyPress("-")})),u.O4$(),u.TgZ(84,"svg",23)(85,"text",24),u._uU(86,"-"),u.qZA()()()()(),u.kcU(),u.TgZ(87,"div",17)(88,"div",29)(89,"button",22),u.NdJ("click",(function(){return i.onKeyPress("1")})),u.O4$(),u.TgZ(90,"svg",23)(91,"text",24),u._uU(92,"1"),u.qZA()()()(),u.kcU(),u.TgZ(93,"div",29)(94,"button",22),u.NdJ("click",(function(){return i.onKeyPress("2")})),u.O4$(),u.TgZ(95,"svg",23)(96,"text",24),u._uU(97,"2"),u.qZA()()()(),u.kcU(),u.TgZ(98,"div",29)(99,"button",22),u.NdJ("click",(function(){return i.onKeyPress("3")})),u.O4$(),u.TgZ(100,"svg",23)(101,"text",24),u._uU(102,"3"),u.qZA()()()(),u.kcU(),u.TgZ(103,"div",29)(104,"button",22),u.NdJ("click",(function(){return i.onKeyPress("+")})),u.O4$(),u.TgZ(105,"svg",23)(106,"text",24),u._uU(107,"+"),u.qZA()()()()(),u.kcU(),u.TgZ(108,"div",17)(109,"div",30)(110,"button",22),u.NdJ("click",(function(){return i.negate()})),u.O4$(),u.TgZ(111,"svg",23)(112,"text",24),u._uU(113,"(-)"),u.qZA()()()(),u.kcU(),u.TgZ(114,"div",30)(115,"button",22),u.NdJ("click",(function(){return i.onKeyPress("0")})),u.O4$(),u.TgZ(116,"svg",23)(117,"text",24),u._uU(118,"0"),u.qZA()()()(),u.kcU(),u.TgZ(119,"div",30)(120,"button",22),u.NdJ("click",(function(){return i.onKeyPress(i.decimalSeparator)})),u.O4$(),u.TgZ(121,"svg",23)(122,"text",24),u._uU(123),u.qZA()()()(),u.kcU(),u.TgZ(124,"div",30)(125,"button",22),u.NdJ("click",(function(){return i.calculate("enter")})),u.O4$(),u.TgZ(126,"svg",23)(127,"text",24),u._uU(128,"="),u.qZA()()()()()()(),u.YNc(129,k,2,0,"button",31),u.YNc(130,C,6,2,"div",32),u.qZA()()),2&t&&(u.Q6J("ngClass",u.WLB(10,T,i.size,i.size)),u.xp6(1),u.Q6J("ngIf",i.size),u.xp6(1),u.Q6J("ngIf",i.size),u.xp6(1),u.Q6J("@slideInOutCalculatorTop",i.size?i.historyState:"ClosedCompletely"),u.xp6(1),u.Q6J("@slideInOutCalculatorRight",i.size?"closedRightCompletely":i.historyState),u.xp6(9),u.Oqu(i.mainDisplayText),u.xp6(6),u.Oqu(i.value),u.xp6(104),u.Oqu(i.decimalSeparator),u.xp6(6),u.Q6J("ngIf",!i.size),u.xp6(1),u.Q6J("ngIf",!i.size))},dependencies:[n.mk,n.sg,n.O5,g.J],encapsulation:2,data:{animation:[(0,d.X$)("slideInOutCalculatorRight",[(0,d.SB)("openRight",(0,d.oB)({width:"67%","margin-right":"12px"})),(0,d.SB)("closedRight",(0,d.oB)({width:"100%","margin-right":"12px"})),(0,d.SB)("closedRightCompletely",(0,d.oB)({width:"100%","margin-right":"12px"})),(0,d.eR)("openRight <=> closedRight",[(0,d.jt)("400ms")]),(0,d.eR)("openRight <=> closedRightCompletely",[(0,d.jt)("400ms")])]),(0,d.X$)("slideInOutCalculatorTop",[(0,d.SB)("closedTop",(0,d.oB)({width:"100%",height:"95%"})),(0,d.SB)("ClosedCompletely",(0,d.oB)({height:"100%"})),(0,d.SB)("openTop",(0,d.oB)({width:"100%",height:"66%"})),(0,d.eR)("openTop <=> closedTop",[(0,d.jt)("400ms")]),(0,d.eR)("openTop <=> closedCompletely",[(0,d.jt)("400ms")])]),(0,d.X$)("slideInOutHistory",[(0,d.SB)("openRight",(0,d.oB)({width:"30%","padding-left":"4px"})),(0,d.SB)("closedRight",(0,d.oB)({width:"0%","padding-left":"0"})),(0,d.SB)("closedRightCompletely",(0,d.oB)({width:"100%","padding-right":0})),(0,d.SB)("closedTop",(0,d.oB)({height:0})),(0,d.SB)("openTop",(0,d.oB)({height:"30%"})),(0,d.eR)("openTop <=> closedTop",[(0,d.jt)("400ms")]),(0,d.eR)("openRight <=> closedRight",[(0,d.jt)("400ms")])]),(0,d.X$)("slideInOutHistoryPanelTop",[(0,d.SB)("closedTop",(0,d.oB)({height:"0",padding:0})),(0,d.SB)("openTop",(0,d.oB)({height:"100%",padding:"4px"})),(0,d.eR)("openTop <=> closedTop",[(0,d.jt)("400ms")])])]},changeDetection:0})),SpiceCalculator})();var _=e(7579),D=e(3463),w=e(9621),O=e(3499),U=e(5767),J=e(1916);const R=["calculator"];function B(t,i){if(1&t){const t=u.EpF();u.TgZ(0,"button",9),u.NdJ("click",(function(){u.CHM(t);const i=u.oxw();return u.KtG(i.cancel())})),u._UZ(1,"system-label",10),u.qZA()}}function M(t,i){if(1&t){const t=u.EpF();u.TgZ(0,"button",11),u.NdJ("click",(function(){u.CHM(t);const i=u.oxw();return u.KtG(i.apply())})),u._UZ(1,"system-label",12),u.qZA()}}let N=(()=>{var t;class SpiceCalculatorModal{constructor(t){(0,s.Z)(this,"userPreferences",void 0),(0,s.Z)(this,"decimalSeparator",void 0),(0,s.Z)(this,"seperator",void 0),(0,s.Z)(this,"spicecalculator",void 0),(0,s.Z)(this,"value",void 0),(0,s.Z)(this,"trigger",!1),(0,s.Z)(this,"self",void 0),(0,s.Z)(this,"valueSubject",new _.x),(0,s.Z)(this,"value$",this.valueSubject.asObservable()),this.userPreferences=t,this.decimalSeparator=this.userPreferences.toUse.dec_sep??".",this.seperator=","===this.decimalSeparator?".":","}cancel(){this.self.destroy()}setValue(t){this.value=t}apply(){this.valueSubject.next(parseFloat(this.value.split(this.seperator).join("").split(this.decimalSeparator).join("."))),this.valueSubject.complete(),this.cancel()}}return t=SpiceCalculatorModal,(0,s.Z)(SpiceCalculatorModal,"ɵfac",(function(i){return new(i||t)(u.Y36(p.z))})),(0,s.Z)(SpiceCalculatorModal,"ɵcmp",u.Xpm({type:t,selectors:[["spice-calculator-modal"]],viewQuery:function(t,i){if(1&t&&u.Gf(R,5),2&t){let t;u.iGM(t=u.CRH())&&(i.spicecalculator=t.first)}},decls:10,vars:3,consts:[[1,"slds-small-size_1-of-6","slds-align_absolute-center"],[3,"close"],["label","LBL_CALCULATOR"],[1,"slds-p-around--none",2,"max-height","420px","padding","0"],["id","modal",2,"height","420px"],[2,"height","400px",3,"ngModel","ngModelChange"],["calculator",""],["class","slds-button slds-button--neutral",3,"click",4,"ngIf"],["class","slds-button slds-button--brand",3,"click",4,"ngIf"],[1,"slds-button","slds-button--neutral",3,"click"],["label","LBL_CANCEL"],[1,"slds-button","slds-button--brand",3,"click"],["label","LBL_APPLY"]],template:function(t,i){1&t&&(u.TgZ(0,"system-modal",0)(1,"system-modal-header",1),u.NdJ("close",(function(){return i.cancel()})),u._UZ(2,"system-label",2),u.qZA(),u.TgZ(3,"system-modal-content",3)(4,"div",4)(5,"spice-calculator",5,6),u.NdJ("ngModelChange",(function(t){return i.value=t})),u.qZA()()(),u.TgZ(7,"system-modal-footer"),u.YNc(8,B,2,0,"button",7),u.YNc(9,M,2,0,"button",8),u.qZA()()),2&t&&(u.xp6(5),u.Q6J("ngModel",i.value),u.xp6(3),u.Q6J("ngIf",i.trigger),u.xp6(1),u.Q6J("ngIf",i.trigger))},dependencies:[n.O5,l.JJ,l.On,D._,w.j,O.x,U.p,J.y,z],encapsulation:2,changeDetection:0})),SpiceCalculatorModal})();var E=e(2294);const q=["spiceCalculator"];let A=(()=>{var t;class SpiceCalculatorDashlet{constructor(t,i){(0,s.Z)(this,"el",void 0),(0,s.Z)(this,"view",void 0),(0,s.Z)(this,"spiceCalculator",void 0),(0,s.Z)(this,"value",void 0),this.el=t,this.view=i}sizeCheck(){"edit"===this.view.getMode()?(this.spiceCalculator.sizeCheck(),setTimeout((()=>this.sizeCheck()),1e3)):this.spiceCalculator.sizeCheck()}onResize(){console.log("resize"),this.spiceCalculator.sizeCheck("all")}ngAfterViewInit(){this.sizeCheck(),this.view.mode$.subscribe((t=>{"edit"===t&&this.sizeCheck()}))}}return t=SpiceCalculatorDashlet,(0,s.Z)(SpiceCalculatorDashlet,"ɵfac",(function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(E.e))})),(0,s.Z)(SpiceCalculatorDashlet,"ɵcmp",u.Xpm({type:t,selectors:[["spice-calculator-dashlet"]],viewQuery:function(t,i){if(1&t&&u.Gf(q,5),2&t){let t;u.iGM(t=u.CRH())&&(i.spiceCalculator=t.first)}},hostBindings:function(t,i){1&t&&u.NdJ("resize",(function(){return i.onResize()}),!1,u.Jf7)},decls:3,vars:1,consts:[["id","dashlet",1,"slds-size--1-of-1","slds-height_full",2,"min-height","350px","min-width","270px"],[3,"ngModel","ngModelChange"],["spiceCalculator",""]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"spice-calculator",1,2),u.NdJ("ngModelChange",(function(t){return i.value=t})),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("ngModel",i.value))},dependencies:[l.JJ,l.On,z],encapsulation:2,changeDetection:0})),SpiceCalculatorDashlet})(),H=(()=>{var t;class ModuleSpiceMath{}return t=ModuleSpiceMath,(0,s.Z)(ModuleSpiceMath,"ɵfac",(function(i){return new(i||t)})),(0,s.Z)(ModuleSpiceMath,"ɵmod",u.oAB({type:t})),(0,s.Z)(ModuleSpiceMath,"ɵinj",u.cJS({imports:[n.ez,l.u5,a.ObjectFields,h.GlobalComponents,r.ObjectComponents,c.SystemComponents,o.o]})),ModuleSpiceMath})();("undefined"==typeof ngJitMode||ngJitMode)&&u.kYT(H,{declarations:[N,z,A],imports:[n.ez,l.u5,a.ObjectFields,h.GlobalComponents,r.ObjectComponents,c.SystemComponents,o.o],exports:[z]})}}]);