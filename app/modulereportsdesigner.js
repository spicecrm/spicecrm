/*!
 * 
 *                     SpiceCRM
 *
 *                     release: 2024.01.001
 *
 *                     date: 2024-06-07 18:47:00
 *
 *                     build: 2024.01.001.1717778820753
 *
 */
"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([["src_modules_reportsdesigner_modulereportsdesigner_ts"],{70131:(e,t,s)=>{s.r(t),s.d(t,{ModuleReportsDesigner:()=>vs});var i=s(60177),n=s(84341),l=s(7745),o=s(37328),r=s(70569),a=s(71341),d=s(18039),c=s(67975),p=s(54438),u=s(53584),g=s(49722),m=s(35911),h=s(69904),b=s(83935),f=s(92462);let v=(()=>{class ReportsDesignerService{constructor(e,t,s,i,n,l,o){this.configurationService=e,this.backend=t,this.cdr=s,this.model=i,this.language=n,this.metadata=l,this.modelUtils=o,this.currentPath={},this.activeModule={},this.operatorCount={},this.operatorTypes={},this.operatorAssignments={},this.expertMode=!0,this.manipulateExpandedItemId="",this.visualizeActiveLayoutItem="",this.visualizeColorTheme=[],this.loadReporterConfig()}get listFields(){return this.model.getField("listfields")}set listFields(e){this.model.setField("listfields",e)}loadPlugins(e){const t=this.metadata.getComponentConfig(e,"KReports");if(t.componentset&&t.componentset.length>0){const e=this.metadata.getComponentSetObjects(t.componentset);if(!e||0==e.length)return;return e.filter((e=>!!e.componentconfig)).map((e=>({name:this.language.getLabel(e.componentconfig.name),id:e.componentconfig.plugin,component:e.componentconfig.component,sequence:e.sequence}))).sort(((e,t)=>isNaN(parseInt(e.sequence,10))||isNaN(parseInt(t.sequence,10))?0:+e.sequence>+t.sequence?1:-1))}}setCurrentPath(e,t){return this.currentPath[e]=t}getCurrentPath(e){return e?this.currentPath[e]:this.activeModule?this.currentPath[this.activeModule.module]:void 0}loadReporterConfig(){let e=this.configurationService.getData("reporterConfig");e?this.setConfigs(e):this.backend.getRequest("module/KReports/core/whereoperators/all").subscribe((e=>{this.configurationService.setData("reporterConfig",e),this.setConfigs(e)}))}loadVisualizationColors(){this.backend.getRequest("module/KReports/core/vizcolors").subscribe((e=>{e&&(this.visualizeColorTheme=e.map((e=>(e.colors=e.colors.split("*"),e))))}))}setConfigs(e){this.operatorCount=e.operatorCount,this.operatorTypes=e.operatorTypes,this.operatorAssignments=e.operatorAssignments}removePlaceHolderElement(e){this.dragPlaceHolderNode&&e.contains(this.dragPlaceHolderNode)&&(e.removeChild(this.dragPlaceHolderNode),this.dragPlaceHolderNode=void 0)}generateGuid(){return"k"+this.modelUtils.generateGuid().replace(/-/g,"")}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerService)(p.KVO(u.i),p.KVO(g.H),p.KVO(p.gRc),p.KVO(m.g),p.KVO(h.B),p.KVO(b.yu),p.KVO(f.g))};static#t=this.ɵprov=p.jDH({token:ReportsDesignerService,factory:ReportsDesignerService.ɵfac})}return ReportsDesignerService})();var L=s(11618),y=s(41731),k=s(18359),R=s(57363),D=s(50531),I=s(66031),C=s(84359),j=s(68823),M=s(32062),F=s(44985),B=s(48717),G=s(18521),x=s(28933),E=s(25863),w=s(42205),S=s(43262),$=s(32130);function N(e,t){if(1&e){const e=p.RV6();p.j41(0,"div",28)(1,"button",29),p.bIt("click",(function(){p.eBV(e);const t=p.XpG().$implicit,s=p.XpG();return p.Njj(s.deleteUnionModule(t.unionid))})),p.nrm(2,"system-button-icon",30),p.k0s()()}}function T(e,t){if(1&e){const e=p.RV6();p.j41(0,"li",23),p.bIt("click",(function(){const t=p.eBV(e).$implicit,s=p.XpG();return p.Njj(s.setActiveModule(t))})),p.j41(1,"a",24),p.nrm(2,"system-icon",25),p.j41(3,"span",18),p.nrm(4,"system-label-modulename",26),p.k0s()(),p.DNE(5,N,3,0,"div",27),p.k0s()}if(2&e){const e=t.$implicit,s=p.XpG();p.AVh("slds-active",e.unionid==s.activeModule.unionid),p.R7$(2),p.Y8G("module",e.module),p.R7$(2),p.Y8G("module",e.module),p.R7$(),p.Y8G("ngIf","root"!=e.unionid)}}function O(e,t){if(1&e){const e=p.RV6();p.j41(0,"div",33)(1,"system-module-tree",34,35),p.bIt("itemSelected",(function(t){const s=p.eBV(e).$implicit,i=p.XpG(2);return p.Njj(i.onItemSelection(t,s.module))})),p.k0s()()}if(2&e){const e=t.$implicit,s=p.sdS(2),i=p.XpG(2);p.AVh("slds-hide",i.activeModule.unionid!=e.unionid),p.Y8G("system-overlay-loading-spinner",s.isLoading),p.R7$(),p.Y8G("module",e.module)("displayRelationshipFields",!0)("displayAuditFields",!0)}}function U(e,t){if(1&e&&(p.j41(0,"div",31),p.DNE(1,O,3,6,"div",32),p.k0s()),2&e){const e=p.XpG();p.R7$(),p.Y8G("ngForOf",e.allModules)("ngForTrackBy",e.trackByFn)}}function Y(e,t){if(1&e&&(p.j41(0,"tr",38)(1,"td",39),p.nrm(2,"system-utility-icon",40),p.k0s(),p.j41(3,"td",41)(4,"div",42),p.EFF(5),p.k0s()(),p.j41(6,"td")(7,"div",42),p.nrm(8,"system-label",43),p.k0s()()()),2&e){const e=t.$implicit,s=p.XpG(2);p.Y8G("cdkDragData",e),p.R7$(4),p.Y8G("title",e.name),p.R7$(),p.JRh(e.name),p.R7$(2),p.Y8G("title",s.language.getLabel(e.label)),p.R7$(),p.Y8G("label",e.label)}}function A(e,t){if(1&e){const e=p.RV6();p.j41(0,"tbody",36),p.bIt("cdkDropListExited",(function(t){p.eBV(e);const s=p.XpG();return p.Njj(s.dropExited(t))}))("cdkDropListEntered",(function(t){p.eBV(e);const s=p.XpG();return p.Njj(s.dropEntered(t))})),p.DNE(1,Y,9,5,"tr",37),p.k0s()}if(2&e){const e=t.$implicit,s=p.XpG();p.AVh("slds-hide",s.isLoadingModuleFields||s.activeModule.unionid!=e.unionid),p.Y8G("id",e.unionid)("cdkDropListData",s.reportModuleFields[e.module]),p.R7$(),p.Y8G("ngForOf",s.getFilteredReportFields(s.reportModuleFields[e.module]))("ngForTrackBy",s.trackByFn)}}function V(e,t){1&e&&p.nrm(0,"tbody",44),2&e&&p.Y8G("columns",2)("rows",5)("select",!0)}let X=(()=>{class ReportsDesignerTree{constructor(e,t,s,i,n,l,o,r){this.language=e,this.backend=t,this.model=s,this.modal=i,this.metadata=n,this.cdr=l,this.injector=o,this.reportsDesignerService=r,this.modules=[],this.filterKey="",this.isLoadingModuleFields=!1,this.reportModuleFields={},this.auditFields=[],this.onUnionDelete=new p.bkB,this.onUnionAdd=new p.bkB,this.getAuditFields()}get canAdd(){const e=this.model.getField("listfields");return e&&e.length&&e.length>0}get activeModule(){return this.reportsDesignerService.activeModule}get allModules(){return[{module:this.model.getField("report_module"),unionid:"root"},...this.unionModules]}get unionModules(){const e=this.model.getField("union_modules");return e&&e.length?e:[]}onItemSelection(e,t){this.reportsDesignerService.setCurrentPath(t,e.path),e.relationshipNode?this.getRelationshipFields(e.parentModule,e.link):e.auditNode?this.reportModuleFields[t]=this.auditFields:this.getModuleFields(e.module,t)}getAuditFields(){this.auditFields=[],this.isLoadingModuleFields=!0,this.backend.getRequest("dictionary/browser/auditFields").subscribe((e=>{this.auditFields=e,this.isLoadingModuleFields=!1}))}getRelationshipFields(e,t){this.reportModuleFields[e]=[],this.isLoadingModuleFields=!0,this.cdr.detectChanges(),this.backend.getRequest(`dictionary/browser/relationshipFields/${e}/${t}`).subscribe((t=>{this.reportModuleFields[e]=t.filter((e=>"relate"!=e.type&&"non-db"!=e.source)),this.isLoadingModuleFields=!1}))}getFilteredReportFields(e){return this.filterKey?e.filter((e=>e.name.toLowerCase().includes(this.filterKey.toLowerCase())||e.label&&this.language.getLabel(e.label).toLowerCase().includes(this.filterKey.toLowerCase()))):e}addUnionModule(){this.modal.openModal("ReportsDesignerSelectModuleModal",!0,this.injector).subscribe((e=>{e.instance.response.subscribe((e=>{if(e){let t=this.model.getField("union_modules");t&&t.length||(t=[]);let s={unionid:this.reportsDesignerService.generateGuid(),module:e.module};t.push(s),this.model.setField("union_modules",t),this.initializeUnionListFields(s.unionid),this.setActiveModule(s)}}))}))}deleteUnionModule(e){this.modal.confirmDeleteRecord().subscribe((t=>{if(t){let t=this.model.getField("union_modules");t=t.filter((t=>t.unionid!=e)),this.model.setField("union_modules",t);const s=t.length>0?t[t.length-1]:{unionid:"root",module:this.model.getField("report_module")};this.setActiveModule(s),this.onUnionDelete.emit(e)}}))}initializeUnionListFields(e){const t=this.model.getField("unionlistfields");let s=this.model.getField("listfields").slice().map((t=>t={fieldid:t.fieldid,joinid:e,path:t.path,displaypath:"",unionfieldpath:"",unionfielddisplaypath:"",unionfieldname:"",unionfielddisplayname:"",name:t.name,fixedvalue:"",id:t.fieldid}));t&&t.length&&t.length>0&&(s=[...t,...s]),this.model.setField("unionlistfields",s)}getModuleFields(e,t){this.reportModuleFields[t]=[],this.isLoadingModuleFields=!0,this.cdr.detectChanges(),this.backend.getRequest("dictionary/browser/"+e+"/fields").subscribe((e=>{this.reportModuleFields[t]=e.filter((e=>"relate"!=e.type&&"non-db"!=e.source)),this.isLoadingModuleFields=!1}))}dropExited(e){let t=document.createElement("tr"),s=document.createElement("td");s.colSpan=10,s.innerHTML="&nbsp;",s.style.background="#fff",t.appendChild(s),this.reportsDesignerService.dragPlaceHolderNode=t;let i=e.container.data.findIndex((t=>t.id==e.item.data.id));i>-1&&e.container.element.nativeElement.insertBefore(t,e.container.element.nativeElement.children[i])}dropEntered(e){this.reportsDesignerService.removePlaceHolderElement(e.container.element.nativeElement)}setActiveModule(e){this.reportsDesignerService.activeModule=e,this.reportsDesignerService.getCurrentPath(e.module)||this.reportsDesignerService.setCurrentPath(e.module,e.module),this.setCurrentUnionListFields(e.unionid)}setCurrentUnionListFields(e){let t=this.model.getField("unionlistfields");t=t&&t.length?t:[],this.onUnionAdd.emit(t.filter((t=>t.joinid==e)))}trackByFn(e,t){return e}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerTree)(p.rXU(h.B),p.rXU(g.H),p.rXU(m.g),p.rXU(D.y),p.rXU(b.yu),p.rXU(p.gRc),p.rXU(p.zZn),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerTree,selectors:[["reports-designer-tree"]],outputs:{onUnionDelete:"onUnionDelete",onUnionAdd:"onUnionAdd"},decls:26,vars:9,consts:[[1,"slds-border--bottom",2,"height","50%"],[1,"slds-tabs--default","slds-grid","slds-grid--vertical",2,"height","100%"],[1,"slds-grid"],["role","tablist",1,"slds-tabs--default__nav","slds-scrollable--x","slds-grow"],["class","slds-tabs--default__item slds-grid slds-grid_vertical-align-center","role","presentation",3,"slds-active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"slds-p-around--x-small","slds-border--left","slds-border--bottom"],[1,"slds-button","slds-button_icon",3,"disabled","click"],["icon","add"],["class","slds-grow","style","height: 0",4,"ngIf"],[1,"slds-grid","slds-grid--vertical",2,"height","50%"],["role","none",1,"slds-input-has-icon","slds-input-has-icon_left"],["icon","search","addclasses","slds-input__icon slds-input__icon--left"],["type","search",1,"slds-input",3,"placeholder","ngModel","ngModelChange"],[1,"slds-grow","slds-scrollable--y"],[1,"slds-table","slds-table_cell-buffer","slds-table_bordered"],[1,"slds-line-height_reset"],[1,"slds-cell-shrink"],["scope","col"],[1,"slds-truncate"],["label","LBL_FIELD"],["label","LBL_NAME"],["cdkDropList","","cdkDropListSortingDisabled","",3,"slds-hide","id","cdkDropListData","cdkDropListExited","cdkDropListEntered",4,"ngFor","ngForOf","ngForTrackBy"],["system-table-stencils","",3,"columns","rows","select",4,"ngIf"],["role","presentation",1,"slds-tabs--default__item","slds-grid","slds-grid_vertical-align-center",3,"click"],["href","javascript:void(0);","role","tab","aria-selected","false",1,"slds-tabs--default__link","slds-grid"],["size","small","divClass","slds-m-right--x-small",3,"module"],[3,"module"],["class","slds-col_bump-left slds-p-left_none slds-p-right_none",4,"ngIf"],[1,"slds-col_bump-left","slds-p-left_none","slds-p-right_none"],[1,"slds-button","slds-button_icon","slds-button_icon-container","slds-button_icon-x-small",3,"click"],["icon","close"],[1,"slds-grow",2,"height","0"],["class","slds-scrollable--y","style","height: 100%",3,"slds-hide","system-overlay-loading-spinner",4,"ngFor","ngForOf","ngForTrackBy"],[1,"slds-scrollable--y",2,"height","100%",3,"system-overlay-loading-spinner"],[3,"module","displayRelationshipFields","displayAuditFields","itemSelected"],["systemModuleTree",""],["cdkDropList","","cdkDropListSortingDisabled","",3,"id","cdkDropListData","cdkDropListExited","cdkDropListEntered"],["cdkDrag","","class","slds-hint-parent slds-drag--preview",3,"cdkDragData",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"slds-hint-parent","slds-drag--preview",3,"cdkDragData"],[1,"slds-p-around--none","slds-cell-shrink"],["cdkDragHandle","","icon","drag_and_drop","size","x-small",1,"slds-p-horizontal--x-small",2,"cursor","move"],["data-label","Account Name"],[1,"slds-truncate",3,"title"],[3,"label"],["system-table-stencils","",3,"columns","rows","select"]],template:function(e,t){1&e&&(p.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3),p.DNE(4,T,6,5,"li",4),p.k0s(),p.j41(5,"div",5)(6,"button",6),p.bIt("click",(function(){return t.addUnionModule()})),p.nrm(7,"system-button-icon",7),p.k0s()()(),p.DNE(8,U,2,2,"div",8),p.k0s()(),p.j41(9,"div",9)(10,"div",10),p.nrm(11,"system-utility-icon",11),p.j41(12,"input",12),p.mxI("ngModelChange",(function(e){return p.DH7(t.filterKey,e)||(t.filterKey=e),e})),p.k0s()(),p.j41(13,"div",13)(14,"table",14)(15,"thead")(16,"tr",15),p.nrm(17,"th",16),p.j41(18,"th",17)(19,"div",18),p.nrm(20,"system-label",19),p.k0s()(),p.j41(21,"th",17)(22,"div",18),p.nrm(23,"system-label",20),p.k0s()()()(),p.DNE(24,A,2,6,"tbody",21)(25,V,1,3,"tbody",22),p.k0s()()()),2&e&&(p.R7$(4),p.Y8G("ngForOf",t.allModules)("ngForTrackBy",t.trackByFn),p.R7$(2),p.Y8G("disabled",!t.canAdd),p.R7$(2),p.Y8G("ngIf",!!t.activeModule.unionid),p.R7$(4),p.Y8G("placeholder",t.language.getLabel("LBL_SEARCH")),p.R50("ngModel",t.filterKey),p.R7$(12),p.Y8G("ngForOf",t.allModules)("ngForTrackBy",t.trackByFn),p.R7$(),p.Y8G("ngIf",t.isLoadingModuleFields))},dependencies:[i.Sq,i.bT,n.me,n.BC,n.vS,E.t,j.J,M.W,F.r,w.t,G.B,S.I,$.M,d.O7,d.T1,d.Fb],encapsulation:2})}return ReportsDesignerTree})();var P=s(3719),z=s(2187),H=s(10650),q=s(66589);const W=()=>({name:"LBL_ADMIN_DATA"});let K=(()=>{class ReportsDesignerDetails{constructor(e,t,s,i){this.language=e,this.model=t,this.backend=s,this.metadata=i}ngOnInit(){let e=this.metadata.getComponentConfig("ReportsDesignerDetails",this.model.module);this.fieldset=e.fieldset,this.model.getField("reportoptions")||this.model.setField("reportoptions",{})}get reportOptions(){return this.model.getField("reportoptions")}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerDetails)(p.rXU(h.B),p.rXU(m.g),p.rXU(g.H),p.rXU(b.yu))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerDetails,selectors:[["reports-designer-details"]],decls:22,vars:9,consts:[[1,"slds-p-around--x-small"],["tabtitle","LBL_DETAILS",3,"collapsible"],["direction","vertical",3,"fieldset"],["tabtitle","LBL_OPTIONS",3,"collapsible"],[1,"slds-grid"],[1,"slds-form-element","slds-m-vertical--xxx-small","slds-size--1-of-2"],[1,"slds-form-element__legend","slds-form-element__label"],["label","LBL_SHOW_DELETED"],[1,"slds-form-element__control"],[3,"ngModel","ngModelChange"],["label","LBL_AUTHORIZATION_CHECK"],["name","reportOptionsAuthCheck","value","full",3,"ngModel","ngModelChange"],["label","LBL_ON_ALL_NODES"],["name","reportOptionsAuthCheck","value","top",3,"ngModel","ngModelChange"],["label","LBL_TOP_NODE_ONLY"],["name","reportOptionsAuthCheck","value","none",3,"ngModel","ngModelChange"],["label","LBL_DISABLED"],["component","ObjectRecordAdministrationTab",3,"componentconfig"]],template:function(e,t){1&e&&(p.j41(0,"div",0)(1,"system-collapsable-tab",1),p.nrm(2,"object-record-fieldset",2),p.k0s(),p.j41(3,"system-collapsable-tab",3)(4,"div",4)(5,"fieldset",5)(6,"legend",6),p.nrm(7,"system-label",7),p.k0s(),p.j41(8,"div",8)(9,"system-checkbox",9),p.mxI("ngModelChange",(function(e){return p.DH7(t.reportOptions.showDeleted,e)||(t.reportOptions.showDeleted=e),e})),p.nrm(10,"system-label",7),p.k0s()()(),p.j41(11,"fieldset",5)(12,"legend",6),p.nrm(13,"system-label",10),p.k0s(),p.j41(14,"div",8)(15,"system-input-radio",11),p.mxI("ngModelChange",(function(e){return p.DH7(t.reportOptions.authCheck,e)||(t.reportOptions.authCheck=e),e})),p.nrm(16,"system-label",12),p.k0s(),p.j41(17,"system-input-radio",13),p.mxI("ngModelChange",(function(e){return p.DH7(t.reportOptions.authCheck,e)||(t.reportOptions.authCheck=e),e})),p.nrm(18,"system-label",14),p.k0s(),p.j41(19,"system-input-radio",15),p.mxI("ngModelChange",(function(e){return p.DH7(t.reportOptions.authCheck,e)||(t.reportOptions.authCheck=e),e})),p.nrm(20,"system-label",16),p.k0s()()()()(),p.nrm(21,"system-dynamic-component",17),p.k0s()),2&e&&(p.R7$(),p.Y8G("collapsible",!1),p.R7$(),p.Y8G("fieldset",t.fieldset),p.R7$(),p.Y8G("collapsible",!1),p.R7$(6),p.R50("ngModel",t.reportOptions.showDeleted),p.R7$(6),p.R50("ngModel",t.reportOptions.authCheck),p.R7$(2),p.R50("ngModel",t.reportOptions.authCheck),p.R7$(2),p.R50("ngModel",t.reportOptions.authCheck),p.R7$(2),p.Y8G("componentconfig",p.lJ4(8,W)))},dependencies:[n.BC,n.vS,P.D,C.f,z.p,H.s,q.J,M.W],encapsulation:2})}return ReportsDesignerDetails})();var J=s(6764);const Q=["reports-designer-manipulate-table-row",""];function Z(e,t){if(1&e){const e=p.RV6();p.j41(0,"div",24)(1,"system-checkbox",25),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.joinType,t)||(s.joinType=t),p.Njj(t)})),p.k0s()()}if(2&e){const e=p.XpG();p.R7$(),p.R50("ngModel",e.joinType),p.Y8G("hidelabel",!0)}}let ee=(()=>{class ReportsDesignerManipulateTableRow{constructor(e,t,s,i,n){this.language=e,this.modelUtilities=t,this.modal=s,this.model=i,this.reportsDesignerService=n,this.listItem={},this.onDelete=new p.bkB}set name(e){this.listItem.name=e;let t=this.model.getField("unionlistfields");t&&t.length&&0!=t.length&&(t.forEach((t=>{if(t.fieldid==this.listItem.fieldid)return t.name=e,!0})),this.model.setField("unionlistfields",t))}get name(){return this.listItem.name}set groupBy(e){this.listItem.groupby=e?"yes":"no"}get groupBy(){return"yes"==this.listItem.groupby}set joinType(e){this.listItem.jointype=e?"required":"optional"}get joinType(){return"required"==this.listItem.jointype}get displayPath(){return this.listItem.displaypath&&this.listItem.displaypath.length>0?this.listItem.displaypath:"FIXED"}deleteField(){this.onDelete.emit()}toggleExpand(e){e.stopPropagation(),this.reportsDesignerService.expertMode&&(this.reportsDesignerService.manipulateExpandedItemId=this.reportsDesignerService.manipulateExpandedItemId==this.listItem.fieldid?"":this.listItem.fieldid)}get requiredEnabled(){return this.listItem.path.split("::").length>2}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerManipulateTableRow)(p.rXU(h.B),p.rXU(f.g),p.rXU(D.y),p.rXU(m.g),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerManipulateTableRow,selectors:[["","reports-designer-manipulate-table-row",""]],inputs:{listItem:"listItem"},outputs:{onDelete:"onDelete"},attrs:Q,decls:43,vars:9,consts:[[1,"slds-p-around--none"],["cdkDragHandle","","icon","drag_and_drop","size","x-small",1,"slds-p-horizontal--x-small",2,"cursor","move"],[1,"slds-truncate",3,"title"],[1,"slds-form-element"],[3,"ngModel","ngModelChange"],[1,"slds-form-element__control"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],["value","SUM"],["label","LBL_SUM"],["value","COUNT"],["label","LBL_COUNT"],["value","COUNT_DISTINCT"],["label","LBL_COUNT_DISTINCT"],["value","MAX"],["label","LBL_MAXIMUM"],["value","MIN"],["label","LBL_MINIMUM"],["value","AVG"],["label","LBL_AVERAGE"],["value","GROUP_CONCAT"],["label","LBL_GROUP_CONCAT"],["value","GROUP_CONASC"],["value","GROUP_CONDSC"],[1,"slds-align--absolute-center"],[3,"ngModel","hidelabel","ngModelChange"],["class","slds-align--absolute-center",4,"ngIf"],[1,"slds-cell-shrink"],[1,"slds-button","slds-button--icon",3,"click"],["icon","delete"],["size","x-small",1,"slds-p-horizontal--xx-small","slds-p-vertical--xx-small",2,"cursor","pointer",3,"icon","colorclass","click"]],template:function(e,t){1&e&&(p.j41(0,"td",0),p.nrm(1,"system-utility-icon",1),p.k0s(),p.j41(2,"td")(3,"div",2),p.EFF(4),p.k0s()(),p.j41(5,"td")(6,"div",3)(7,"system-input-label",4),p.mxI("ngModelChange",(function(e){return p.DH7(t.name,e)||(t.name=e),e})),p.k0s()()(),p.j41(8,"td")(9,"div",3)(10,"div",5)(11,"div",6)(12,"select",7),p.mxI("ngModelChange",(function(e){return p.DH7(t.listItem.sqlfunction,e)||(t.listItem.sqlfunction=e),e})),p.nrm(13,"option"),p.j41(14,"option",8),p.nrm(15,"system-label",9),p.k0s(),p.j41(16,"option",10),p.nrm(17,"system-label",11),p.k0s(),p.j41(18,"option",12),p.nrm(19,"system-label",13),p.k0s(),p.j41(20,"option",14),p.nrm(21,"system-label",15),p.k0s(),p.j41(22,"option",16),p.nrm(23,"system-label",17),p.k0s(),p.j41(24,"option",18),p.nrm(25,"system-label",19),p.k0s(),p.j41(26,"option",20),p.nrm(27,"system-label",21),p.k0s(),p.j41(28,"option",22),p.nrm(29,"system-label",21),p.EFF(30," (ASC)"),p.k0s(),p.j41(31,"option",23),p.nrm(32,"system-label",21),p.EFF(33," (DESC)"),p.k0s()()()()()(),p.j41(34,"td")(35,"div",24)(36,"system-checkbox",25),p.mxI("ngModelChange",(function(e){return p.DH7(t.groupBy,e)||(t.groupBy=e),e})),p.k0s()()(),p.j41(37,"td"),p.DNE(38,Z,2,2,"div",26),p.k0s(),p.j41(39,"td",27)(40,"button",28),p.bIt("click",(function(){return t.deleteField()})),p.nrm(41,"system-button-icon",29),p.k0s(),p.j41(42,"system-utility-icon",30),p.bIt("click",(function(e){return t.toggleExpand(e)})),p.k0s()()),2&e&&(p.R7$(3),p.Y8G("title",t.displayPath),p.R7$(),p.SpI(" ",t.displayPath," "),p.R7$(3),p.R50("ngModel",t.name),p.R7$(5),p.R50("ngModel",t.listItem.sqlfunction),p.R7$(24),p.R50("ngModel",t.groupBy),p.Y8G("hidelabel",!0),p.R7$(2),p.Y8G("ngIf",t.requiredEnabled),p.R7$(4),p.Y8G("icon",t.reportsDesignerService.manipulateExpandedItemId==t.listItem.fieldid?"up":"down")("colorclass",t.reportsDesignerService.expertMode?"slds-icon-text-default":"slds-icon-text-light"))},dependencies:[i.bT,n.xH,n.y7,n.wz,n.BC,n.vS,E.t,C.f,J.w,M.W,G.B,d.Fb],encapsulation:2})}return ReportsDesignerManipulateTableRow})();var te=s(6315);const se=["reports-designer-manipulate-table-row-expansion",""];function ie(e,t){if(1&e){const e=p.RV6();p.qex(0),p.j41(1,"td",1)(2,"fieldset",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),p.nrm(7,"system-label",7),p.k0s(),p.j41(8,"div",3)(9,"input",8),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.listItem.path,t)||(s.listItem.path=t),p.Njj(t)})),p.k0s()()()(),p.j41(10,"div",9)(11,"div",10)(12,"label",6),p.nrm(13,"system-label",11),p.k0s(),p.j41(14,"div",3)(15,"input",12),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.listItem.fixedvalue,t)||(s.listItem.fixedvalue=t),p.Njj(t)})),p.k0s()()(),p.j41(16,"div",10)(17,"label",6),p.nrm(18,"system-label",13),p.k0s(),p.j41(19,"div",3)(20,"input",14),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.listItem.grouping,t)||(s.listItem.grouping=t),p.Njj(t)})),p.k0s()()()(),p.j41(21,"div",9)(22,"div",10)(23,"label",6),p.nrm(24,"system-label",15),p.k0s(),p.j41(25,"div",3)(26,"div",16)(27,"select",17),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.listItem.valuetype,t)||(s.listItem.valuetype=t),p.Njj(t)})),p.nrm(28,"option"),p.j41(29,"option",18),p.nrm(30,"system-label",19),p.k0s(),p.j41(31,"option",20),p.nrm(32,"system-label",21),p.k0s(),p.j41(33,"option",22),p.nrm(34,"system-label",23),p.k0s(),p.j41(35,"option",24),p.nrm(36,"system-label",25),p.k0s(),p.j41(37,"option",26),p.nrm(38,"system-label",27),p.k0s(),p.j41(39,"option",28),p.nrm(40,"system-label",29),p.k0s(),p.j41(41,"option",30),p.nrm(42,"system-label",31),p.k0s(),p.j41(43,"option",32),p.nrm(44,"system-label",33),p.k0s()()()()()(),p.j41(45,"div",34)(46,"label",6),p.nrm(47,"system-label",35),p.k0s(),p.j41(48,"system-input-base64",36),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.listItem.customsqlfunction,t)||(s.listItem.customsqlfunction=t),p.Njj(t)})),p.k0s()(),p.j41(49,"div",37)(50,"div",10)(51,"label",6),p.nrm(52,"system-label",38),p.k0s(),p.j41(53,"div",3)(54,"input",39),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.listItem.assigntovalue,t)||(s.listItem.assigntovalue=t),p.Njj(t)})),p.k0s()()(),p.j41(55,"div",10)(56,"label",6),p.nrm(57,"system-label",40),p.k0s(),p.j41(58,"div",3)(59,"input",39),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.listItem.formulasequence,t)||(s.listItem.formulasequence=t),p.Njj(t)})),p.k0s()()()(),p.j41(60,"div",41)(61,"label",6),p.nrm(62,"system-label",42),p.k0s(),p.j41(63,"system-input-base64",36),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.listItem.formulavalue,t)||(s.listItem.formulavalue=t),p.Njj(t)})),p.k0s()(),p.j41(64,"div",37)(65,"div",10)(66,"label",6),p.nrm(67,"system-label",7),p.k0s(),p.j41(68,"div",3)(69,"input",43),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.listItem.path,t)||(s.listItem.path=t),p.Njj(t)})),p.k0s()()(),p.j41(70,"div",10)(71,"label",6),p.nrm(72,"system-label",44),p.k0s(),p.j41(73,"div",3)(74,"input",14),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.listItem.fieldid,t)||(s.listItem.fieldid=t),p.Njj(t)})),p.k0s()()()()()()(),p.bVm()}if(2&e){const e=p.XpG();p.R7$(9),p.R50("ngModel",e.listItem.path),p.Y8G("disabled",!0),p.R7$(6),p.R50("ngModel",e.listItem.fixedvalue),p.R7$(5),p.R50("ngModel",e.listItem.grouping),p.R7$(7),p.R50("ngModel",e.listItem.valuetype),p.R7$(21),p.R50("ngModel",e.listItem.customsqlfunction),p.R7$(6),p.R50("ngModel",e.listItem.assigntovalue),p.R7$(5),p.R50("ngModel",e.listItem.formulasequence),p.R7$(4),p.R50("ngModel",e.listItem.formulavalue),p.R7$(6),p.R50("ngModel",e.listItem.path),p.R7$(5),p.R50("ngModel",e.listItem.fieldid)}}let ne=(()=>{class ReportsDesignerManipulateTableRowExpansion{constructor(e,t,s,i,n){this.language=e,this.modelUtilities=t,this.modal=s,this.model=i,this.reportsDesignerService=n,this.listItem={}}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerManipulateTableRowExpansion)(p.rXU(h.B),p.rXU(f.g),p.rXU(D.y),p.rXU(m.g),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerManipulateTableRowExpansion,selectors:[["","reports-designer-manipulate-table-row-expansion",""]],inputs:{listItem:"listItem"},attrs:se,decls:1,vars:1,consts:[[4,"ngIf"],["colspan","7"],[1,"slds-form-element","slds-form-element_compound","slds-p-vertical--x-small"],[1,"slds-form-element__control"],[1,"slds-grid","slds-m-vertical--xx-small","slds-grid--align-spread"],[1,"slds-form-element","slds-size--1-of-1"],[1,"slds-form-element__label"],["label","LBL_PATH"],["type","text",1,"slds-input",3,"ngModel","disabled","ngModelChange"],[1,"slds-form-element","slds-grid"],[1,"slds-form-element","slds-size--1-of-2"],["label","LBL_FIXED_VALUE"],["type","text","tabindex","1","autofocus","",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_GROUPING"],["disabled","","type","text",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_VALUE_TYPE"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],["value","TOFSUM"],["label","LBL_VALUE_TYPE_TOFSUM"],["value","POFSUM"],["label","LBL_VALUE_TYPE_POFSUM"],["value","POFCOUNT"],["label","LBL_VALUE_TYPE_POFCOUNT"],["value","POFAVG"],["label","LBL_VALUE_TYPE_POFAVERAGE"],["value","DOFSUM"],["label","LBL_VALUE_TYPE_DOFSUM"],["value","DOFCOUNT"],["label","LBL_VALUE_TYPE_DOFCOUNT"],["value","DOFAVG"],["label","LBL_VALUE_TYPE_DOFAVERAGE"],["value","C"],["label","LBL_VALUE_TYPE_C"],[1,"slds-form-element","slds-m-top--x-small","slds-has-divider--top"],["label","LBL_CUSTOM_FUNCTION"],[3,"ngModel","ngModelChange"],[1,"slds-grid","slds-has-divider--top"],["label","LBL_STORE"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_SEQUENCE"],[1,"slds-form-element"],["label","LBL_FORMULA"],["type","text","disabled","","tabindex","1","autofocus","",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_ID"]],template:function(e,t){1&e&&p.DNE(0,ie,75,11,"ng-container",0),2&e&&p.Y8G("ngIf",t.reportsDesignerService.manipulateExpandedItemId==t.listItem.fieldid&&t.reportsDesignerService.expertMode)},dependencies:[i.bT,n.xH,n.y7,n.me,n.wz,n.BC,n.vS,te.T,M.W],encapsulation:2})}return ReportsDesignerManipulateTableRowExpansion})();function le(e,t){if(1&e){const e=p.RV6();p.qex(0),p.j41(1,"tr",18),p.bIt("onDelete",(function(){const t=p.eBV(e).$implicit,s=p.XpG();return p.Njj(s.deleteField(t.fieldid))})),p.k0s(),p.nrm(2,"tr",19),p.bVm()}if(2&e){const e=t.$implicit;p.R7$(),p.Y8G("listItem",e)("cdkDragData",e),p.R7$(),p.Y8G("listItem",e)}}function oe(e,t){1&e&&(p.j41(0,"tr")(1,"td",20)(2,"div",21),p.nrm(3,"system-label",22),p.k0s()()())}let re=(()=>{class ReportsDesignerManipulate{constructor(e,t,s,i,n){this.language=e,this.modelUtilities=t,this.modal=s,this.model=i,this.reportsDesignerService=n}set listFields(e){this.reportsDesignerService.listFields=e}get listFields(){return this.reportsDesignerService.listFields}get dragList(){return this.reportsDesignerService.treeCDKDragList}trackByFn(e,t){return t.fieldid}onDrop(e){if(this.reportsDesignerService.removePlaceHolderElement(e.previousContainer.element.nativeElement),e.previousContainer===e.container)(0,d.HD)(e.container.data,e.previousIndex,e.currentIndex);else{let t=e.item.data,s=this.generateNewItem(t,e.container.data.length+1);e.container.data.splice(e.currentIndex,0,s),this.addListItemToUnionFields(s)}e.container.data=e.container.data.map(((e,t)=>(e.sequence=t,e))),this.listFields=e.container.data}addListItemToUnionFields(e){const t=this.model.getField("union_modules");if(!t||!t.length||0==t.length)return;let s=this.model.getField("unionlistfields");s&&s.length&&0!=s.length||(s=[]),t.forEach((t=>{let i={fieldid:e.fieldid,joinid:t.unionid,path:e.path,displaypath:"",unionfieldpath:"",unionfielddisplaypath:"",unionfieldname:"",unionfielddisplayname:"",name:e.name,fixedvalue:"",id:e.fieldid};s.push(i)})),this.model.setField("unionlistfields",s)}deleteListItemToUnionFields(e){let t=this.model.getField("unionlistfields");t&&t.length&&0!=t.length&&(t=t.filter((t=>t.fieldid!=e)),this.model.setField("unionlistfields",t))}generateNewItem(e=null,t){let s=this.reportsDesignerService.generateGuid();return{fieldid:s,path:e?`${this.reportsDesignerService.getCurrentPath()}::${e.id}`:"",displaypath:e?this.reportsDesignerService.getCurrentPath():"",fieldname:e?e.name:"",name:e?e.label:"new fixed field",display:"yes",sequence:t,width:"100",sort:"-",sortpriority:"",jointype:"optional",sqlfunction:"-",summaryfunction:"",groupby:"no",link:"no",fixedvalue:"",formulasequence:"",id:s}}deleteField(e){this.modal.confirmDeleteRecord().subscribe((t=>{if(t){let t=this.listFields.slice();t=t.filter((t=>t.fieldid!=e)),this.listFields=t,this.deleteListItemToUnionFields(e)}}))}addFixed(){let e=this.listFields.slice();const t=this.generateNewItem(null,e.length+1);e.push(t),this.listFields=e,this.addListItemToUnionFields(t),this.reportsDesignerService.manipulateExpandedItemId=t.fieldid}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerManipulate)(p.rXU(h.B),p.rXU(f.g),p.rXU(D.y),p.rXU(m.g),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerManipulate,selectors:[["reports-designer-manipulate"]],decls:26,vars:7,consts:[[1,"slds-grid","slds-grid--vertical",2,"height","100%"],[1,"slds-border--bottom","slds-p-around--x-small"],[1,"slds-button","slds-button_neutral","slds-m-right--small","slds-p-horizontal--x-small","slds-text-title--caps",2,"height","100%","line-height","22px",3,"disabled","click"],["label","LBL_ADD_FIXED"],["cdkDropList","",1,"slds-grow","slds-scrollable--y",2,"height","100%",3,"cdkDropListData","cdkDropListDropped"],[1,"slds-table","slds-table--cell-buffer","spice-table_header-fixed","slds-table--fixed-layout","slds-no-row-hover","reports-designer-manipulate-table"],[1,"slds-text-title--caps","slds-theme--shade"],[1,"slds-cell-shrink"],["scope","col",1,"slds-resizable"],[1,"slds-truncate"],["label","LBL_PATH"],["label","LBL_NAME"],["label","LBL_FUNCTION"],["scope","col",1,"slds-text-align--center","slds-cell-shrink"],["icon","summary","size","x-small",3,"title"],["icon","link","size","x-small",3,"title"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["reports-designer-manipulate-table-row","","cdkDrag","","cdkDragBoundary",".reports-designer-manipulate-table",1,"slds-border--bottom","slds-drag--preview",3,"listItem","cdkDragData","onDelete"],["reports-designer-manipulate-table-row-expansion","",1,"slds-theme--shade","slds-box_border",3,"listItem"],["colspan","7"],[1,"slds-align--absolute-center","slds-p-around--large"],["label","MSG_DROP_FIELD_HERE"]],template:function(e,t){1&e&&(p.j41(0,"div",0)(1,"div",1)(2,"button",2),p.bIt("click",(function(){return t.addFixed()})),p.nrm(3,"system-label",3),p.k0s()(),p.j41(4,"div",4),p.bIt("cdkDropListDropped",(function(e){return t.onDrop(e)})),p.j41(5,"table",5)(6,"thead")(7,"tr",6),p.nrm(8,"th",7),p.j41(9,"th",8)(10,"div",9),p.nrm(11,"system-label",10),p.k0s()(),p.j41(12,"th",8)(13,"div",9),p.nrm(14,"system-label",11),p.k0s()(),p.j41(15,"th",8)(16,"div",9),p.nrm(17,"system-label",12),p.k0s()(),p.j41(18,"th",13),p.nrm(19,"system-utility-icon",14),p.k0s(),p.j41(20,"th",13),p.nrm(21,"system-utility-icon",15),p.k0s(),p.nrm(22,"th",7),p.k0s()(),p.j41(23,"tbody"),p.DNE(24,le,3,3,"ng-container",16)(25,oe,4,0,"tr",17),p.k0s()()()()),2&e&&(p.R7$(2),p.Y8G("disabled",!t.reportsDesignerService.expertMode),p.R7$(2),p.Y8G("cdkDropListData",t.listFields),p.R7$(15),p.Y8G("title",t.language.getLabel("LBL_GROUP_BY")),p.R7$(2),p.Y8G("title",t.language.getLabel("LBL_REQUIRED")),p.R7$(3),p.Y8G("ngForOf",t.listFields)("ngForTrackBy",t.trackByFn),p.R7$(),p.Y8G("ngIf",0==(null==t.listFields?null:t.listFields.length)))},dependencies:[i.Sq,i.bT,M.W,G.B,d.O7,d.T1,ee,ne],encapsulation:2})}return ReportsDesignerManipulate})();const ae=["reports-designer-manipulate-union-table-row",""];function de(e,t){1&e&&p.nrm(0,"system-utility-icon",7)}function ce(e,t){1&e&&p.nrm(0,"system-utility-icon",8)}function pe(e,t){if(1&e){const e=p.RV6();p.j41(0,"div",9)(1,"div",10)(2,"input",11),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.listItem.fixedvalue,t)||(s.listItem.fixedvalue=t),p.Njj(t)})),p.k0s()()()}if(2&e){const e=p.XpG();p.R7$(2),p.R50("ngModel",e.listItem.fixedvalue)}}function ue(e,t){if(1&e){const e=p.RV6();p.j41(0,"button",12),p.bIt("click",(function(){p.eBV(e);const t=p.XpG();return p.Njj(t.unlinkField())})),p.nrm(1,"system-button-icon",13),p.k0s()}if(2&e){const e=p.XpG();p.Y8G("disabled",!e.isLinked)}}let ge=(()=>{class ReportsDesignerManipulateUnionTableRow{constructor(e){this.language=e,this.listItem={},this.onUnlink=new p.bkB}get path(){return this.listItem.path&&this.listItem.path.length>0?this.listItem.path:"FIXED"}get isLinked(){return!!this.listItem.unionfieldpath&&this.listItem.unionfieldpath.length>0}unlinkField(){this.onUnlink.emit()}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerManipulateUnionTableRow)(p.rXU(h.B))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerManipulateUnionTableRow,selectors:[["","reports-designer-manipulate-union-table-row",""]],inputs:{listItem:"listItem"},outputs:{onUnlink:"onUnlink"},attrs:ae,decls:22,vars:14,consts:[["icon","linked","size","x-small","colorclass","slds-icon-text-success",4,"ngIf"],["icon","unlinked","size","x-small","colorclass","slds-icon-text-light",4,"ngIf"],[1,"slds-truncate",3,"title"],[3,"label"],["class","slds-form-element",4,"ngIf"],["data-cdk-drag-placholder-container","",1,"slds-cell-shrink","slds-text-align--center"],["class","slds-button slds-button--icon",3,"disabled","click",4,"ngIf"],["icon","linked","size","x-small","colorclass","slds-icon-text-success"],["icon","unlinked","size","x-small","colorclass","slds-icon-text-light"],[1,"slds-form-element"],[1,"slds-form-element__control"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],[1,"slds-button","slds-button--icon",3,"disabled","click"],["icon","remove_link"]],template:function(e,t){1&e&&(p.j41(0,"td"),p.DNE(1,de,1,0,"system-utility-icon",0)(2,ce,1,0,"system-utility-icon",1),p.k0s(),p.j41(3,"td")(4,"div",2),p.EFF(5),p.k0s()(),p.j41(6,"td")(7,"div",2),p.nrm(8,"system-label",3),p.k0s()(),p.j41(9,"td")(10,"div",2),p.EFF(11),p.k0s()(),p.j41(12,"td")(13,"div",2),p.EFF(14),p.k0s()(),p.j41(15,"td")(16,"div",2),p.nrm(17,"system-label",3),p.k0s()(),p.j41(18,"td"),p.DNE(19,pe,3,1,"div",4),p.k0s(),p.j41(20,"td",5),p.DNE(21,ue,2,1,"button",6),p.k0s()),2&e&&(p.R7$(),p.Y8G("ngIf",t.isLinked),p.R7$(),p.Y8G("ngIf",!t.isLinked),p.R7$(2),p.Y8G("title",t.path),p.R7$(),p.SpI(" ",t.path," "),p.R7$(2),p.Y8G("title",t.language.getLabel(t.listItem.name)),p.R7$(),p.Y8G("label",t.listItem.name),p.R7$(2),p.Y8G("title",t.listItem.unionfieldpath),p.R7$(),p.SpI(" ",t.listItem.unionfieldpath," "),p.R7$(2),p.Y8G("title",t.listItem.unionfielddisplaypath),p.R7$(),p.SpI(" ",t.listItem.unionfielddisplaypath," "),p.R7$(2),p.Y8G("title",t.language.getLabel(t.listItem.unionfielddisplayname)),p.R7$(),p.Y8G("label",t.listItem.unionfielddisplayname),p.R7$(2),p.Y8G("ngIf",t.listItem.joinid),p.R7$(2),p.Y8G("ngIf",t.listItem.joinid))},dependencies:[i.bT,n.me,n.BC,n.vS,E.t,M.W,G.B],encapsulation:2})}return ReportsDesignerManipulateUnionTableRow})();function me(e,t){if(1&e){const e=p.RV6();p.j41(0,"tr",14),p.bIt("onUnlink",(function(){const t=p.eBV(e).$implicit,s=p.XpG();return p.Njj(s.unlinkField(t.fieldid))}))("cdkDropListEntered",(function(t){p.eBV(e);const s=p.XpG();return p.Njj(s.onDropEntered(t))}))("cdkDropListDropped",(function(t){p.eBV(e);const s=p.XpG();return p.Njj(s.onDrop(t))})),p.k0s()}if(2&e){const e=t.$implicit;p.Y8G("listItem",e)("id",e.fieldid)("cdkDropListData",e)}}let he=(()=>{class ReportsDesignerManipulateUnion{constructor(e,t,s,i,n){this.language=e,this.modelUtilities=t,this.modal=s,this.model=i,this.reportsDesignerService=n,this.module={},this.currentUnionListFields=[]}get dragList(){return this.reportsDesignerService.treeCDKDragList}trackByFn(e,t){return t.fieldid}onDrop(e){this.reportsDesignerService.removePlaceHolderElement(e.previousContainer.element.nativeElement),e.previousContainer!==e.container&&this.linkUnionField(e.container.data,e.item.data)}linkUnionField(e,t){const s=this.reportsDesignerService.getCurrentPath().indexOf("link")<0?"unionroot::":"",i=this.reportsDesignerService.getCurrentPath().replace("root:","");e.unionfieldname=t.name,e.unionfielddisplayname=t.label,e.unionfielddisplaypath=this.reportsDesignerService.getCurrentPath(),e.unionfieldpath=`${s}union${this.module.unionid}:${i}::${t.id}`,e.displaypath=this.reportsDesignerService.getCurrentPath(),e.joinid=this.module.unionid}resetUnionField(e){e.unionfieldname="",e.unionfielddisplayname="",e.unionfielddisplaypath="",e.unionfieldpath="",e.displaypath=""}unlinkField(e){this.modal.confirm(this.language.getLabel("LBL_UNLINK"),this.language.getLabel("LBL_UNLINK")).subscribe((t=>{t&&this.currentUnionListFields.some((t=>{if(t.fieldid==e)return this.resetUnionField(t),!0}))}))}onDropEntered(e){const t=e.item.getPlaceholderElement();e.container.element.nativeElement.removeChild(t),t.style.display="block",t.style.height=0,t.style.width=0,t.style.overflow="hidden";const s=e.container.element.nativeElement.querySelectorAll("td[data-cdk-drag-placholder-container]");s[0]&&s[0].insertBefore(t,s[0].firstChild)}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerManipulateUnion)(p.rXU(h.B),p.rXU(f.g),p.rXU(D.y),p.rXU(m.g),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerManipulateUnion,selectors:[["reports-designer-manipulate-union"]],inputs:{module:"module",currentUnionListFields:"currentUnionListFields"},decls:27,vars:2,consts:[[1,"slds-grid",2,"height","100%"],[1,"slds-size--1-of-1",2,"height","100%"],[1,"slds-table","slds-table--cell-buffer","spice-table_header-fixed","slds-table--fixed-layout","slds-no-row-hover","reports-designer-manipulate-table"],[1,"slds-text-title--caps","slds-theme--shade"],[1,"slds-cell-shrink"],["scope","col",1,"slds-resizable"],[1,"slds-truncate"],["label","LBL_PATH"],["label","LBL_NAME"],["label","LBL_UNION_FIELD_PATH"],["label","LBL_UNION_PATH"],["label","LBL_UNION_FIELD_NAME"],["label","LBL_FIXED_VALUE"],["reports-designer-manipulate-union-table-row","","cdkDropList","","cdkDropListSortingDisabled","","class","slds-border--bottom slds-drag--preview spice-reports-designer-union-list","style","height: 41px",3,"listItem","id","cdkDropListData","onUnlink","cdkDropListEntered","cdkDropListDropped",4,"ngFor","ngForOf","ngForTrackBy"],["reports-designer-manipulate-union-table-row","","cdkDropList","","cdkDropListSortingDisabled","",1,"slds-border--bottom","slds-drag--preview","spice-reports-designer-union-list",2,"height","41px",3,"listItem","id","cdkDropListData","onUnlink","cdkDropListEntered","cdkDropListDropped"]],template:function(e,t){1&e&&(p.j41(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr",3),p.nrm(5,"th",4),p.j41(6,"th",5)(7,"div",6),p.nrm(8,"system-label",7),p.k0s()(),p.j41(9,"th",5)(10,"div",6),p.nrm(11,"system-label",8),p.k0s()(),p.j41(12,"th",5)(13,"div",6),p.nrm(14,"system-label",9),p.k0s()(),p.j41(15,"th",5)(16,"div",6),p.nrm(17,"system-label",10),p.k0s()(),p.j41(18,"th",5)(19,"div",6),p.nrm(20,"system-label",11),p.k0s()(),p.j41(21,"th",5)(22,"div",6),p.nrm(23,"system-label",12),p.k0s()(),p.nrm(24,"th",4),p.k0s()(),p.j41(25,"tbody"),p.DNE(26,me,1,3,"tr",13),p.k0s()()()()),2&e&&(p.R7$(26),p.Y8G("ngForOf",t.currentUnionListFields)("ngForTrackBy",t.trackByFn))},dependencies:[i.Sq,M.W,d.O7,ge],styles:["\n\n\n\n\n\n\n\n\n\n\n.cdk-drop-list-dragging[_ngcontent-%COMP%]{background-color:#ddd!important}"]})}return ReportsDesignerManipulateUnion})();const be=["itemContainer"];let fe=(()=>{class ReportsDesignerPresentItem{constructor(e,t){this.language=e,this.metadata=t,this.component=""}ngAfterViewInit(){this.render()}ngOnDestroy(){this.componentRef&&this.componentRef.destroy()}render(){this.metadata.addComponent(this.component,this.itemContainer).subscribe((e=>this.componentRef=e))}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerPresentItem)(p.rXU(h.B),p.rXU(b.yu))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerPresentItem,selectors:[["reports-designer-present-item"]],viewQuery:function(e,t){if(1&e&&p.GBs(be,7,p.c1b),2&e){let e;p.mGM(e=p.lsd())&&(t.itemContainer=e.first)}},inputs:{component:"component"},decls:2,vars:0,consts:[["itemContainer",""]],template:function(e,t){1&e&&p.nrm(0,"div",null,0)},encapsulation:2})}return ReportsDesignerPresentItem})();function ve(e,t){if(1&e&&(p.j41(0,"option",11),p.EFF(1),p.k0s()),2&e){const e=t.$implicit;p.Y8G("value",e.id),p.R7$(),p.JRh(e.name)}}function Le(e,t){if(1&e&&p.nrm(0,"reports-designer-present-item",13),2&e){const e=p.XpG().$implicit;p.Y8G("component",e.component)}}function ye(e,t){if(1&e&&(p.j41(0,"div"),p.DNE(1,Le,1,1,"reports-designer-present-item",12),p.k0s()),2&e){const e=t.$implicit,s=p.XpG();p.R7$(),p.Y8G("ngIf",s.selectedItemId==e.id&&!!e.component)}}let ke=(()=>{class ReportsDesignerPresent{constructor(e,t,s,i){this.language=e,this.metadata=t,this.model=s,this.reportsDesignerService=i,this.plugins=[]}get selectedItemId(){return this.model.getField("listtype")}set selectedItemId(e){this.model.setField("listtype",e),this.initializePresentationParams(e)}ngOnInit(){this.initializePresentationParams(),this.plugins=this.reportsDesignerService.loadPlugins("ReportsDesignerPresent")}initializePresentationParams(e){let t=this.model.getField("presentation_params");t&&t.plugin?e&&t.plugin!=e&&(t={plugin:e,pluginData:{}}):t={plugin:"standard",pluginData:{}},this.model.setField("presentation_params",t)}trackByFn(e,t){return t.id}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerPresent)(p.rXU(h.B),p.rXU(b.yu),p.rXU(m.g),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerPresent,selectors:[["reports-designer-present"]],decls:11,vars:4,consts:[[1,"slds-grid","slds-grid--vertical",2,"height","100%"],[1,"slds-border--bottom","slds-p-around--xx-small","slds-page-header",2,"border-radius","0"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center"],[1,"slds-form-element__label","slds-text-heading--label"],["label","LBL_PLUGIN"],[1,"slds-form-element__control"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"slds-scrollable--y","slds-grow"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],[3,"component",4,"ngIf"],[3,"component"]],template:function(e,t){1&e&&(p.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),p.nrm(4,"system-label",4),p.k0s(),p.j41(5,"div",5)(6,"div",6)(7,"select",7),p.mxI("ngModelChange",(function(e){return p.DH7(t.selectedItemId,e)||(t.selectedItemId=e),e})),p.DNE(8,ve,2,2,"option",8),p.k0s()()()()(),p.j41(9,"div",9),p.DNE(10,ye,2,1,"div",10),p.k0s()()),2&e&&(p.R7$(7),p.R50("ngModel",t.selectedItemId),p.R7$(),p.Y8G("ngForOf",t.plugins),p.R7$(2),p.Y8G("ngForOf",t.plugins)("ngForTrackBy",t.trackByFn))},dependencies:[i.Sq,i.bT,n.xH,n.y7,n.wz,n.BC,n.vS,M.W,fe],encapsulation:2})}return ReportsDesignerPresent})();const _e=["itemContainer"];let Re=(()=>{class ReportsDesignerVisualizeItem{constructor(e,t){this.language=e,this.metadata=t,this.component=""}ngAfterViewInit(){this.render()}ngOnDestroy(){this.componentRef&&this.componentRef.destroy()}render(){this.metadata.addComponent(this.component,this.itemContainer).subscribe((e=>this.componentRef=e))}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerVisualizeItem)(p.rXU(h.B),p.rXU(b.yu))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerVisualizeItem,selectors:[["reports-designer-visualize-item"]],viewQuery:function(e,t){if(1&e&&p.GBs(_e,7,p.c1b),2&e){let e;p.mGM(e=p.lsd())&&(t.itemContainer=e.first)}},inputs:{component:"component"},decls:2,vars:0,consts:[["itemContainer",""]],template:function(e,t){1&e&&p.nrm(0,"div",null,0)},encapsulation:2})}return ReportsDesignerVisualizeItem})();function De(e,t){if(1&e&&(p.j41(0,"option",21),p.EFF(1),p.k0s()),2&e){const e=t.$implicit;p.Y8G("ngValue",e),p.R7$(),p.SpI(" ",e.value," ")}}function Ie(e,t){if(1&e){const e=p.RV6();p.j41(0,"span",22)(1,"input",23),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.activeLayoutItem,t)||(s.activeLayoutItem=t),p.Njj(t)})),p.k0s(),p.j41(2,"label",24)(3,"span",25),p.EFF(4),p.k0s()()()}if(2&e){const e=t.$implicit,s=p.XpG();p.R7$(),p.Y8G("value",e),p.R50("ngModel",s.activeLayoutItem),p.Y8G("disabled",0==s.selectedLayout.itemsCount||e>s.selectedLayout.itemsCount)("id","ReportsDesignerVisualizationlayoutActiveItem"+e),p.R7$(),p.Y8G("for","ReportsDesignerVisualizationlayoutActiveItem"+e),p.R7$(2),p.JRh(e)}}function Ce(e,t){if(1&e&&(p.j41(0,"option",26),p.EFF(1),p.k0s()),2&e){const e=t.$implicit;p.Y8G("value",e.id),p.R7$(),p.JRh(e.name)}}function je(e,t){if(1&e&&p.nrm(0,"reports-designer-visualize-item",28),2&e){const e=p.XpG().$implicit;p.Y8G("component",e.component)}}function Me(e,t){if(1&e&&(p.j41(0,"div"),p.DNE(1,je,1,1,"reports-designer-visualize-item",27),p.k0s()),2&e){const e=t.$implicit,s=p.XpG();p.R7$(),p.Y8G("ngIf",s.selectedLayout.itemsCount>0&&s.selectedPluginId==e.id&&!!e.component)}}function Fe(e,t){1&e&&(p.j41(0,"div",29),p.nrm(1,"system-label",30),p.k0s())}let Be=(()=>{class ReportsDesignerVisualize{constructor(e,t,s,i){this.language=e,this.metadata=t,this.reportsDesignerService=s,this.model=i,this.plugins=[],this.radioButtonItems=["1","2","3","4","5"],this.layoutOptions=[{value:"-",itemsCount:0},{value:"1x1",itemsCount:1},{value:"1x2",itemsCount:2},{value:"1x3",itemsCount:3},{value:"1x4",itemsCount:4},{value:"2x2",itemsCount:4},{value:"2x2wide",itemsCount:4},{value:"1x3x2",itemsCount:3},{value:"1x2x1",itemsCount:2},{value:"1+1+2",itemsCount:4},{value:"1x2x2",itemsCount:3},{value:"2x1x4",itemsCount:5}]}get selectedLayout(){return this._selectedLayout}set selectedLayout(e){this.model.getField("visualization_params").layout=e.value,this._selectedLayout=e,this.activeLayoutItem=this._selectedLayout.itemsCount>0?"1":void 0}get visualizationParams(){let e=this.model.getField("visualization_params");return e||{}}get activeLayoutItem(){return this.reportsDesignerService.visualizeActiveLayoutItem}set activeLayoutItem(e){this.reportsDesignerService.visualizeActiveLayoutItem=e,this.visualizationParams[e]||(this.visualizationParams[e]={})}get selectedPluginId(){return this.visualizationParams[this.activeLayoutItem]?.plugin}set selectedPluginId(e){this.visualizationParams[this.activeLayoutItem].plugin=e}get chartHeight(){return this.model.getField("visualization_params").chartheight}set chartHeight(e){this.model.getField("visualization_params").chartheight=e}ngOnInit(){this.initializeVisualizationParams(),this.reportsDesignerService.loadVisualizationColors(),this.plugins=this.reportsDesignerService.loadPlugins("ReportsDesignerVisualize")}trackByFn(e,t){return t.id}initializeVisualizationParams(){let e=this.model.getField("visualization_params");e||(e={}),e.layout||(e.layout="-"),e.chartheight||(e.chartheight=400),this._selectedLayout=this.layoutOptions.find((t=>t.value==e.layout)),this.activeLayoutItem="1",this.model.setField("visualization_params",e)}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerVisualize)(p.rXU(h.B),p.rXU(b.yu),p.rXU(v),p.rXU(m.g))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerVisualize,selectors:[["reports-designer-visualize"]],decls:31,vars:11,consts:[[1,"slds-grid","slds-grid--vertical",2,"height","100%"],[1,"slds-border--bottom","slds-p-around--x-small","slds-page-header","slds-grid",2,"border-radius","0"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center"],[1,"slds-form-element__label","slds-text-heading--label"],["label","LBL_LAYOUT"],[1,"slds-form-element__control"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center","slds-m-left--x-small"],["label","LBL_HEIGHT"],["type","text","size","5",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_ITEMS"],[1,"slds-radio_button-group"],["class","slds-button slds-radio_button",4,"ngFor","ngForOf"],["label","LBL_PLUGIN"],[1,"slds-select",3,"ngModel","disabled","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"slds-scrollable--y","slds-grow",2,"min-height","0"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","slds-align--absolute-center","style","height: 100%",4,"ngIf"],[3,"ngValue"],[1,"slds-button","slds-radio_button"],["type","radio","name","layoutActiveItem",3,"value","ngModel","disabled","id","ngModelChange"],[1,"slds-radio_button__label",3,"for"],[1,"slds-radio_faux"],[3,"value"],[3,"component",4,"ngIf"],[3,"component"],[1,"slds-align--absolute-center",2,"height","100%"],["label","LBL_MAKE_SELECTION"]],template:function(e,t){1&e&&(p.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),p.nrm(4,"system-label",4),p.k0s(),p.j41(5,"div",5)(6,"div",6)(7,"select",7),p.mxI("ngModelChange",(function(e){return p.DH7(t.selectedLayout,e)||(t.selectedLayout=e),e})),p.DNE(8,De,2,2,"option",8),p.k0s()()()(),p.j41(9,"div",9)(10,"label",3),p.nrm(11,"system-label",10),p.k0s(),p.j41(12,"div",5)(13,"input",11),p.mxI("ngModelChange",(function(e){return p.DH7(t.chartHeight,e)||(t.chartHeight=e),e})),p.k0s()()(),p.j41(14,"div",9)(15,"label",3),p.nrm(16,"system-label",12),p.k0s(),p.j41(17,"div",5)(18,"div",13),p.DNE(19,Ie,5,6,"span",14),p.k0s()()(),p.j41(20,"div",9)(21,"label",3),p.nrm(22,"system-label",15),p.EFF(23),p.k0s(),p.j41(24,"div",5)(25,"div",6)(26,"select",16),p.mxI("ngModelChange",(function(e){return p.DH7(t.selectedPluginId,e)||(t.selectedPluginId=e),e})),p.DNE(27,Ce,2,2,"option",17),p.k0s()()()()(),p.j41(28,"div",18),p.DNE(29,Me,2,1,"div",19)(30,Fe,2,0,"div",20),p.k0s()()),2&e&&(p.R7$(7),p.R50("ngModel",t.selectedLayout),p.R7$(),p.Y8G("ngForOf",t.layoutOptions),p.R7$(5),p.R50("ngModel",t.chartHeight),p.R7$(6),p.Y8G("ngForOf",t.radioButtonItems),p.R7$(4),p.SpI(" (",t.activeLayoutItem,") "),p.R7$(3),p.R50("ngModel",t.selectedPluginId),p.Y8G("disabled",0==t.selectedLayout.itemsCount),p.R7$(),p.Y8G("ngForOf",t.plugins),p.R7$(2),p.Y8G("ngForOf",t.plugins)("ngForTrackBy",t.trackByFn),p.R7$(),p.Y8G("ngIf",0==t.selectedLayout.itemsCount||!t.selectedPluginId))},dependencies:[i.Sq,i.bT,n.xH,n.y7,n.me,n.wz,n.Fm,n.BC,n.vS,M.W,Re],encapsulation:2})}return ReportsDesignerVisualize})();var Ge=s(70923);const xe=["itemContainer"];let Ee=(()=>{class ReportsDesignerIntegrateItem{constructor(e,t){this.language=e,this.metadata=t,this.component=""}ngAfterViewInit(){this.render()}ngOnDestroy(){this.componentRef&&this.componentRef.destroy()}render(){this.metadata.addComponent(this.component,this.itemContainer).subscribe((e=>this.componentRef=e))}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerIntegrateItem)(p.rXU(h.B),p.rXU(b.yu))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerIntegrateItem,selectors:[["reports-designer-integrate-item"]],viewQuery:function(e,t){if(1&e&&p.GBs(xe,7,p.c1b),2&e){let e;p.mGM(e=p.lsd())&&(t.itemContainer=e.first)}},inputs:{component:"component"},decls:2,vars:0,consts:[["itemContainer",""]],template:function(e,t){1&e&&p.nrm(0,"div",null,0)},encapsulation:2})}return ReportsDesignerIntegrateItem})();function we(e,t){if(1&e){const e=p.RV6();p.j41(0,"div",5),p.bIt("click",(function(){const t=p.eBV(e).$implicit,s=p.XpG();return p.Njj(s.setSelectedItemId(t.id))})),p.j41(1,"div",6),p.nrm(2,"system-label",7),p.k0s(),p.j41(3,"div",8)(4,"label",9),p.nrm(5,"span",10),p.j41(6,"input",11),p.bIt("ngModelChange",(function(t){const s=p.eBV(e).$implicit,i=p.XpG();return p.Njj(i.setActivePlugins(s.id,t))})),p.k0s(),p.j41(7,"span",12),p.nrm(8,"span",13),p.k0s()()()()}if(2&e){const e=t.$implicit,s=p.XpG();p.AVh("slds-theme--shade",e.id==s.selectedItemId),p.R7$(2),p.Y8G("label",e.name),p.R7$(4),p.Y8G("ngModel",s.activePlugins[e.id])}}function Se(e,t){if(1&e&&p.nrm(0,"reports-designer-integrate-item",16),2&e){const e=p.XpG().$implicit;p.Y8G("component",e.component)}}function $e(e,t){1&e&&(p.j41(0,"div",17)(1,"system-illustration-no-data"),p.nrm(2,"system-label",18),p.k0s()())}function Ne(e,t){if(1&e&&(p.qex(0),p.DNE(1,Se,1,1,"reports-designer-integrate-item",14)(2,$e,3,0,"div",15),p.bVm()),2&e){const e=t.$implicit,s=p.XpG();p.R7$(),p.Y8G("ngIf",s.selectedItemId==e.id&&!!e.component),p.R7$(),p.Y8G("ngIf",s.selectedItemId==e.id&&!e.component)}}let Te=(()=>{class ReportsDesignerIntegrate{constructor(e,t,s,i){this.language=e,this.metadata=t,this.model=s,this.reportsDesignerService=i,this.plugins=[],this.selectedItemId=""}get activePlugins(){return this.model.getField("integration_params").activePlugins}ngOnInit(){this.plugins=this.reportsDesignerService.loadPlugins("ReportsDesignerIntegrate"),this.initializeIntegrationParams()}initializeIntegrationParams(e){let t=this.model.getField("integration_params");t||(t={}),t.activePlugins||(t.activePlugins={},this.model.setField("integration_params",t))}setSelectedItemId(e){this.selectedItemId=e}trackByFn(e,t){return t.id}setActivePlugins(e,t){const s=this.model.getField("integration_params");s.activePlugins[e]=t?1:0,this.model.setField("integration_params",s)}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerIntegrate)(p.rXU(h.B),p.rXU(b.yu),p.rXU(m.g),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerIntegrate,selectors:[["reports-designer-integrate"]],decls:5,vars:3,consts:[[1,"slds-grid",2,"height","100%"],[1,"slds-size--1-of-3","slds-border--right","slds-scrollable--y",2,"height","100%"],["class","slds-grid slds-p-around--x-small slds-size--1-of-1 slds-border--bottom","style","cursor: pointer",3,"slds-theme--shade","click",4,"ngFor","ngForOf"],[1,"slds-size--2-of-3","slds-scrollable--y",2,"height","100%"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"slds-grid","slds-p-around--x-small","slds-size--1-of-1","slds-border--bottom",2,"cursor","pointer",3,"click"],[1,"slds-truncate","slds-grow","slds-align-middle"],[3,"label"],[1,"slds-form-element"],[1,"slds-checkbox_toggle","slds-grid"],[1,"slds-form-element__label","slds-m-bottom_none"],["type","checkbox",3,"ngModel","ngModelChange"],["aria-live","assertive",1,"slds-checkbox_faux_container"],[1,"slds-checkbox_faux",2,"cursor","initial"],[3,"component",4,"ngIf"],["class","slds-grid slds-grid--vertical-align-center slds-grid--align-center","style","height: 100%",4,"ngIf"],[3,"component"],[1,"slds-grid","slds-grid--vertical-align-center","slds-grid--align-center",2,"height","100%"],["label","LBL_NO_CONFIGURATION_NEEDED"]],template:function(e,t){1&e&&(p.j41(0,"div",0)(1,"div",1),p.DNE(2,we,9,4,"div",2),p.k0s(),p.j41(3,"div",3),p.DNE(4,Ne,3,2,"ng-container",4),p.k0s()()),2&e&&(p.R7$(2),p.Y8G("ngForOf",t.plugins),p.R7$(2),p.Y8G("ngForOf",t.plugins)("ngForTrackBy",t.trackByFn))},dependencies:[i.Sq,i.bT,n.Zm,n.BC,n.vS,Ge.L,M.W,Ee],encapsulation:2})}return ReportsDesignerIntegrate})();function Oe(e,t){if(1&e&&(p.j41(0,"option",34),p.nrm(1,"system-label",35),p.nI1(2,"uppercase"),p.k0s()),2&e){const e=t.$implicit;p.Y8G("value",e.key),p.R7$(),p.Y8G("label",p.bMT(2,2,"LBL_OP_"+e.key))}}let Ue=(()=>{class ReportsDesignerConditionGroupExpansion{constructor(e,t,s){this.language=e,this.reportsDesignerService=t,this.model=s,this.contextUsed=!1}get requiredEnabled(){return this.whereCondition.path.split("::").length>2}set joinType(e){this.whereCondition.jointype=e?"required":"optional"}get joinType(){return"required"==this.whereCondition.jointype}get referenceDisabled(){const e=this.model.getField("whereconditions").some((e=>this.whereCondition.fieldid!=e.fieldid&&"reference"==e.operator&&e.value==this.whereCondition.reference));return"reference"==this.whereCondition.operator||e}ngOnInit(){this.setContextReferenceUse()}setContextReferenceUse(){const e=this.model.getField("visualization_params");if(e)for(let t in e)e.hasOwnProperty(t)&&(e[t].googlecharts&&e[t].googlecharts.context&&this.whereCondition.context&&this.whereCondition.context==e[t].googlecharts.context&&(this.contextUsed=!0),e[t].highcharts&&e[t].highcharts.context&&this.whereCondition.context&&this.whereCondition.context==e[t].highcharts.context&&(this.contextUsed=!0))}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerConditionGroupExpansion)(p.rXU(h.B),p.rXU(v),p.rXU(m.g))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerConditionGroupExpansion,selectors:[["reports-designer-condition-group-expansion"]],inputs:{whereCondition:"whereCondition"},decls:67,vars:18,consts:[[1,"slds-grid","slds-p-around--x-small",2,"box-shadow","inset -1px 1px 6px 0 #aaa"],[1,"slds-form-element","slds-form-element_compound","slds-p-vertical--x-small","slds-size--1-of-1"],[1,"slds-form-element__control"],[1,"slds-grid","slds-m-vertical--xx-small","slds-grid--align-spread"],[1,"slds-form-element","slds-size--1-of-1"],[1,"slds-form-element__label"],["label","LBL_PATH"],["type","text",1,"slds-input",3,"ngModel","disabled","ngModelChange"],[1,"slds-grid"],[1,"slds-form-element","slds-size--1-of-2"],["label","LBL_USER_EDITABLE"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],["value","yes"],["label","LBL_YES"],["value","no"],["label","LBL_NO"],["value","yfo"],["label","LBL_VALUE_ONLY"],["value","yo1"],["label","LBL_REPORTS_ALLOW_EDIT_ON_OFF"],["value","yo2"],["label","LBL_REPORTS_ALLOW_EDIT_ON_ON"],["label","LBL_GROUPING"],["label","LBL_SEQUENCE"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_CONTEXT"],["label","LBL_REFERENCE"],["label","LBL_REQUIRED"],[3,"ngModel","hidelabel","disabled","ngModelChange"],["label","LBL_CUSTOM_FUNCTION"],[3,"ngModel","ngModelChange"],["label","LBL_OVERRIDE_TYPE"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"label"]],template:function(e,t){1&e&&(p.j41(0,"div",0)(1,"fieldset",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),p.nrm(6,"system-label",6),p.k0s(),p.j41(7,"div",2)(8,"input",7),p.mxI("ngModelChange",(function(e){return p.DH7(t.whereCondition.path,e)||(t.whereCondition.path=e),e})),p.k0s()()()(),p.j41(9,"div",8)(10,"div",9)(11,"label",5),p.nrm(12,"system-label",10),p.k0s(),p.j41(13,"div",2)(14,"div",11)(15,"select",12),p.mxI("ngModelChange",(function(e){return p.DH7(t.whereCondition.usereditable,e)||(t.whereCondition.usereditable=e),e})),p.j41(16,"option",13),p.nrm(17,"system-label",14),p.k0s(),p.j41(18,"option",15),p.nrm(19,"system-label",16),p.k0s(),p.j41(20,"option",17),p.nrm(21,"system-label",18),p.k0s(),p.j41(22,"option",19),p.nrm(23,"system-label",20),p.k0s(),p.j41(24,"option",21),p.nrm(25,"system-label",22),p.k0s()()()()(),p.j41(26,"div",9)(27,"label",5),p.nrm(28,"system-label",23),p.k0s(),p.j41(29,"div",2)(30,"input",7),p.mxI("ngModelChange",(function(e){return p.DH7(t.whereCondition.grouping,e)||(t.whereCondition.grouping=e),e})),p.k0s()()()(),p.j41(31,"div",8)(32,"div",9)(33,"label",5),p.nrm(34,"system-label",24),p.k0s(),p.j41(35,"div",2)(36,"input",25),p.mxI("ngModelChange",(function(e){return p.DH7(t.whereCondition.sequence,e)||(t.whereCondition.sequence=e),e})),p.k0s()()(),p.j41(37,"div",9)(38,"label",5),p.nrm(39,"system-label",26),p.k0s(),p.j41(40,"div",2)(41,"input",7),p.mxI("ngModelChange",(function(e){return p.DH7(t.whereCondition.context,e)||(t.whereCondition.context=e),e})),p.k0s()()()(),p.j41(42,"div",8)(43,"div",9)(44,"label",5),p.nrm(45,"system-label",27),p.k0s(),p.j41(46,"div",2)(47,"input",7),p.mxI("ngModelChange",(function(e){return p.DH7(t.whereCondition.reference,e)||(t.whereCondition.reference=e),e})),p.k0s()()(),p.j41(48,"div",9)(49,"label",5),p.nrm(50,"system-label",28),p.k0s(),p.j41(51,"div",2)(52,"system-checkbox",29),p.mxI("ngModelChange",(function(e){return p.DH7(t.joinType,e)||(t.joinType=e),e})),p.k0s()()()(),p.j41(53,"div",8)(54,"div",9)(55,"label",5),p.nrm(56,"system-label",30),p.k0s(),p.j41(57,"system-input-base64",31),p.mxI("ngModelChange",(function(e){return p.DH7(t.whereCondition.customSqlQuery,e)||(t.whereCondition.customSqlQuery=e),e})),p.k0s()(),p.j41(58,"div",9)(59,"label",5),p.nrm(60,"system-label",32),p.k0s(),p.j41(61,"div",2)(62,"div",11)(63,"select",12),p.mxI("ngModelChange",(function(e){return p.DH7(t.whereCondition.overrideType,e)||(t.whereCondition.overrideType=e),e})),p.nrm(64,"option"),p.DNE(65,Oe,3,4,"option",33),p.nI1(66,"keyvalue"),p.k0s()()()()()()()()),2&e&&(p.R7$(8),p.R50("ngModel",t.whereCondition.path),p.Y8G("disabled",!0),p.R7$(7),p.R50("ngModel",t.whereCondition.usereditable),p.R7$(15),p.R50("ngModel",t.whereCondition.grouping),p.Y8G("disabled",!0),p.R7$(6),p.R50("ngModel",t.whereCondition.sequence),p.R7$(5),p.R50("ngModel",t.whereCondition.context),p.Y8G("disabled",t.contextUsed),p.R7$(6),p.R50("ngModel",t.whereCondition.reference),p.Y8G("disabled",t.referenceDisabled),p.R7$(5),p.R50("ngModel",t.joinType),p.Y8G("hidelabel",!0)("disabled",!t.requiredEnabled),p.R7$(5),p.R50("ngModel",t.whereCondition.customSqlQuery),p.R7$(6),p.R50("ngModel",t.whereCondition.overrideType),p.R7$(2),p.Y8G("ngForOf",p.bMT(66,16,t.reportsDesignerService.operatorTypes)))},dependencies:[i.Sq,n.xH,n.y7,n.me,n.wz,n.BC,n.vS,C.f,te.T,M.W,i.Pc,i.lG],encapsulation:2})}return ReportsDesignerConditionGroupExpansion})();var Ye=s(37448),Ae=s(25946),Ve=s(36769),Xe=s(93470),Pe=s(53328),ze=s(2877),He=s(29501),qe=s(29325);function We(e,t){if(1&e){const e=p.RV6();p.j41(0,"system-input-label",16),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.whereCondition.label,t)||(s.whereCondition.label=t),p.Njj(t)})),p.k0s()}if(2&e){const e=p.XpG();p.R50("ngModel",e.whereCondition.label)}}function Ke(e,t){if(1&e){const e=p.RV6();p.j41(0,"system-input-label",16),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.whereCondition.name,t)||(s.whereCondition.name=t),p.Njj(t)})),p.k0s()}if(2&e){const e=p.XpG();p.R50("ngModel",e.whereCondition.name)}}function Je(e,t){if(1&e&&(p.j41(0,"option",17),p.EFF(1),p.k0s()),2&e){const e=t.$implicit;p.Y8G("value",e.value),p.R7$(),p.JRh(e.display)}}function Qe(e,t){if(1&e&&p.nrm(0,"reporter-filter-item-category",27),2&e){const e=p.XpG(2);p.Y8G("field","value")("wherecondition",e.whereCondition)("isMultiSelect",e.whereCondition.operator.includes("oneof"))}}function Ze(e,t){if(1&e&&p.nrm(0,"reporter-filter-item-enum",27),2&e){const e=p.XpG(2);p.Y8G("field","value")("wherecondition",e.whereCondition)("isMultiSelect",e.whereCondition.operator.includes("oneof"))}}function et(e,t){if(1&e&&p.nrm(0,"reporter-filter-item-date",28),2&e){const e=p.XpG(2);p.Y8G("field","valuekey")("wherecondition",e.whereCondition)}}function tt(e,t){if(1&e&&p.nrm(0,"reporter-filter-item-text",28),2&e){const e=p.XpG(2);p.Y8G("field","value")("wherecondition",e.whereCondition)}}function st(e,t){if(1&e&&p.nrm(0,"reporter-filter-item-user",29),2&e){const e=p.XpG(2);p.Y8G("whereCondition",e.whereCondition)}}function it(e,t){if(1&e&&p.nrm(0,"reporter-filter-item-reference",29),2&e){const e=p.XpG(2);p.Y8G("whereCondition",e.whereCondition)}}function nt(e,t){if(1&e&&p.nrm(0,"reporter-filter-item-function",29),2&e){const e=p.XpG(2);p.Y8G("whereCondition",e.whereCondition)}}function lt(e,t){if(1&e&&p.nrm(0,"reporter-filter-item-parent",30),2&e){const e=p.XpG(2);p.Y8G("wherecondition",e.whereCondition)}}function ot(e,t){if(1&e&&p.nrm(0,"reporter-filter-item-enum",28),2&e){const e=p.XpG(3);p.Y8G("field","valueto")("wherecondition",e.whereCondition)}}function rt(e,t){if(1&e&&p.nrm(0,"reporter-filter-item-date",28),2&e){const e=p.XpG(3);p.Y8G("field","valuetokey")("wherecondition",e.whereCondition)}}function at(e,t){if(1&e&&p.nrm(0,"reporter-filter-item-text",28),2&e){const e=p.XpG(3);p.Y8G("field","valueto")("wherecondition",e.whereCondition)}}function dt(e,t){if(1&e&&(p.j41(0,"div",31),p.DNE(1,ot,1,2,"reporter-filter-item-enum",23)(2,rt,1,2,"reporter-filter-item-date",23)(3,at,1,2,"reporter-filter-item-text",23),p.k0s()),2&e){const e=p.XpG(2);p.Y8G("ngSwitch",e.itemType),p.R7$(),p.Y8G("ngSwitchCase","enum"),p.R7$(),p.Y8G("ngSwitchCase","date"),p.R7$(),p.Y8G("ngSwitchCase","text")}}function ct(e,t){if(1&e&&(p.j41(0,"div",18)(1,"label",7),p.nrm(2,"system-label",19),p.k0s(),p.j41(3,"div",20)(4,"div",21),p.DNE(5,Qe,1,3,"reporter-filter-item-category",22)(6,Ze,1,3,"reporter-filter-item-enum",22)(7,et,1,2,"reporter-filter-item-date",23)(8,tt,1,2,"reporter-filter-item-text",23)(9,st,1,1,"reporter-filter-item-user",24)(10,it,1,1,"reporter-filter-item-reference",24)(11,nt,1,1,"reporter-filter-item-function",24)(12,lt,1,1,"reporter-filter-item-parent",25),p.k0s(),p.DNE(13,dt,4,4,"div",26),p.k0s()()),2&e){const e=p.XpG();p.R7$(4),p.Y8G("ngSwitch",e.itemType),p.R7$(),p.Y8G("ngSwitchCase","category"),p.R7$(),p.Y8G("ngSwitchCase","enum"),p.R7$(),p.Y8G("ngSwitchCase","date"),p.R7$(),p.Y8G("ngSwitchCase","text"),p.R7$(),p.Y8G("ngSwitchCase","user"),p.R7$(),p.Y8G("ngSwitchCase","reference"),p.R7$(),p.Y8G("ngSwitchCase","function"),p.R7$(),p.Y8G("ngSwitchCase","parent_assign"),p.R7$(),p.Y8G("ngIf",e.showValueTo)}}let pt=(()=>{class ReportsDesignerCondition{constructor(e,t,s){this.language=e,this.model=t,this.reporterConfig=s,this.whereCondition={},this.isMultiSelect=!1}get itemType(){let e="text";switch(this.whereCondition.type){case"enum":case"multienum":case"radioenum":switch(this.whereCondition.operator){case"equals":case"notequal":case"oneof":case"oneofnot":case"oneofnotornull":e="enum"}break;case"category":switch(this.whereCondition.operator){case"equals":case"notequal":case"oneof":case"oneofnot":case"oneofnotornull":e="category"}break;case"date":case"datetime":case"datetimecombo":switch(this.whereCondition.operator){case"before":case"after":case"between":case"equals":case"notequal":e="date"}break;default:switch(this.whereCondition.operator){case"equals":case"notequal":case"oneof":case"oneofnot":case"oneofnotornull":(this.whereCondition.type.indexOf("user_id")>-1||this.whereCondition.type.indexOf("user_name")>-1)&&(e="user")}}return"reference"==this.whereCondition.operator&&(e="reference"),"function"==this.whereCondition.operator&&(e="function"),"parent_assign"==this.whereCondition.operator&&(e="parent_assign"),e}get showValue(){return"parent_assign"==this.whereCondition.operator||"reference"==this.whereCondition.operator||"function"==this.whereCondition.operator||this.reporterConfig.operatorCount[this.whereCondition.operator]>0}get showValueTo(){return this.reporterConfig.operatorCount[this.whereCondition.operator]>1}getOperators(){let e=[];const t=this.reporterConfig.operatorAssignments[this.whereCondition.overrideType||this.whereCondition.type]||"varchar";let s=this.reporterConfig.operatorTypes[t];for(let t of s)e.push({value:t,display:this.language.getLabel("LBL_OP_"+t.toUpperCase())});const i=this.model.getField("integration_params");i&&i.kpublishing&&i.kpublishing.subpanelModule&&e.push({value:"parent_assign",display:this.language.getLabel("LBL_ASSIGN_FROM_PARENT")});const n=this.model.getField("whereconditions");return n&&n.some((e=>(this.reporterConfig.operatorAssignments[e.type]||"varchar"==t)&&!!e.reference))&&e.push({value:"reference",display:this.language.getLabel("LBL_REFERENCE")}),this.reporterConfig.whereFunctions&&this.reporterConfig.whereFunctions.length>0&&e.push({value:"function",display:this.language.getLabel("LBL_FUNCTION")}),e.sort(((e,t)=>e.display>t.display?1:-1)),e}changeOperator(){this.whereCondition.value="",this.whereCondition.valuekey="",this.whereCondition.valueto="",this.whereCondition.valuetokey="",this.whereCondition.referencefieldid=""}trackByFn(e,t){return e}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerCondition)(p.rXU(h.B),p.rXU(m.g),p.rXU(L.c))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerCondition,selectors:[["reports-designer-condition"]],inputs:{whereCondition:"whereCondition"},decls:17,vars:6,consts:[[1,"slds-grid","slds-size--1-of-2","slds-grid--vertical-align-center"],[1,"slds-form-element","slds-grid","slds-size--1-of-2"],[1,"slds-form-element__label","slds-grid","slds-grid--vertical-align-center"],["label","LBL_NAME"],[1,"slds-form-element__control","slds-grow","slds-col","slds-has-flexi-truncate"],["class","slds-truncate",3,"ngModel","ngModelChange",4,"ngIf"],[1,"slds-form-element","slds-p-horizontal--xx-small","slds-grid","slds-grid--vertical-align-center","slds-size--1-of-2"],[1,"slds-form-element__label","slds-grid","slds-grid--vertical-align-center","slds-m-left--xx-small"],["label","LBL_OPERATOR"],[1,"slds-form-element__control","slds-grow"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange","change"],["value","ignore"],["label","LBL_OP_IGNORE"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["class","slds-size--1-of-2 slds-grid",4,"ngIf"],[1,"slds-truncate",3,"ngModel","ngModelChange"],[3,"value"],[1,"slds-size--1-of-2","slds-grid"],["label","LBL_VALUE"],[1,"slds-grid","slds-grow"],[1,"slds-grow",3,"ngSwitch"],[3,"field","wherecondition","isMultiSelect",4,"ngSwitchCase"],[3,"field","wherecondition",4,"ngSwitchCase"],[3,"whereCondition",4,"ngSwitchCase"],[3,"wherecondition",4,"ngSwitchCase"],["class","slds-size--1-of-2 slds-p-left--xx-small",3,"ngSwitch",4,"ngIf"],[3,"field","wherecondition","isMultiSelect"],[3,"field","wherecondition"],[3,"whereCondition"],[3,"wherecondition"],[1,"slds-size--1-of-2","slds-p-left--xx-small",3,"ngSwitch"]],template:function(e,t){1&e&&(p.j41(0,"div",0)(1,"div",1)(2,"label",2),p.nrm(3,"system-label",3),p.k0s(),p.j41(4,"div",4),p.DNE(5,We,1,1,"system-input-label",5)(6,Ke,1,1,"system-input-label",5),p.k0s()(),p.j41(7,"div",6)(8,"label",7),p.nrm(9,"system-label",8),p.k0s(),p.j41(10,"div",9)(11,"div",10)(12,"select",11),p.mxI("ngModelChange",(function(e){return p.DH7(t.whereCondition.operator,e)||(t.whereCondition.operator=e),e})),p.bIt("change",(function(){return t.changeOperator()})),p.j41(13,"option",12),p.nrm(14,"system-label",13),p.k0s(),p.DNE(15,Je,2,2,"option",14),p.k0s()()()()(),p.DNE(16,ct,14,10,"div",15)),2&e&&(p.R7$(5),p.Y8G("ngIf",t.whereCondition.label),p.R7$(),p.Y8G("ngIf",!t.whereCondition.label),p.R7$(6),p.R50("ngModel",t.whereCondition.operator),p.R7$(3),p.Y8G("ngForOf",t.getOperators())("ngForTrackBy",t.trackByFn),p.R7$(),p.Y8G("ngIf",t.showValue))},dependencies:[i.Sq,i.bT,i.ux,i.e1,n.xH,n.y7,n.wz,n.BC,n.vS,J.w,M.W,Ye.U,Ae.s,Ve.R,Xe.Q,Pe.q,ze.X,He.T,qe.F],encapsulation:2})}return ReportsDesignerCondition})();function ut(e,t){if(1&e&&p.nrm(0,"reports-designer-condition-group-expansion",31),2&e){const e=p.XpG().$implicit;p.Y8G("whereCondition",e)}}function gt(e,t){if(1&e){const e=p.RV6();p.j41(0,"li",22)(1,"div",23),p.nrm(2,"reports-designer-condition",24),p.j41(3,"div",25)(4,"button",26),p.bIt("click",(function(){const t=p.eBV(e).$implicit,s=p.XpG();return p.Njj(s.deleteCondition(t.id))})),p.nrm(5,"system-button-icon",27),p.k0s(),p.j41(6,"button",28),p.bIt("click",(function(){const t=p.eBV(e).$implicit,s=p.XpG();return p.Njj(s.toggleExpand(t.id))})),p.nrm(7,"system-utility-icon",29),p.k0s()()(),p.DNE(8,ut,1,1,"reports-designer-condition-group-expansion",30),p.k0s()}if(2&e){const e=t.$implicit,s=p.XpG();p.R7$(2),p.Y8G("whereCondition",e),p.R7$(5),p.xc7("transform",s.expanded==e.id?"rotate(180deg)":"none"),p.Y8G("colorclass",s.reportsDesignerService.expertMode?"slds-icon-text-default":"slds-icon-text-light"),p.R7$(),p.Y8G("ngIf",s.expanded==e.id&&s.reportsDesignerService.expertMode)}}function mt(e,t){if(1&e){const e=p.RV6();p.qex(0),p.j41(1,"reports-designer-condition-group",32),p.bIt("treeChange",(function(t){p.eBV(e);const s=p.XpG();return p.Njj(s.handleTreeChange(t))})),p.k0s(),p.bVm()}if(2&e){const e=t.$implicit;p.R7$(),p.Y8G("group",e)("canDelete",!0)}}function ht(e,t){if(1&e){const e=p.RV6();p.j41(0,"button",33),p.bIt("click",(function(){p.eBV(e);const t=p.XpG();return p.Njj(t.deleteGroup())})),p.nrm(1,"system-button-icon",34)(2,"system-label",35),p.k0s()}}let bt=(()=>{class ReportsDesignerConditionGroup{constructor(e,t,s){this.language=e,this.reportsDesignerService=t,this.model=s,this.canDelete=!1,this.treeChange=new p.bkB}get groupType(){return this.group.type}set groupType(e){this.group.type=e,this.model.getField("wheregroups").some((t=>{if(t.id==this.group.id)return t.type=e,!0}))}get whereConditions(){return this.model.getField("whereconditions")}set whereConditions(e){this.model.setField("whereconditions",e)}onDrop(e){this.reportsDesignerService.removePlaceHolderElement(e.previousContainer.element.nativeElement),e.previousContainer===e.container?(0,d.HD)(this.group.conditions,e.previousIndex,e.currentIndex):this.addCondition(e.item.data)}addGroup(){this.treeChange.emit({action:"addGroup",id:this.group.id})}deleteGroup(){this.treeChange.emit({action:"deleteGroup",id:this.group.id})}handleTreeChange(e){this.treeChange.emit(e)}toggleExpand(e){this.reportsDesignerService.expertMode&&(this.expanded=e==this.expanded?null:e)}addCondition(e){let t=this.reportsDesignerService.generateGuid(),s=`${this.reportsDesignerService.getCurrentPath()}::${e.id}`;if("root"!=this.group.unionid){const t=this.reportsDesignerService.getCurrentPath().indexOf("link")<0?"unionroot::":"",i=this.reportsDesignerService.getCurrentPath().replace("root:","");s=`${t}union${this.group.unionid}:${i}::${e.id}`}let i={id:t,groupid:this.group.id,unionid:this.group.unionid,fieldid:t,referencefieldid:"",path:s,displaypath:this.reportsDesignerService.getCurrentPath(),name:e.name,label:e.label,type:e.type,operator:"ignore",jointype:"required",usereditable:"no",dashleteditable:"no",exportpdf:"no",value:"",valueto:"",valuekey:"",valuetokey:""};this.group.conditions.push(i),this.whereConditions=this.whereConditions?[...this.whereConditions,i]:[i]}deleteCondition(e){this.group.conditions=this.group.conditions.filter((t=>t.id!=e)),this.whereConditions=this.whereConditions.filter((t=>t.id!=e))}trackByFn(e,t){return t.id}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerConditionGroup)(p.rXU(h.B),p.rXU(v),p.rXU(m.g))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerConditionGroup,selectors:[["reports-designer-condition-group"]],inputs:{group:"group",canDelete:"canDelete"},outputs:{treeChange:"treeChange"},decls:23,vars:7,consts:[[1,"slds-expression__group"],[1,"slds-grid","slds-gutters_direct-xx-small","slds-grid--vertical-align-end","slds-size--1-of-1"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center","slds-m-bottom--xx-small"],[1,"slds-form-element__label"],["label","LBL_GROUP_OPERATOR"],[1,"slds-form-element__control"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],["value","AND"],["label","LBL_AND"],["value","OR"],["label","LBL_OR"],[1,"slds-m-vertical--x-small","slds-p-horizontal--x-small"],["class","slds-expression__row_group slds-m-vertical--x-small","style","border: 1px dashed #ddd; padding: 1px",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDropList","",1,"slds-align--absolute-center","slds-text-color--inverse-weak",2,"min-height","30px","border","1px dashed #ddd",3,"id","cdkDropListDropped"],["label","MSG_DROP_FIELD_HERE"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"slds-expression__buttons"],[1,"slds-button","slds-button_neutral",3,"click"],["icon","add",1,"slds-m-right--xx-small"],["label","LBL_ADD_GROUP"],["class","slds-button slds-button_neutral slds-m-left--xx-small",3,"click",4,"ngIf"],[1,"slds-expression__row_group","slds-m-vertical--x-small",2,"border","1px dashed #ddd","padding","1px"],[1,"slds-grid","slds-p-around--xx-small"],[1,"slds-grid","slds-grid--vertical-align-center","slds-grow",3,"whereCondition"],[1,"slds-grid","slds-grid--vertical-align-center"],[1,"slds-button","slds-button_icon","slds-button_icon-border-filled","slds-m-left--xx-small",3,"click"],["icon","delete"],[1,"slds-button","slds-button_icon","slds-m-left--xx-small","slds-p-vertical--x-small","slds-p-horizontal--xx-small",3,"click"],["icon","down","size","x-small",3,"colorclass"],[3,"whereCondition",4,"ngIf"],[3,"whereCondition"],[3,"group","canDelete","treeChange"],[1,"slds-button","slds-button_neutral","slds-m-left--xx-small",3,"click"],["icon","delete",1,"slds-m-right--xx-small"],["label","LBL_DELETE_GROUP"]],template:function(e,t){1&e&&(p.j41(0,"li",0)(1,"fieldset")(2,"div",1)(3,"div",2)(4,"label",3),p.nrm(5,"system-label",4),p.k0s(),p.j41(6,"div",5)(7,"div",6)(8,"select",7),p.mxI("ngModelChange",(function(e){return p.DH7(t.groupType,e)||(t.groupType=e),e})),p.j41(9,"option",8),p.nrm(10,"system-label",9),p.k0s(),p.j41(11,"option",10),p.nrm(12,"system-label",11),p.k0s()()()()()(),p.j41(13,"ul",12),p.DNE(14,gt,9,5,"li",13),p.j41(15,"li",14),p.bIt("cdkDropListDropped",(function(e){return t.onDrop(e)})),p.nrm(16,"system-label",15),p.k0s(),p.DNE(17,mt,2,2,"ng-container",16),p.k0s(),p.j41(18,"div",17)(19,"button",18),p.bIt("click",(function(){return t.addGroup()})),p.nrm(20,"system-button-icon",19)(21,"system-label",20),p.k0s(),p.DNE(22,ht,3,0,"button",21),p.k0s()()()),2&e&&(p.R7$(8),p.R50("ngModel",t.groupType),p.R7$(6),p.Y8G("ngForOf",t.group.conditions)("ngForTrackBy",t.trackByFn),p.R7$(),p.Y8G("id",t.group.id),p.R7$(2),p.Y8G("ngForOf",t.group.children)("ngForTrackBy",t.trackByFn),p.R7$(5),p.Y8G("ngIf",t.canDelete))},dependencies:[i.Sq,i.bT,n.xH,n.y7,n.wz,n.BC,n.vS,E.t,M.W,G.B,d.O7,ReportsDesignerConditionGroup,Ue,pt],styles:["\n\n\n\n\n\n\n\n\n\n\n.cdk-drop-list[_ngcontent-%COMP%]:hover{background:#fff}"]})}return ReportsDesignerConditionGroup})(),ft=(()=>{class ReportsDesignerFilter{constructor(e,t){this.reportsDesignerService=e,this.model=t,this.module={},this.rootGroup={},this.subscription=new k.yU}get whereConditions(){return this.model.getField("whereconditions")}set whereConditions(e){this.model.setField("whereconditions",e)}get whereGroups(){return this.model.getField("wheregroups")}set whereGroups(e){e=e.map((e=>_.omit(e,["conditions","children"]))),this.model.setField("wheregroups",e)}ngOnChanges(){this.loadWhereGroups()}ngOnDestroy(){this.subscription.unsubscribe()}generateGroup(e="-",t=this.reportsDesignerService.generateGuid()){return{id:t,groupid:t,unionid:this.module.unionid,type:"AND",parent:e,conditions:[],children:[],group:"-"!==e?null:"root"}}loadWhereGroups(){this.rootGroup={};const e=this.whereGroups&&this.whereGroups.length&&this.whereGroups.find((e=>this.module.unionid==e.unionid&&"-"==e.parent));e?(this.rootGroup={...e},this.setGroupConditions(this.rootGroup)):(this.rootGroup=this.generateGroup("-",this.module.unionid),this.whereGroups=this.whereGroups&&this.whereGroups.length?[...this.whereGroups,{...this.rootGroup}]:[{...this.rootGroup}]),this.buildTree()}handleTreeChange(e){switch(e.action){case"deleteGroup":this.whereGroups=this.whereGroups.filter((t=>t.id!=e.id)),this.cleanGroup(e.id),this.buildTree();break;case"addGroup":this.whereGroups=[...this.whereGroups,this.generateGroup(e.id)],this.buildTree()}}buildTree(){this.rootGroup.children=[],this.addGroupChildren(this.rootGroup)}setGroupConditions(e){e.conditions=this.whereConditions?this.whereConditions.filter((t=>t.groupid==e.id)):[]}addGroupChildren(e){for(let t of this.whereGroups)if(t.parent==e.id){let s={...t};this.setGroupConditions(s),s.children=[],e.children.push(s),this.addGroupChildren(s)}}cleanGroup(e){this.markDeletedGroupChildren(e),this.whereGroups=this.whereGroups.filter((e=>!e.deleted)),this.cleanWhereConditions()}markDeletedGroupChildren(e){for(let t of this.whereGroups)t.parent==e&&(this.markDeletedGroupChildren(t.id),t.deleted=!0)}cleanWhereConditions(){this.whereConditions&&(this.whereConditions=this.whereConditions.filter((e=>this.whereGroups.some((t=>t.id==e.groupid)))))}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerFilter)(p.rXU(v),p.rXU(m.g))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerFilter,selectors:[["reports-designer-filter"]],inputs:{module:"module"},features:[p.OA$],decls:2,vars:1,consts:[[1,"slds-p-horizontal--small"],[3,"group","treeChange"]],template:function(e,t){1&e&&(p.j41(0,"ul",0)(1,"reports-designer-condition-group",1),p.bIt("treeChange",(function(e){return t.handleTreeChange(e)})),p.k0s()()),2&e&&(p.R7$(),p.Y8G("group",t.rootGroup))},dependencies:[bt],encapsulation:2})}return ReportsDesignerFilter})();function vt(e,t){1&e&&p.nrm(0,"reports-designer-details")}function Lt(e,t){if(1&e&&(p.qex(0),p.nrm(1,"reports-designer-manipulate")(2,"reports-designer-manipulate-union",45),p.bVm()),2&e){const e=p.XpG(3);p.R7$(),p.AVh("slds-hide","root"!=e.reportsDesignerService.activeModule.unionid),p.R7$(),p.AVh("slds-hide","root"==e.reportsDesignerService.activeModule.unionid),p.Y8G("module",e.reportsDesignerService.activeModule)("currentUnionListFields",e.currentUnionListFields)}}function yt(e,t){if(1&e&&p.nrm(0,"reports-designer-filter",5),2&e){const e=p.XpG(3);p.Y8G("module",e.reportsDesignerService.activeModule)}}function kt(e,t){1&e&&p.nrm(0,"reports-designer-present")}function _t(e,t){1&e&&p.nrm(0,"reports-designer-visualize")}function Rt(e,t){1&e&&p.nrm(0,"reports-designer-integrate")}function Dt(e,t){1&e&&(p.qex(0),p.DNE(1,vt,1,0,"reports-designer-details",43)(2,Lt,3,6,"ng-container",43)(3,yt,1,1,"reports-designer-filter",44)(4,kt,1,0,"reports-designer-present",43)(5,_t,1,0,"reports-designer-visualize",43)(6,Rt,1,0,"reports-designer-integrate",43),p.bVm()),2&e&&(p.R7$(),p.Y8G("ngSwitchCase","details"),p.R7$(),p.Y8G("ngSwitchCase","manipulate"),p.R7$(),p.Y8G("ngSwitchCase","filter"),p.R7$(),p.Y8G("ngSwitchCase","present"),p.R7$(),p.Y8G("ngSwitchCase","visualize"),p.R7$(),p.Y8G("ngSwitchCase","integrate"))}function It(e,t){if(1&e){const e=p.RV6();p.j41(0,"div",21)(1,"ul",22)(2,"li",23),p.bIt("click",(function(){p.eBV(e);const t=p.XpG();return p.Njj(t.setActiveTab("details"))})),p.j41(3,"a",24)(4,"span",25),p.nrm(5,"system-utility-icon",26),p.k0s(),p.nrm(6,"system-label",27),p.k0s()(),p.j41(7,"li",23),p.bIt("click",(function(){p.eBV(e);const t=p.XpG();return p.Njj(t.setActiveTab("manipulate"))})),p.j41(8,"a",24)(9,"span",25),p.nrm(10,"system-utility-icon",28),p.k0s(),p.nrm(11,"system-label",29),p.k0s()(),p.j41(12,"li",23),p.bIt("click",(function(){p.eBV(e);const t=p.XpG();return p.Njj(t.setActiveTab("filter"))})),p.j41(13,"a",24)(14,"span",25),p.nrm(15,"system-utility-icon",30),p.k0s(),p.nrm(16,"system-label",31),p.k0s()(),p.j41(17,"li",23),p.bIt("click",(function(){p.eBV(e);const t=p.XpG();return p.Njj(t.setActiveTab("present"))})),p.j41(18,"a",24)(19,"span",25),p.nrm(20,"system-utility-icon",32),p.k0s(),p.nrm(21,"system-label",33),p.k0s()(),p.j41(22,"li",23),p.bIt("click",(function(){p.eBV(e);const t=p.XpG();return p.Njj(t.setActiveTab("visualize"))})),p.j41(23,"a",24)(24,"span",25),p.nrm(25,"system-utility-icon",34),p.k0s(),p.nrm(26,"system-label",35),p.k0s()(),p.j41(27,"li",23),p.bIt("click",(function(){p.eBV(e);const t=p.XpG();return p.Njj(t.setActiveTab("integrate"))})),p.j41(28,"a",24)(29,"span",25),p.nrm(30,"system-utility-icon",36),p.k0s(),p.nrm(31,"system-label",37),p.k0s()(),p.j41(32,"li",38)(33,"system-checkbox",39),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.reportsDesignerService.expertMode,t)||(s.reportsDesignerService.expertMode=t),p.Njj(t)})),p.nrm(34,"system-label",40),p.k0s()()(),p.j41(35,"div",41),p.DNE(36,Dt,7,6,"ng-container",42),p.k0s()()}if(2&e){const e=p.XpG();p.R7$(2),p.AVh("slds-active","details"==e.activeTab),p.R7$(5),p.AVh("slds-active","manipulate"==e.activeTab),p.R7$(5),p.AVh("slds-active","filter"==e.activeTab),p.R7$(5),p.AVh("slds-active","present"==e.activeTab)("slds-text-color--inverse-weak",0==(null==e.reportsDesignerService.listFields?null:e.reportsDesignerService.listFields.length)),p.R7$(3),p.Y8G("colorclass",0==(null==e.reportsDesignerService.listFields?null:e.reportsDesignerService.listFields.length)?"slds-icon-text-light":"slds-icon-text-default"),p.R7$(2),p.AVh("slds-active","visualize"==e.activeTab)("slds-text-color--inverse-weak",0==(null==e.reportsDesignerService.listFields?null:e.reportsDesignerService.listFields.length)),p.R7$(3),p.Y8G("colorclass",0==(null==e.reportsDesignerService.listFields?null:e.reportsDesignerService.listFields.length)?"slds-icon-text-light":"slds-icon-text-default"),p.R7$(2),p.AVh("slds-active","integrate"==e.activeTab),p.R7$(6),p.R50("ngModel",e.reportsDesignerService.expertMode),p.R7$(2),p.Y8G("ngSwitch",e.activeTab),p.R7$(),p.Y8G("ngIf",null==e.reportsDesignerService.activeModule?null:e.reportsDesignerService.activeModule.unionid)}}function Ct(e,t){1&e&&(p.j41(0,"div",46),p.nrm(1,"system-spinner"),p.k0s())}function jt(e,t){1&e&&(p.j41(0,"div",47),p.nrm(1,"system-label",48),p.k0s())}let Mt=(()=>{class ReportsDesigner{constructor(e,t,s,i,n,l,o,r,a,d,c){this.language=e,this.cdr=t,this.view=s,this.router=i,this.model=n,this.modal=l,this.metadata=o,this.navigationtab=r,this.activatedRoute=a,this.injector=d,this.reportsDesignerService=c,this.subscriptions=new k.yU,this.currentUnionListFields=[],this.activeTab="manipulate",this.model.module="KReports",this.subscribeToActivatedRoute()}ngAfterViewInit(){this.view.setEditMode(),this.view.isEditable=!0,this.cdr.detectChanges()}ngOnDestroy(){this.subscriptions.unsubscribe()}setInitialValues(e){const t=this.metadata.getFieldDefs(this.model.module,"report_status");this.model.setFields({report_module:e.module,listfields:[],report_status:t.default||"1",whereconditions:[],listtype:"standard",presentation_params:{plugin:"standard",pluginData:{standardViewProperties:{processCount:"Synchronous",listEntries:25}}}})}subscribeToActivatedRoute(){this.subscriptions.add(this.navigationtab.activeRoute$.subscribe((e=>{const t=e.params;t.id&&0!=t.id.length&&("new"==t.id?this.openSelectModuleModal():(this.model.id=t.id,this.model.getData().subscribe((e=>{if(e.report_module&&0!=e.report_module.length){const t=this.model.getField("report_module");this.reportsDesignerService.setCurrentPath(t,t),this.reportsDesignerService.activeModule={unionid:"root",module:e.report_module}}else this.openSelectModuleModal(),this.activeTab="details";e.listfields||this.model.setField("listfields",[]),e.whereconditions||this.model.setField("whereconditions",[]),this.navigationtab.setTabInfo({displayname:this.model.getField("name"),displaymodule:this.model.module})}))))})))}setActiveTab(e){"details"==this.activeTab&&!this.model.validate()||("present"==e||"visualize"==e)&&0==this.reportsDesignerService.listFields.length||(this.activeTab=e)}goToModule(){this.router.navigate(["/module/KReports"])}cancel(){this.model.isNew&&this.navigationtab.closeTab(),this.model.cancelEdit(),this.view.setViewMode(),this.navigationtab.closeTab(),this.router.navigate(["/module/KReports/"+(this.model.isNew?"":this.model.id)])}save(){this.model.validate()&&this.model.save(!0).subscribe((()=>{this.view.setViewMode(),this.navigationtab.closeTab(),this.router.navigate(["/module/KReports/"+this.model.id])}))}openSelectModuleModal(){this.model.initialize(),this.modal.openModal("ReportsDesignerSelectModuleModal",!0,this.injector).subscribe((e=>{e.instance.createmode=!0,e.instance.response.subscribe((e=>{e?(this.setInitialValues(e),this.reportsDesignerService.setCurrentPath(e.module,e.module),this.reportsDesignerService.activeModule={unionid:"root",module:e.module},this.navigationtab.setTabInfo({displayname:this.model.getField("name"),displaymodule:this.model.module})):(this.navigationtab.closeTab(),this.cancel())}))}))}handleUnionDelete(e){this.cleanWhereGroups(e),this.cleanUnionListFields(e)}handleUnionAdd(e){this.currentUnionListFields=e}cleanWhereGroups(e){let t=this.model.getField("wheregroups");t&&t.length&&(t=t.filter((t=>t.unionid!=e)),this.model.setField("wheregroups",t),this.cleanWhereConditions(t))}cleanWhereConditions(e){let t=this.model.getField("whereconditions");t&&t.length&&(t=t.filter((t=>e.some((e=>e.id==t.groupid)))),this.model.setField("whereconditions",t))}cleanUnionListFields(e){let t=this.model.getField("unionlistfields");t&&t.length&&(t=t.filter((t=>t.joinid!=e)),this.model.setField("unionlistfields",t))}static#e=this.ɵfac=function(e){return new(e||ReportsDesigner)(p.rXU(h.B),p.rXU(p.gRc),p.rXU(y.U),p.rXU(R.Ix),p.rXU(m.g),p.rXU(D.y),p.rXU(b.yu),p.rXU(I._),p.rXU(R.nX),p.rXU(p.zZn),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesigner,selectors:[["reports-designer"]],features:[p.Jv_([v,L.c,y.U,m.g])],decls:23,vars:8,consts:[[1,"slds-page-header"],[1,"slds-grid"],[1,"slds-col","slds-has-flexi-truncate"],[1,"slds-media","slds-no-space","slds-grow"],[1,"slds-media__figure",3,"click"],[3,"module"],[1,"slds-media__body"],["href","javascript:void(0);",1,"slds-text-title--caps","slds-line-height--reset",3,"click"],[1,"slds-page-header__title","slds-m-right--small","slds-align-middle","slds-truncate"],[1,"slds-align-top","slds-col","slds-grid","slds-no-flex","slds-p-top--x-small"],[1,"slds-button","slds-m-left--x-small","slds-button--neutral",3,"disabled","click"],["label","LBL_CANCEL"],[1,"slds-button","slds-m-horizontal--x-small","slds-button--brand",3,"disabled","click"],["label","LBL_SAVE"],["system-to-bottom","","cdkDropListGroup","",1,"slds-grid"],[1,"slds-size--1-of-3","slds-border--right","slds-grid--vertical",2,"height","100%"],[3,"onUnionDelete","onUnionAdd"],[1,"slds-size--2-of-3",2,"height","100%"],["class","slds-tabs--default",4,"ngIf"],["class","slds-align--absolute-center","style","height: 100%",4,"ngIf"],["class","slds-p-around--small slds-align--absolute-center","style","height: 100%",4,"ngIf"],[1,"slds-tabs--default"],["role","tablist",1,"slds-tabs--default__nav"],["role","presentation",1,"slds-tabs--default__item","slds-text-title--caps",3,"click"],["href","javascript:void(0);","role","tab","aria-selected","false",1,"slds-tabs--default__link"],[1,"slds-tabs__left-icon"],["icon","summarydetail","size","x-small"],["label","LBL_DETAILS"],["icon","database","size","x-small"],["label","LBL_MANIPULATE"],["icon","filterList","size","x-small"],["label","LBL_FILTER"],["icon","screen","size","x-small",3,"colorclass"],["label","LBL_PRESENT"],["icon","chart","size","x-small",3,"colorclass"],["label","LBL_VISUALIZE"],["icon","settings","size","x-small"],["label","LBL_INTEGRATE"],["role","presentation",1,"slds-grid","slds-grid--vertical-align-center","slds-text-title--caps","slds-col--bump-left","slds-p-vertical--x-small"],[3,"ngModel","ngModelChange"],["label","LBL_EXPERT_MODE"],["system-to-bottom","",3,"ngSwitch"],[4,"ngIf"],[4,"ngSwitchCase"],[3,"module",4,"ngSwitchCase"],[3,"module","currentUnionListFields"],[1,"slds-align--absolute-center",2,"height","100%"],[1,"slds-p-around--small","slds-align--absolute-center",2,"height","100%"],["label","LBL_MAKE_SELECTION"]],template:function(e,t){1&e&&(p.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),p.bIt("click",(function(){return t.goToModule()})),p.nrm(5,"system-icon",5),p.k0s(),p.j41(6,"div",6)(7,"a",7),p.bIt("click",(function(){return t.goToModule()})),p.nrm(8,"system-label-modulename",5),p.k0s(),p.j41(9,"h1",8),p.EFF(10),p.k0s()()()(),p.j41(11,"div",9)(12,"button",10),p.bIt("click",(function(){return t.cancel()})),p.nrm(13,"system-label",11),p.k0s(),p.j41(14,"button",12),p.bIt("click",(function(){return t.save()})),p.nrm(15,"system-label",13),p.k0s()()()(),p.j41(16,"div",14)(17,"div",15)(18,"reports-designer-tree",16),p.bIt("onUnionDelete",(function(e){return t.handleUnionDelete(e)}))("onUnionAdd",(function(e){return t.handleUnionAdd(e)})),p.k0s()(),p.j41(19,"div",17),p.DNE(20,It,37,21,"div",18)(21,Ct,2,0,"div",19)(22,jt,2,0,"div",20),p.k0s()()),2&e&&(p.R7$(5),p.Y8G("module",t.model.module),p.R7$(3),p.Y8G("module",t.model.module),p.R7$(2),p.SpI(" ",t.model.getField("name")," "),p.R7$(2),p.Y8G("disabled",t.model.isLoading),p.R7$(2),p.Y8G("disabled",t.model.isLoading),p.R7$(6),p.Y8G("ngIf",!t.model.isLoading&&!(null==t.reportsDesignerService.activeModule||!t.reportsDesignerService.activeModule.module)),p.R7$(),p.Y8G("ngIf",t.model.isLoading),p.R7$(),p.Y8G("ngIf",!(t.model.isLoading||null!=t.reportsDesignerService.activeModule&&t.reportsDesignerService.activeModule.module)))},dependencies:[i.bT,i.ux,i.e1,n.BC,n.vS,C.f,j.J,M.W,F.r,B.P,G.B,x.b,d.RK,X,K,re,he,ke,Be,Te,ft],encapsulation:2})}return ReportsDesigner})();function Ft(e,t){if(1&e&&(p.j41(0,"th",3)(1,"div",4),p.nrm(2,"system-label",17),p.k0s()()),2&e){const e=p.XpG();p.R7$(),p.Y8G("title",e.language.getLabel("LBL_FUNCTION"))}}function Bt(e,t){if(1&e){const e=p.RV6();p.j41(0,"td")(1,"div",25)(2,"div",26)(3,"div",27)(4,"select",28),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG().$implicit;return p.DH7(s.summaryfunction,t)||(s.summaryfunction=t),p.Njj(t)})),p.j41(5,"option",74),p.EFF(6,"-"),p.k0s(),p.j41(7,"option",75),p.nrm(8,"system-label",76),p.k0s(),p.j41(9,"option",77),p.nrm(10,"system-label",78),p.k0s(),p.j41(11,"option",79),p.nrm(12,"system-label",80),p.k0s(),p.j41(13,"option",81),p.nrm(14,"system-label",82),p.k0s(),p.j41(15,"option",83),p.nrm(16,"system-label",84),p.k0s()()()()()()}if(2&e){const e=p.XpG().$implicit;p.R7$(4),p.R50("ngModel",e.summaryfunction)}}function Gt(e,t){if(1&e){const e=p.RV6();p.qex(0),p.j41(1,"tr",20)(2,"td",21),p.nrm(3,"system-utility-icon",22),p.k0s(),p.j41(4,"td")(5,"div",23),p.nrm(6,"system-label",24),p.k0s()(),p.j41(7,"td")(8,"div",25)(9,"div",26)(10,"div",27)(11,"select",28),p.mxI("ngModelChange",(function(t){const s=p.eBV(e).$implicit;return p.DH7(s.display,t)||(s.display=t),p.Njj(t)})),p.j41(12,"option",29),p.nrm(13,"system-label",30),p.k0s(),p.j41(14,"option",31),p.nrm(15,"system-label",32),p.k0s(),p.j41(16,"option",33),p.nrm(17,"system-label",34),p.k0s()()()()()(),p.j41(18,"td")(19,"div",2)(20,"system-checkbox",35),p.bIt("ngModelChange",(function(t){const s=p.eBV(e).$implicit,i=p.XpG(2);return p.Njj(i.setFieldLink(s,t))})),p.EFF(21," "),p.k0s()()(),p.j41(22,"td")(23,"div",25)(24,"div",26)(25,"div",27)(26,"select",28),p.mxI("ngModelChange",(function(t){const s=p.eBV(e).$implicit;return p.DH7(s.sort,t)||(s.sort=t),p.Njj(t)})),p.nrm(27,"option"),p.j41(28,"option",36),p.nrm(29,"system-label",37),p.k0s(),p.j41(30,"option",38),p.nrm(31,"system-label",39),p.k0s(),p.j41(32,"option",40),p.nrm(33,"system-label",41),p.k0s()()()()()(),p.j41(34,"td")(35,"div",25)(36,"div",26)(37,"input",42),p.mxI("ngModelChange",(function(t){const s=p.eBV(e).$implicit;return p.DH7(s.width,t)||(s.width=t),p.Njj(t)})),p.k0s()()()(),p.j41(38,"td")(39,"div",25)(40,"div",26)(41,"div",27)(42,"select",28),p.mxI("ngModelChange",(function(t){const s=p.eBV(e).$implicit;return p.DH7(s.overridetype,t)||(s.overridetype=t),p.Njj(t)})),p.j41(43,"option",43),p.nrm(44,"system-label",44),p.k0s(),p.j41(45,"option",45),p.nrm(46,"system-label",46),p.k0s(),p.j41(47,"option",47),p.nrm(48,"system-label",48),p.k0s(),p.j41(49,"option",49),p.nrm(50,"system-label",50),p.k0s(),p.j41(51,"option",51),p.nrm(52,"system-label",52),p.k0s(),p.j41(53,"option",53),p.nrm(54,"system-label",54),p.k0s(),p.j41(55,"option",55),p.nrm(56,"system-label",56),p.k0s(),p.j41(57,"option",57),p.nrm(58,"system-label",58),p.k0s(),p.j41(59,"option",59),p.nrm(60,"system-label",60),p.k0s(),p.j41(61,"option",61),p.nrm(62,"system-label",62),p.k0s(),p.j41(63,"option",63),p.nrm(64,"system-label",64),p.k0s(),p.j41(65,"option",65),p.nrm(66,"system-label",66),p.k0s()()()()()(),p.DNE(67,Bt,17,1,"td",67),p.j41(68,"td")(69,"div",25)(70,"div",26)(71,"div",27)(72,"select",28),p.mxI("ngModelChange",(function(t){const s=p.eBV(e).$implicit;return p.DH7(s.overridealignment,t)||(s.overridealignment=t),p.Njj(t)})),p.j41(73,"option",68),p.nrm(74,"system-label",69),p.k0s(),p.j41(75,"option",70),p.nrm(76,"system-label",71),p.k0s(),p.j41(77,"option",72),p.nrm(78,"system-label",73),p.k0s()()()()()(),p.j41(79,"td")(80,"div",25)(81,"div",26)(82,"input",42),p.mxI("ngModelChange",(function(t){const s=p.eBV(e).$implicit;return p.DH7(s.component,t)||(s.component=t),p.Njj(t)})),p.k0s()()()()(),p.bVm()}if(2&e){const e=t.$implicit,s=p.XpG(2);p.R7$(),p.Y8G("cdkDragData",e),p.R7$(5),p.Y8G("label",e.name),p.R7$(5),p.R50("ngModel",e.display),p.R7$(9),p.Y8G("ngModel","yes"==e.link),p.R7$(6),p.R50("ngModel",e.sort),p.R7$(11),p.R50("ngModel",e.width),p.R7$(5),p.R50("ngModel",e.overridetype),p.R7$(25),p.Y8G("ngIf",s.showFunction),p.R7$(5),p.R50("ngModel",e.overridealignment),p.R7$(10),p.R50("ngModel",e.component)}}function xt(e,t){if(1&e){const e=p.RV6();p.j41(0,"tbody",18),p.bIt("cdkDropListDropped",(function(t){p.eBV(e);const s=p.XpG();return p.Njj(s.onDrop(t))})),p.DNE(1,Gt,83,10,"ng-container",19),p.k0s()}if(2&e){const e=p.XpG();p.Y8G("cdkDropListData",e.listFields),p.R7$(),p.Y8G("ngForOf",e.listFields)("ngForTrackBy",e.trackByFn)}}let Et=(()=>{class ReportsDesignerPresentItemTable{constructor(e,t,s){this.language=e,this.model=t,this.reportsDesignerService=s,this.showFunction=!1}get listFields(){return this.reportsDesignerService.listFields}trackByFn(e,t){return t.fieldid}onDrop(e){(0,d.HD)(e.container.data,e.previousIndex,e.currentIndex),e.container.data=e.container.data.map(((e,t)=>(e.sortpriority=t,e))),this.model.setField("listfields",e.container.data)}setFieldLink(e,t){e.link=t?"yes":"no"}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerPresentItemTable)(p.rXU(h.B),p.rXU(m.g),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerPresentItemTable,selectors:[["reports-designer-present-item-table"]],inputs:{showFunction:"showFunction"},decls:30,vars:10,consts:[[1,"slds-table","slds-table--cell-buffer","spice-table_header-fixed","slds-table--fixed-layout","slds-no-row-hover","reports-designer-manipulate-table"],[1,"slds-text-title--caps","slds-theme--shade"],[1,"slds-cell-shrink"],["scope","col",1,"slds-resizable"],[1,"slds-truncate",3,"title"],["label","LBL_NAME"],["label","LBL_DISPLAY"],["scope","col",1,"slds-cell-shrink"],[1,"slds-align--absolute-center"],["icon","link","size","x-small",3,"title"],["label","LBL_SORT"],["label","LBL_WIDTH"],["label","LBL_OVERRIDE_TYPE"],["scope","col","class","slds-resizable",4,"ngIf"],["label","LBL_OVERRIDE_ALIGNMENT"],["label","LBL_COMPONENT"],["cdkDropList","","class","slds-grow slds-scrollable--y",3,"cdkDropListData","cdkDropListDropped",4,"ngIf"],["label","LBL_FUNCTION"],["cdkDropList","",1,"slds-grow","slds-scrollable--y",3,"cdkDropListData","cdkDropListDropped"],[4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"slds-border--bottom","slds-drag--preview",3,"cdkDragData"],[1,"slds-p-around--none"],["cdkDragHandle","","icon","drag_and_drop","size","x-small",1,"slds-p-horizontal--x-small",2,"cursor","move"],[1,"slds-truncate"],[3,"label"],[1,"slds-form-element"],[1,"slds-form-element__control"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],["value","yes"],["label","LBL_YES"],["value","no"],["label","LBL_NO"],["value","hid"],["label","LBL_HIDDEN"],[3,"ngModel","ngModelChange"],["value","asc"],["label","LBL_ASCENDING"],["value","desc"],["label","LBL_DESCENDING"],["value","sortable"],["label","LBL_SORTABLE"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["value","none"],["label","LBL_NONE"],["value","currency"],["label","LBL_CURRENCY"],["value","currencyint"],["label","LBL_CURRENCY_INTEGER"],["value","percentage"],["label","LBL_PERCENTAGE"],["value","number"],["label","LBL_NUMBER"],["value","int"],["label","LBL_INTEGER"],["value","float"],["label","LBL_FLOAT"],["value","date"],["label","LBL_DATE"],["value","datetime"],["label","LBL_DATE_TIME"],["value","datetutc"],["label","LBL_DATE_TO_UTC"],["value","bool"],["label","LBL_BOOLEAN"],["value","text"],["label","LBL_TEXT"],[4,"ngIf"],["value","left"],["label","LBL_LEFT_ALIGN"],["value","right"],["label","LBL_RIGHT_ALIGN"],["value","center"],["label","LBL_CENTER_ALIGN"],["value","-"],["value","sum"],["label","LBL_SUM"],["value","count"],["label","LBL_COUNT"],["value","avg"],["label","LBL_AVERAGE"],["value","min"],["label","LBL_MINIMUM"],["value","max"],["label","LBL_MAXIMUM"]],template:function(e,t){1&e&&(p.j41(0,"table",0)(1,"thead")(2,"tr",1),p.nrm(3,"th",2),p.j41(4,"th",3)(5,"div",4),p.nrm(6,"system-label",5),p.k0s()(),p.j41(7,"th",3)(8,"div",4),p.nrm(9,"system-label",6),p.k0s()(),p.j41(10,"th",7)(11,"div",8),p.nrm(12,"system-utility-icon",9),p.k0s()(),p.j41(13,"th",3)(14,"div",4),p.nrm(15,"system-label",10),p.k0s()(),p.j41(16,"th",3)(17,"div",4),p.nrm(18,"system-label",11),p.k0s()(),p.j41(19,"th",3)(20,"div",4),p.nrm(21,"system-label",12),p.k0s()(),p.DNE(22,Ft,3,1,"th",13),p.j41(23,"th",3)(24,"div",4),p.nrm(25,"system-label",14),p.k0s()(),p.j41(26,"th",3)(27,"div",4),p.nrm(28,"system-label",15),p.k0s()()()(),p.DNE(29,xt,2,3,"tbody",16),p.k0s()),2&e&&(p.R7$(5),p.Y8G("title",t.language.getLabel("LBL_NAME")),p.R7$(3),p.Y8G("title",t.language.getLabel("LBL_DISPLAY")),p.R7$(4),p.Y8G("title",t.language.getLabel("LBL_LINK")),p.R7$(2),p.Y8G("title",t.language.getLabel("LBL_SORT")),p.R7$(3),p.Y8G("title",t.language.getLabel("LBL_WIDTH")),p.R7$(3),p.Y8G("title",t.language.getLabel("LBL_OVERRIDE_TYPE")),p.R7$(2),p.Y8G("ngIf",t.showFunction),p.R7$(2),p.Y8G("title",t.language.getLabel("LBL_OVERRIDE_ALIGNMENT")),p.R7$(3),p.Y8G("title",t.language.getLabel("LBL_COMPONENT")),p.R7$(2),p.Y8G("ngIf",t.listFields))},dependencies:[i.Sq,i.bT,n.xH,n.y7,n.me,n.wz,n.BC,n.vS,C.f,M.W,G.B,d.O7,d.T1,d.Fb],encapsulation:2})}return ReportsDesignerPresentItemTable})();var wt=s(69139);let St=(()=>{class ReportsDesignerPresentItemStandard{constructor(e,t,s){this.language=e,this.model=t,this.reportsDesignerService=s,this.propertiesFieldName="standardViewProperties"}get listFields(){return this.reportsDesignerService.listFields}get properties(){return this.model.getField("presentation_params").pluginData[this.propertiesFieldName]}ngOnInit(){this.initializePluginData({processCount:"Synchronous",listEntries:25})}initializePluginData(e){const t=this.model.getField("presentation_params");t.pluginData[this.propertiesFieldName]||(t.pluginData[this.propertiesFieldName]=e,this.model.setField("presentation_params",t))}trackByFn(e,t){return t.fieldid}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerPresentItemStandard)(p.rXU(h.B),p.rXU(m.g),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerPresentItemStandard,selectors:[["reports-designer-present-item-standard"]],decls:23,vars:2,consts:[["system-to-bottom-noscroll","",1,"slds-grid","slds-grid--vertical"],[1,"slds-border--bottom","slds-p-around--small","slds-grid"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center"],[1,"slds-form-element__label"],["label","LBL_PROCESS_COUNT"],[1,"slds-form-element__control"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],["value","Synchronous"],["label","LBL_SYNCHRONOUS"],["value","Asynchronous"],["label","LBL_ASYNCHRONOUS"],["value","None"],["label","LBL_NONE"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center","slds-m-left--x-small"],["label","LBL_RECORDS_PER_PAGE"],[1,"slds-form-element"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],[1,"slds-grow","slds-scrollable--y"]],template:function(e,t){1&e&&(p.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),p.nrm(4,"system-label",4),p.k0s(),p.j41(5,"div",5)(6,"div",6)(7,"select",7),p.mxI("ngModelChange",(function(e){return p.DH7(t.properties.processCount,e)||(t.properties.processCount=e),e})),p.j41(8,"option",8),p.nrm(9,"system-label",9),p.k0s(),p.j41(10,"option",10),p.nrm(11,"system-label",11),p.k0s(),p.j41(12,"option",12),p.nrm(13,"system-label",13),p.k0s()()()()(),p.j41(14,"div",14)(15,"label",3),p.nrm(16,"system-label",15),p.k0s(),p.j41(17,"div",5)(18,"div",16)(19,"div",5)(20,"input",17),p.mxI("ngModelChange",(function(e){return p.DH7(t.properties.listEntries,e)||(t.properties.listEntries=e),e})),p.k0s()()()()()(),p.j41(21,"div",18),p.nrm(22,"reports-designer-present-item-table"),p.k0s()()),2&e&&(p.R7$(7),p.R50("ngModel",t.properties.processCount),p.R7$(13),p.R50("ngModel",t.properties.listEntries))},dependencies:[n.xH,n.y7,n.me,n.wz,n.BC,n.vS,M.W,wt.p,Et],encapsulation:2})}return ReportsDesignerPresentItemStandard})();function $t(e,t){if(1&e&&(p.j41(0,"option",19),p.EFF(1),p.k0s()),2&e){const e=t.$implicit;p.Y8G("value",e.value),p.R7$(),p.SpI(" ",e.name," ")}}function Nt(e,t){if(1&e&&(p.j41(0,"option",19),p.EFF(1),p.k0s()),2&e){const e=t.$implicit;p.Y8G("value",e.value),p.R7$(),p.SpI(" ",e.name," ")}}function Tt(e,t){if(1&e&&(p.j41(0,"option",19),p.EFF(1),p.k0s()),2&e){const e=t.$implicit;p.Y8G("value",e.id),p.R7$(),p.SpI(" ",e.name," ")}}function Ot(e,t){if(1&e&&(p.j41(0,"li",20)(1,"span",21)(2,"span",22)(3,"span",23),p.EFF(4),p.k0s()()()()),2&e){const e=t.$implicit;p.R7$(2),p.xc7("background-color",e),p.R7$(2),p.JRh(e)}}let Ut=(()=>{class ReportsDesignerVisualizeItemChartTypePanel{constructor(e,t){this.language=e,this.reportsDesignerService=t,this.typeOptions=[],this.dimensionsOptions=[],this.properties={}}get typeOptionsFiltered(){return this.typeOptions.filter((e=>e.dimensions.indexOf(this.properties.dims)>-1))}get themeColors(){const e=this.reportsDesignerService.visualizeColorTheme.find((e=>e.id==this.properties.colors));return e?e.colors:[]}get colorOptions(){return this.reportsDesignerService.visualizeColorTheme}trackByFnValue(e,t){return t.value}trackByFnIndex(e,t){return e}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerVisualizeItemChartTypePanel)(p.rXU(h.B),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerVisualizeItemChartTypePanel,selectors:[["reports-designer-visualize-item-chart-type-panel"]],inputs:{typeOptions:"typeOptions",dimensionsOptions:"dimensionsOptions",properties:"properties"},decls:32,vars:12,consts:[["title","LBL_CHART_TYPE",3,"collapsible"],[1,"slds-p-around--x-small"],[1,"slds-grid"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center","slds-size--1-of-2","slds-p-horizontal--x-small"],[1,"slds-form-element__label","slds-text-heading--label"],["label","LBL_DIMENSIONS"],[1,"slds-form-element__control","slds-grow"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["label","LBL_TYPE"],[1,"slds-grid","slds-m-top--x-small"],["label","LBL_COLORS"],[1,"slds-grid","slds-grid--vertical-align-center","slds-size--1-of-2","slds-p-horizontal--x-small"],["label","LBL_PREVIEW"],[1,"slds-color-picker","slds-color-picker_swatches-only","slds-grid","slds-grid--vertical-align-center","slds-grow"],[1,"slds-color-picker__selector"],["role","menu",1,"slds-color-picker__swatches"],["class","slds-color-picker__swatch","role","presentation",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],["role","presentation",1,"slds-color-picker__swatch"],["role","menuitem",1,"slds-color-picker__swatch-trigger","slds-is-selected"],[1,"slds-swatch"],[1,"slds-assistive-text"]],template:function(e,t){1&e&&(p.j41(0,"system-collapsable-tab",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),p.nrm(5,"system-label",5),p.k0s(),p.j41(6,"div",6)(7,"div",7)(8,"select",8),p.mxI("ngModelChange",(function(e){return p.DH7(t.properties.dims,e)||(t.properties.dims=e),e})),p.DNE(9,$t,2,2,"option",9),p.k0s()()()(),p.j41(10,"div",3)(11,"label",4),p.nrm(12,"system-label",10),p.k0s(),p.j41(13,"div",6)(14,"div",7)(15,"select",8),p.mxI("ngModelChange",(function(e){return p.DH7(t.properties.type,e)||(t.properties.type=e),e})),p.DNE(16,Nt,2,2,"option",9),p.k0s()()()()(),p.j41(17,"div",11)(18,"div",3)(19,"label",4),p.nrm(20,"system-label",12),p.k0s(),p.j41(21,"div",6)(22,"div",7)(23,"select",8),p.mxI("ngModelChange",(function(e){return p.DH7(t.properties.colors,e)||(t.properties.colors=e),e})),p.DNE(24,Tt,2,2,"option",9),p.k0s()()()(),p.j41(25,"div",13)(26,"label",4),p.nrm(27,"system-label",14),p.k0s(),p.j41(28,"div",15)(29,"div",16)(30,"ul",17),p.DNE(31,Ot,5,3,"li",18),p.k0s()()()()()()()),2&e&&(p.Y8G("collapsible",!1),p.R7$(8),p.R50("ngModel",t.properties.dims),p.R7$(),p.Y8G("ngForOf",t.dimensionsOptions)("ngForTrackBy",t.trackByFnValue),p.R7$(6),p.R50("ngModel",t.properties.type),p.R7$(),p.Y8G("ngForOf",t.typeOptionsFiltered)("ngForTrackBy",t.trackByFnValue),p.R7$(7),p.R50("ngModel",t.properties.colors),p.R7$(),p.Y8G("ngForOf",t.colorOptions)("ngForTrackBy",t.trackByFnIndex),p.R7$(7),p.Y8G("ngForOf",t.themeColors)("ngForTrackBy",t.trackByFnIndex))},dependencies:[i.Sq,n.xH,n.y7,n.wz,n.BC,n.vS,z.p,M.W],encapsulation:2})}return ReportsDesignerVisualizeItemChartTypePanel})();function Yt(e,t){if(1&e&&p.nrm(0,"reports-designer-visualize-item-chart-data-panel-single-series",3),2&e){const e=p.XpG();p.Y8G("properties",e.properties)}}function At(e,t){if(1&e&&p.nrm(0,"reports-designer-visualize-item-chart-data-panel-multiple-series",3),2&e){const e=p.XpG();p.Y8G("properties",e.properties)}}let Vt=(()=>{class ReportsDesignerVisualizeItemChartDataPanel{constructor(e,t,s){this.language=e,this.model=t,this.reportsDesignerService=s,this.properties={}}get listFields(){return this.model.getField("listfields")}ngOnChanges(){this.initializeDataSeries()}onDrop(e){this.properties.dataseries.push({id:this.reportsDesignerService.generateGuid(),fieldid:e.item.data.fieldid,name:e.item.data.name,chartfunction:"-",meaning:"value",axis:"",renderer:"",color:""})}deleteSeries(e){this.properties.dataseries=this.properties.dataseries.filter((t=>t.fieldid!=e))}trackByFn(e,t){return t.fieldid}initializeDataSeries(){this.properties.dataseries&&this.properties.dataseries.length>0||("1"==this.properties.dims[2]?this.properties.dataseries=[{fieldid:"",name:"",chartfunction:"-",meaning:"value",axis:"P",renderer:""}]:this.properties.dataseries=[])}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerVisualizeItemChartDataPanel)(p.rXU(h.B),p.rXU(m.g),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerVisualizeItemChartDataPanel,selectors:[["reports-designer-visualize-item-chart-data-panel"]],inputs:{properties:"properties"},features:[p.OA$],decls:4,vars:3,consts:[["title","LBL_CHART_DATA",1,"spice-collapsible-tab-grow",3,"collapsible"],[3,"properties",4,"ngIf","ngIfElse"],["seriesValuesContainer",""],[3,"properties"]],template:function(e,t){if(1&e&&(p.j41(0,"system-collapsable-tab",0),p.DNE(1,Yt,1,1,"reports-designer-visualize-item-chart-data-panel-single-series",1)(2,At,1,1,"ng-template",null,2,p.C5r),p.k0s()),2&e){const e=p.sdS(3);p.Y8G("collapsible",!1),p.R7$(),p.Y8G("ngIf",-1==t.properties.dims.indexOf("N"))("ngIfElse",e)}},encapsulation:2})}return ReportsDesignerVisualizeItemChartDataPanel})();function Xt(e,t){if(1&e&&(p.j41(0,"option",13),p.nrm(1,"system-label",14),p.k0s()),2&e){const e=t.$implicit;p.Y8G("value",e.fieldid),p.R7$(),p.Y8G("label",e.name)}}function Pt(e,t){if(1&e&&(p.j41(0,"option",13),p.nrm(1,"system-label",14),p.k0s()),2&e){const e=t.$implicit;p.Y8G("value",e.fieldid),p.R7$(),p.Y8G("label",e.name)}}function zt(e,t){if(1&e){const e=p.RV6();p.j41(0,"div",2)(1,"label",3),p.nrm(2,"system-label",15),p.k0s(),p.j41(3,"div",5)(4,"div",6)(5,"select",7),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.properties.dataseries[0].fieldid,t)||(s.properties.dataseries[0].fieldid=t),p.Njj(t)})),p.DNE(6,Pt,2,2,"option",8),p.k0s()()()()}if(2&e){const e=p.XpG();p.R7$(5),p.R50("ngModel",e.properties.dataseries[0].fieldid),p.R7$(),p.Y8G("ngForOf",e.listFields)("ngForTrackBy",e.trackByFn)}}function Ht(e,t){if(1&e&&(p.j41(0,"option",13),p.nrm(1,"system-label",14),p.k0s()),2&e){const e=t.$implicit;p.Y8G("value",e.fieldid),p.R7$(),p.Y8G("label",e.name)}}function qt(e,t){if(1&e){const e=p.RV6();p.j41(0,"div",16)(1,"label",3),p.nrm(2,"system-label",4),p.EFF(3," 2 "),p.k0s(),p.j41(4,"div",5)(5,"div",6)(6,"select",7),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.properties.dimensions.dimension2,t)||(s.properties.dimensions.dimension2=t),p.Njj(t)})),p.DNE(7,Ht,2,2,"option",8),p.k0s()()()()}if(2&e){const e=p.XpG();p.R7$(6),p.R50("ngModel",e.properties.dimensions.dimension2),p.R7$(),p.Y8G("ngForOf",e.listFields)("ngForTrackBy",e.trackByFn)}}function Wt(e,t){if(1&e){const e=p.RV6();p.j41(0,"div",2)(1,"label",3),p.nrm(2,"system-label",17),p.k0s(),p.j41(3,"div",5)(4,"div",6)(5,"select",7),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.properties.dataseries[0].chartfunction,t)||(s.properties.dataseries[0].chartfunction=t),p.Njj(t)})),p.j41(6,"option",18),p.EFF(7,"-"),p.k0s(),p.j41(8,"option",19),p.nrm(9,"system-label",20),p.k0s(),p.j41(10,"option",21),p.nrm(11,"system-label",22),p.k0s(),p.j41(12,"option",23),p.nrm(13,"system-label",24),p.k0s(),p.j41(14,"option",25),p.nrm(15,"system-label",26),p.k0s(),p.j41(16,"option",27),p.nrm(17,"system-label",28),p.k0s(),p.j41(18,"option",29),p.nrm(19,"system-label",30),p.k0s()()()()()}if(2&e){const e=p.XpG();p.R7$(5),p.R50("ngModel",e.properties.dataseries[0].chartfunction)}}function Kt(e,t){if(1&e&&(p.j41(0,"option",13),p.nrm(1,"system-label",14),p.k0s()),2&e){const e=t.$implicit;p.Y8G("value",e.fieldid),p.R7$(),p.Y8G("label",e.name)}}function Jt(e,t){if(1&e){const e=p.RV6();p.j41(0,"div",2)(1,"label",3),p.nrm(2,"system-label",4),p.EFF(3," 3 "),p.k0s(),p.j41(4,"div",5)(5,"div",6)(6,"select",7),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.properties.dimensions.dimension3,t)||(s.properties.dimensions.dimension3=t),p.Njj(t)})),p.DNE(7,Kt,2,2,"option",8),p.k0s()()()()}if(2&e){const e=p.XpG();p.R7$(6),p.R50("ngModel",e.properties.dimensions.dimension3),p.R7$(),p.Y8G("ngForOf",e.listFields)("ngForTrackBy",e.trackByFn)}}let Qt=(()=>{class ReportsDesignerVisualizeItemChartDataPanelSingleSeries extends Vt{constructor(e,t,s){super(e,t,s),this.language=e,this.model=t,this.reportsDesignerService=s}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerVisualizeItemChartDataPanelSingleSeries)(p.rXU(h.B),p.rXU(m.g),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerVisualizeItemChartDataPanelSingleSeries,selectors:[["reports-designer-visualize-item-chart-data-panel-single-series"]],features:[p.Vt3],decls:17,vars:7,consts:[[1,"slds-p-around--x-small"],[1,"slds-grid"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center","slds-size--1-of-2","slds-p-horizontal--x-small"],[1,"slds-form-element__label","slds-text-heading--label"],["label","LBL_DIMENSION"],[1,"slds-form-element__control","slds-grow"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["class","slds-form-element slds-grid slds-grid--vertical-align-center slds-size--1-of-2 slds-p-horizontal--x-small",4,"ngIf"],[1,"slds-grid","slds-m-top--x-small"],[1,"slds-size--1-of-2","slds-p-horizontal--x-small"],["class","slds-form-element slds-grid slds-grid--vertical-align-center",4,"ngIf"],[3,"value"],[3,"label"],["label","LBL_DATA_SERIES"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center"],["label","LBL_FUNCTION"],["value","-"],["value","SUM"],["label","LBL_SUM"],["value","AVG"],["label","LBL_AVERAGE"],["value","CUMSUM"],["label","LBL_SUM_CUMULATED"],["value","COUNT"],["label","LBL_COUNT"],["value","MAX"],["label","LBL_MAXIMUM"],["value","MIN"],["label","LBL_MINIMUM"]],template:function(e,t){1&e&&(p.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),p.nrm(4,"system-label",4),p.EFF(5," 1 "),p.k0s(),p.j41(6,"div",5)(7,"div",6)(8,"select",7),p.mxI("ngModelChange",(function(e){return p.DH7(t.properties.dimensions.dimension1,e)||(t.properties.dimensions.dimension1=e),e})),p.DNE(9,Xt,2,2,"option",8),p.k0s()()()(),p.DNE(10,zt,7,3,"div",9),p.k0s(),p.j41(11,"div",10)(12,"div",11),p.DNE(13,qt,8,3,"div",12),p.k0s(),p.DNE(14,Wt,20,1,"div",9),p.k0s(),p.j41(15,"div",10),p.DNE(16,Jt,8,3,"div",9),p.k0s()()),2&e&&(p.R7$(8),p.R50("ngModel",t.properties.dimensions.dimension1),p.R7$(),p.Y8G("ngForOf",t.listFields)("ngForTrackBy",t.trackByFn),p.R7$(),p.Y8G("ngIf","1"==t.properties.dims[2]),p.R7$(3),p.Y8G("ngIf","221"==t.properties.dims||"220"==t.properties.dims||"331"==t.properties.dims),p.R7$(),p.Y8G("ngIf","1"==t.properties.dims[2]),p.R7$(2),p.Y8G("ngIf","331"==t.properties.dims))},dependencies:[i.Sq,i.bT,n.xH,n.y7,n.wz,n.BC,n.vS,M.W],encapsulation:2})}return ReportsDesignerVisualizeItemChartDataPanelSingleSeries})();function Zt(e,t){if(1&e&&(p.j41(0,"option",27),p.nrm(1,"system-label",28),p.k0s()),2&e){const e=t.$implicit;p.Y8G("value",e.fieldid),p.R7$(),p.Y8G("label",e.name)}}function es(e,t){if(1&e){const e=p.RV6();p.j41(0,"div",20)(1,"label",21),p.nrm(2,"system-label",22),p.EFF(3," 1 "),p.k0s(),p.j41(4,"div",23)(5,"div",24)(6,"select",25),p.mxI("ngModelChange",(function(t){p.eBV(e);const s=p.XpG();return p.DH7(s.properties.dimensions.dimension1,t)||(s.properties.dimensions.dimension1=t),p.Njj(t)})),p.DNE(7,Zt,2,2,"option",26),p.k0s()()()()}if(2&e){const e=p.XpG();p.R7$(6),p.R50("ngModel",e.properties.dimensions.dimension1),p.R7$(),p.Y8G("ngForOf",e.listFields)("ngForTrackBy",e.trackByFn)}}function ts(e,t){if(1&e&&(p.j41(0,"tr",29)(1,"td",30),p.nrm(2,"system-utility-icon",31),p.k0s(),p.j41(3,"td")(4,"div",8),p.nrm(5,"system-label",28),p.k0s()()()),2&e){const e=t.$implicit;p.Y8G("cdkDragData",e),p.R7$(4),p.Y8G("title",e.name),p.R7$(),p.Y8G("label",e.name)}}function ss(e,t){if(1&e){const e=p.RV6();p.j41(0,"tr",32)(1,"td")(2,"div",8),p.nrm(3,"system-label",28),p.k0s()(),p.j41(4,"td")(5,"div",33)(6,"div",34)(7,"div",24)(8,"select",25),p.mxI("ngModelChange",(function(t){const s=p.eBV(e).$implicit;return p.DH7(s.chartfunction,t)||(s.chartfunction=t),p.Njj(t)})),p.j41(9,"option",35),p.EFF(10,"-"),p.k0s(),p.j41(11,"option",36),p.nrm(12,"system-label",37),p.k0s(),p.j41(13,"option",38),p.nrm(14,"system-label",39),p.k0s(),p.j41(15,"option",40),p.nrm(16,"system-label",41),p.k0s(),p.j41(17,"option",42),p.nrm(18,"system-label",43),p.k0s(),p.j41(19,"option",44),p.nrm(20,"system-label",45),p.k0s(),p.j41(21,"option",46),p.nrm(22,"system-label",47),p.k0s()()()()()(),p.j41(23,"td")(24,"div",33)(25,"div",34)(26,"div",24)(27,"select",25),p.mxI("ngModelChange",(function(t){const s=p.eBV(e).$implicit;return p.DH7(s.axis,t)||(s.axis=t),p.Njj(t)})),p.j41(28,"option",35),p.EFF(29,"-"),p.k0s(),p.j41(30,"option",48),p.nrm(31,"system-label",49),p.k0s(),p.j41(32,"option",50),p.nrm(33,"system-label",51),p.k0s()()()()()(),p.j41(34,"td")(35,"div",33)(36,"div",34)(37,"div",24)(38,"select",25),p.mxI("ngModelChange",(function(t){const s=p.eBV(e).$implicit;return p.DH7(s.renderer,t)||(s.renderer=t),p.Njj(t)})),p.j41(39,"option",35),p.EFF(40,"-"),p.k0s(),p.j41(41,"option",52),p.nrm(42,"system-label",53),p.k0s(),p.j41(43,"option",54),p.nrm(44,"system-label",55),p.k0s(),p.j41(45,"option",56),p.nrm(46,"system-label",57),p.k0s()()()()()(),p.j41(47,"td")(48,"div",33)(49,"div",34)(50,"input",58),p.mxI("ngModelChange",(function(t){const s=p.eBV(e).$implicit;return p.DH7(s.color,t)||(s.color=t),p.Njj(t)})),p.k0s()()()(),p.j41(51,"td")(52,"button",59),p.bIt("click",(function(){const t=p.eBV(e).$implicit,s=p.XpG();return p.Njj(s.deleteSeries(t.fieldid))})),p.nrm(53,"system-button-icon",60),p.k0s()()()}if(2&e){const e=t.$implicit;p.R7$(2),p.Y8G("title",e.name),p.R7$(),p.Y8G("label",e.name),p.R7$(5),p.R50("ngModel",e.chartfunction),p.R7$(19),p.R50("ngModel",e.axis),p.R7$(11),p.R50("ngModel",e.renderer),p.R7$(12),p.R50("ngModel",e.color)}}function is(e,t){1&e&&(p.j41(0,"tr")(1,"td",61),p.nrm(2,"system-label",62),p.k0s()())}let ns=(()=>{class ReportsDesignerVisualizeItemChartDataPanelMultipleSeries extends Vt{constructor(e,t,s,i){super(e,t,i),this.language=e,this.model=t,this.renderer=s,this.reportsDesignerService=i}get availableListFields(){return this.properties.dataseries&&0!=this.properties.dataseries.length?this.listFields.filter((e=>!this.properties.dataseries.some((t=>t.fieldid===e.fieldid)))):this.listFields}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerVisualizeItemChartDataPanelMultipleSeries)(p.rXU(h.B),p.rXU(m.g),p.rXU(p.sFG),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerVisualizeItemChartDataPanelMultipleSeries,selectors:[["reports-designer-visualize-item-chart-data-panel-multiple-series"]],features:[p.Vt3],decls:36,vars:14,consts:[[1,"slds-grid","slds-grid--vertical","slds-p-around--xxx-small",2,"height","100%"],["class","slds-form-element slds-grid slds-grid--vertical-align-center slds-p-vertical--x-small slds-p-left--medium slds-p-right--x-small slds-size--1-of-2",4,"ngIf"],["cdkDropListGroup","",1,"slds-border--bottom","slds-border--left","slds-border--right","slds-border--top","slds-grid","slds-grow",2,"min-height","100px"],[1,"slds-size--1-of-4","slds-scrollable--y","slds-border--right",2,"height","100%"],[1,"slds-table","slds-table--cell-buffer","spice-table_header-fixed","slds-table--fixed-layout","slds-no-row-hover"],[1,"slds-text-title--caps","slds-theme--shade"],["scope","col",1,"slds-cell-shrink"],["scope","col"],[1,"slds-truncate",3,"title"],["label","LBL_FIELDS"],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListData"],["cdkDrag","","class","slds-border--bottom slds-drag--preview","style","height: 41px",3,"cdkDragData",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDropList","",1,"slds-scrollable--y","slds-size--3-of-4",2,"height","inherit",3,"cdkDropListData","cdkDropListDropped"],["label","LBL_NAME"],["label","LBL_FUNCTION"],["label","LBL_AXIS"],["label","LBL_RENDER_AS"],["label","LBL_COLOR"],["cdkDrag","","cdkDragDisabled","","class","slds-border--bottom",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center","slds-p-vertical--x-small","slds-p-left--medium","slds-p-right--x-small","slds-size--1-of-2"],[1,"slds-form-element__label","slds-text-heading--label"],["label","LBL_DIMENSION"],[1,"slds-form-element__control","slds-grow"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],[3,"label"],["cdkDrag","",1,"slds-border--bottom","slds-drag--preview",2,"height","41px",3,"cdkDragData"],[1,"slds-p-around--none"],["cdkDragHandle","","icon","drag_and_drop","size","x-small",1,"slds-p-horizontal--x-small",2,"cursor","move"],["cdkDrag","","cdkDragDisabled","",1,"slds-border--bottom"],[1,"slds-form-element"],[1,"slds-form-element__control"],["value","-"],["value","SUM"],["label","LBL_SUM"],["value","AVG"],["label","LBL_AVERAGE"],["value","CUMSUM"],["label","LBL_SUM_CUMULATED"],["value","COUNT"],["label","LBL_COUNT"],["value","MAX"],["label","LBL_MAXIMUM"],["value","MIN"],["label","LBL_MINIMUM"],["value","P"],["label","LBL_PRIMARY"],["value","S"],["label","LBL_SECONDARY"],["value","bars"],["label","LBL_BAR"],["value","line"],["label","LBL_LINE"],["value","area"],["label","LBL_AREA"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],[1,"slds-button","slds-button--icon",3,"click"],["icon","delete"],["colspan","6",1,"slds-text-align_center",2,"padding","1rem"],["label","MSG_DROP_FIELD_HERE"]],template:function(e,t){1&e&&(p.j41(0,"div",0),p.DNE(1,es,8,3,"div",1),p.j41(2,"div",2)(3,"div",3)(4,"table",4)(5,"thead")(6,"tr",5),p.nrm(7,"th",6),p.j41(8,"th",7)(9,"div",8),p.nrm(10,"system-label",9),p.k0s()()()(),p.j41(11,"tbody",10),p.DNE(12,ts,6,3,"tr",11),p.k0s()()(),p.j41(13,"div",12),p.bIt("cdkDropListDropped",(function(e){return t.onDrop(e)})),p.j41(14,"table",4)(15,"thead")(16,"tr",5)(17,"th",7)(18,"div",8),p.nrm(19,"system-label",13),p.k0s()(),p.j41(20,"th",7)(21,"div",8),p.nrm(22,"system-label",14),p.k0s()(),p.j41(23,"th",7)(24,"div",8),p.nrm(25,"system-label",15),p.k0s()(),p.j41(26,"th",7)(27,"div",8),p.nrm(28,"system-label",16),p.k0s()(),p.j41(29,"th",7)(30,"div",8),p.nrm(31,"system-label",17),p.k0s()(),p.nrm(32,"th",6),p.k0s()(),p.j41(33,"tbody"),p.DNE(34,ss,54,6,"tr",18)(35,is,3,0,"tr",19),p.k0s()()()()()),2&e&&(p.R7$(),p.Y8G("ngIf","21N"==t.properties.dims),p.R7$(8),p.Y8G("title",t.language.getLabel("LBL_FIELDS")),p.R7$(2),p.Y8G("cdkDropListData",t.listFields),p.R7$(),p.Y8G("ngForOf",t.availableListFields)("ngForTrackBy",t.trackByFn),p.R7$(),p.Y8G("cdkDropListData",t.properties.dataseries),p.R7$(5),p.Y8G("title",t.language.getLabel("LBL_NAME")),p.R7$(3),p.Y8G("title",t.language.getLabel("LBL_FUNCTION")),p.R7$(3),p.Y8G("title",t.language.getLabel("LBL_AXIS")),p.R7$(3),p.Y8G("title",t.language.getLabel("LBL_RENDER_AS")),p.R7$(3),p.Y8G("title",t.language.getLabel("LBL_COLOR")),p.R7$(4),p.Y8G("ngForOf",t.properties.dataseries)("ngForTrackBy",t.trackByFn),p.R7$(),p.Y8G("ngIf",0==(null==t.properties.dataseries?null:t.properties.dataseries.length)))},dependencies:[i.Sq,i.bT,n.xH,n.y7,n.me,n.wz,n.BC,n.vS,E.t,M.W,G.B,d.O7,d.RK,d.T1,d.Fb],encapsulation:2})}return ReportsDesignerVisualizeItemChartDataPanelMultipleSeries})();function ls(e,t){if(1&e&&(p.j41(0,"option",31),p.EFF(1),p.k0s()),2&e){const e=t.$implicit;p.Y8G("value",e),p.R7$(),p.SpI(" ",e," ")}}let os=(()=>{class ReportsDesignerVisualizeItemGoogleCharts{constructor(e,t,s){this.language=e,this.model=t,this.reportsDesignerService=s,this.contextOptions=[],this.typeOptions=[],this.dimensionsOptions=[]}get properties(){return this.model.getField("visualization_params")[this.reportsDesignerService.visualizeActiveLayoutItem]}ngOnInit(){this.initializeVisualizationOptions(),this.initializeProperties()}initializeVisualizationOptions(){this.dimensionsOptions=[{value:"111",name:`1 ${this.language.getLabel("LBL_DIMENSIONAL")} (${this.language.getLabel("LBL_SERIES")})`},{value:"10N",name:`1 ${this.language.getLabel("LBL_DIMENSIONAL")} (${this.language.getLabel("LBL_VALUES")})`},{value:"221",name:`2 ${this.language.getLabel("LBL_DIMENSIONAL")} (${this.language.getLabel("LBL_SERIES")})`},{value:"21N",name:`2 ${this.language.getLabel("LBL_DIMENSIONAL")} (${this.language.getLabel("LBL_VALUES")})`},{value:"220",name:`2 ${this.language.getLabel("LBL_DIMENSIONAL")} (${this.language.getLabel("LBL_NO_VALUES")})`},{value:"331",name:`3 ${this.language.getLabel("LBL_DIMENSIONAL")} (${this.language.getLabel("LBL_SERIES")})`}],this.typeOptions=[{dimensions:["111","10N","221","21N"],value:"Area",name:this.language.getLabel("LBL_AREA_CHART")},{dimensions:["111","10N","221","21N"],value:"SteppedArea",name:this.language.getLabel("LBL_STEPPED_AREA_CHART")},{dimensions:["221","331"],value:"Bubble",name:this.language.getLabel("LBL_BUBBLE_CHART")},{dimensions:["221"],value:"Sankey",name:this.language.getLabel("LBL_SANKEY_CHART")},{dimensions:["111","10N","221","21N"],value:"Bar",name:this.language.getLabel("LBL_BAR_CHART")},{dimensions:["111","10N","221","21N"],value:"Column",name:this.language.getLabel("LBL_COLUMN_CHART")},{dimensions:["111","10N","221","21N"],value:"Line",name:this.language.getLabel("LBL_LINE_CHART")},{dimensions:["220"],value:"Scatter",name:this.language.getLabel("LBL_SCATTER_CHART")},{dimensions:["111","10N"],value:"Pie",name:this.language.getLabel("LBL_PIE_CHART")},{dimensions:["111","10N"],value:"Donut",name:this.language.getLabel("LBL_DONUT_CHART")},{dimensions:["10N","21N"],value:"Combo",name:this.language.getLabel("LBL_COMBO_CHART")}]}initializeProperties(){this.contextOptions=this.model.getField("whereconditions").filter((e=>!!e.context)).map((e=>e.context)),this.properties.googlecharts&&this.properties.googlecharts.uid||(this.properties.googlecharts={uid:this.reportsDesignerService.generateGuid(),title:"",dims:"111",type:"Area",colors:"default",dataseries:[],options:{},context:"",legend:null,dimensions:{dimension1:null,dimension2:null,dimension3:null}})}setPropertiesOption(e,t){this.properties.googlecharts.options[e]=t?"on":"off"}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerVisualizeItemGoogleCharts)(p.rXU(h.B),p.rXU(m.g),p.rXU(v))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerVisualizeItemGoogleCharts,selectors:[["reports-designer-visualize-item-google-charts"]],decls:47,vars:21,consts:[["system-to-bottom-noscroll","",1,"slds-p-horizontal--xx-small","slds-grid","slds-grid--vertical"],[3,"properties","typeOptions","dimensionsOptions"],[1,"slds-grow",2,"min-height","0"],[2,"display","block","height","50%",3,"properties"],[1,"slds-p-top--x-small",2,"height","50%"],[1,"spice-collapsible-tab-grow",3,"collapsible","title"],[1,"slds-p-around--x-small","slds-height_full"],[1,"slds-grid"],[1,"slds-size--1-of-2","slds-form-element","slds-grid","slds-grid--vertical-align-center","slds-p-horizontal--x-small","slds-size--1-of-1"],[1,"slds-form-element__label"],["label","LBL_TITLE"],[1,"slds-form-element__control","slds-grow"],["type","text","size","5",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_CONTEXT"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"slds-size--1-of-1","slds-p-top--x-small","slds-m-top--x-small","slds-has-divider--top","slds-has-divider--bottom","slds-grid","slds-wrap"],[1,"slds-size--1-of-4","slds-p-horizontal--x-small",3,"ngModel","ngModelChange"],["label","LBL_DISPLAY_LEGEND"],["label","LBL_SHOW_EMPTY_VALUES"],["label","LBL_HIDE_V_AXIS_LABELS"],["label","LBL_HIDE_H_AXIS_LABELS"],["label","LBL_LOGARITHMIC_V_SCALE"],["label","LBL_LOGARITHMIC_H_SCALE"],["label","LBL_STACKED_SERIES"],["label","LBL_DIMENSIONAL"],["label","LBL_REVERSE_SERIES"],["label","LBL_SMOOTHED_LINE"],["label","LBL_SHOW_POINTS"],["label","LBL_MATERIAL_DESIGN"],[3,"value"]],template:function(e,t){1&e&&(p.j41(0,"div",0),p.nrm(1,"reports-designer-visualize-item-chart-type-panel",1),p.j41(2,"div",2),p.nrm(3,"reports-designer-visualize-item-chart-data-panel",3),p.j41(4,"div",4)(5,"system-collapsable-tab",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"label",9),p.nrm(10,"system-label",10),p.k0s(),p.j41(11,"div",11)(12,"input",12),p.mxI("ngModelChange",(function(e){return p.DH7(t.properties.googlecharts.title,e)||(t.properties.googlecharts.title=e),e})),p.k0s()()(),p.j41(13,"div",8)(14,"label",9),p.nrm(15,"system-label",13),p.k0s(),p.j41(16,"div",11)(17,"div",14)(18,"select",15),p.mxI("ngModelChange",(function(e){return p.DH7(t.properties.googlecharts.context,e)||(t.properties.googlecharts.context=e),e})),p.nrm(19,"option"),p.DNE(20,ls,2,2,"option",16),p.k0s()()()()(),p.j41(21,"div",17)(22,"system-checkbox",18),p.bIt("ngModelChange",(function(e){return t.setPropertiesOption("legend",e)})),p.nrm(23,"system-label",19),p.k0s(),p.j41(24,"system-checkbox",18),p.bIt("ngModelChange",(function(e){return t.setPropertiesOption("emptyvalues",e)})),p.nrm(25,"system-label",20),p.k0s(),p.j41(26,"system-checkbox",18),p.bIt("ngModelChange",(function(e){return t.setPropertiesOption("novlabels",e)})),p.nrm(27,"system-label",21),p.k0s(),p.j41(28,"system-checkbox",18),p.bIt("ngModelChange",(function(e){return t.setPropertiesOption("nohlabels",e)})),p.nrm(29,"system-label",22),p.k0s(),p.j41(30,"system-checkbox",18),p.bIt("ngModelChange",(function(e){return t.setPropertiesOption("logv",e)})),p.nrm(31,"system-label",23),p.k0s(),p.j41(32,"system-checkbox",18),p.bIt("ngModelChange",(function(e){return t.setPropertiesOption("logh",e)})),p.nrm(33,"system-label",24),p.k0s(),p.j41(34,"system-checkbox",18),p.bIt("ngModelChange",(function(e){return t.setPropertiesOption("stacked",e)})),p.nrm(35,"system-label",25),p.k0s(),p.j41(36,"system-checkbox",18),p.bIt("ngModelChange",(function(e){return t.setPropertiesOption("is3D",e)})),p.EFF(37," 3 "),p.nrm(38,"system-label",26),p.k0s(),p.j41(39,"system-checkbox",18),p.bIt("ngModelChange",(function(e){return t.setPropertiesOption("reverse",e)})),p.nrm(40,"system-label",27),p.k0s(),p.j41(41,"system-checkbox",18),p.bIt("ngModelChange",(function(e){return t.setPropertiesOption("curvetypefunction",e)})),p.nrm(42,"system-label",28),p.k0s(),p.j41(43,"system-checkbox",18),p.bIt("ngModelChange",(function(e){return t.setPropertiesOption("points",e)})),p.nrm(44,"system-label",29),p.k0s(),p.j41(45,"system-checkbox",18),p.bIt("ngModelChange",(function(e){return t.setPropertiesOption("material",e)})),p.nrm(46,"system-label",30),p.k0s()()()()()()()),2&e&&(p.R7$(),p.Y8G("properties",t.properties.googlecharts)("typeOptions",t.typeOptions)("dimensionsOptions",t.dimensionsOptions),p.R7$(2),p.Y8G("properties",t.properties.googlecharts),p.R7$(2),p.Y8G("collapsible",!1)("title","LBL_CHART_OPTIONS"),p.R7$(7),p.R50("ngModel",t.properties.googlecharts.title),p.R7$(6),p.R50("ngModel",t.properties.googlecharts.context),p.R7$(2),p.Y8G("ngForOf",t.contextOptions),p.R7$(2),p.Y8G("ngModel","on"==t.properties.googlecharts.options.legend),p.R7$(2),p.Y8G("ngModel","on"==t.properties.googlecharts.options.emptyvalues),p.R7$(2),p.Y8G("ngModel","on"==t.properties.googlecharts.options.novlabels),p.R7$(2),p.Y8G("ngModel","on"==t.properties.googlecharts.options.nohlabels),p.R7$(2),p.Y8G("ngModel","on"==t.properties.googlecharts.options.logv),p.R7$(2),p.Y8G("ngModel","on"==t.properties.googlecharts.options.logh),p.R7$(2),p.Y8G("ngModel","on"==t.properties.googlecharts.options.stacked),p.R7$(2),p.Y8G("ngModel","on"==t.properties.googlecharts.options.is3D),p.R7$(3),p.Y8G("ngModel","on"==t.properties.googlecharts.options.reverse),p.R7$(2),p.Y8G("ngModel","on"==t.properties.googlecharts.options.curvetypefunction),p.R7$(2),p.Y8G("ngModel","on"==t.properties.googlecharts.options.points),p.R7$(2),p.Y8G("ngModel","on"==t.properties.googlecharts.options.material))},dependencies:[i.Sq,n.xH,n.y7,n.me,n.wz,n.BC,n.vS,C.f,z.p,M.W,wt.p,Ut,Vt],encapsulation:2})}return ReportsDesignerVisualizeItemGoogleCharts})();var rs=s(13957);let as=(()=>{class ReportsDesignerIntegrateItemTargetList{constructor(e,t,s){this.language=e,this.model=t,this.prospectListModel=s}get properties(){return this.model.getField("integration_params").ktargetlistexport}set targetList(e){if(!e)return;const t=e.split("::");this.prospectListModel.id=t[0],this.prospectListModel.resetData(),this.prospectListModel.setField("name",t[1]);this.properties.targetlist_id=this.prospectListModel.id}get targetList(){return this.prospectListModel.getField("name")?`${this.prospectListModel.id}::${this.prospectListModel.getField("name")}`:""}ngOnInit(){this.initializeProperties()}initializeProperties(){this.prospectListModel.module="ProspectLists";let e=this.model.getField("integration_params");e.ktargetlistexport?e.ktargetlistexport.targetlist_id&&(this.prospectListModel.id=e.ktargetlistexport.targetlist_id,this.prospectListModel.getData()):(e.ktargetlistexport={targetlist_id:"",targetlist_update_action:"",targetlist_create_direct:!1},this.model.setField("integration_params",e))}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerIntegrateItemTargetList)(p.rXU(h.B),p.rXU(m.g,4),p.rXU(m.g))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerIntegrateItemTargetList,selectors:[["reports-designer-integrate-item-target-list"]],features:[p.Jv_([m.g])],decls:31,vars:3,consts:[[1,"slds-p-around--x-small"],[1,"slds-form-element","slds-form-element_compound","slds-m-bottom--medium"],[1,"slds-form-element__legend","slds-form-element__label","slds-text-title--caps"],["label","LBL_UPDATE_TARGET_LIST"],[1,"slds-form-element__control","slds-p-left--small","slds-p-top--small"],[1,"slds-form-element__row"],[1,"slds-form-element","slds-size--1-of-1"],[1,"slds-form-element__label"],["label","LBL_PROSPECTLIST"],["module","ProspectLists",1,"slds-grow",2,"display","block","margin","0 -5px",3,"ngModel","ngModelChange"],["label","LBL_ACTION"],[1,"slds-select_container","slds-grow"],[1,"slds-select",3,"ngModel","ngModelChange"],["value","rep"],["label","LBL_UPDATE"],["value","add"],["label","LBL_ADD"],["value","sub"],["label","LBL_SUBTRACT"],[1,"slds-form-element","slds-form-element_compound","slds-m-top--small","slds-has-divider--top-space"],["label","LBL_PERFORMANCE_SETTINGS"],[1,"slds-form-element"],[3,"ngModel","ngModelChange"],["label","LBL_CREATE_DIRECT"]],template:function(e,t){1&e&&(p.j41(0,"div",0)(1,"fieldset",1)(2,"legend",2),p.nrm(3,"system-label",3),p.k0s(),p.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),p.nrm(8,"system-label",8),p.k0s(),p.j41(9,"system-input-relate",9),p.mxI("ngModelChange",(function(e){return p.DH7(t.targetList,e)||(t.targetList=e),e})),p.k0s()()(),p.j41(10,"div",5)(11,"div",6)(12,"label",7),p.nrm(13,"system-label",10),p.k0s(),p.j41(14,"div",11)(15,"select",12),p.mxI("ngModelChange",(function(e){return p.DH7(t.properties.targetlist_update_action,e)||(t.properties.targetlist_update_action=e),e})),p.nrm(16,"option"),p.j41(17,"option",13),p.nrm(18,"system-label",14),p.k0s(),p.j41(19,"option",15),p.nrm(20,"system-label",16),p.k0s(),p.j41(21,"option",17),p.nrm(22,"system-label",18),p.k0s()()()()()()(),p.j41(23,"fieldset",19)(24,"legend",2),p.nrm(25,"system-label",20),p.k0s(),p.j41(26,"div",4)(27,"div",5)(28,"div",21)(29,"system-checkbox",22),p.mxI("ngModelChange",(function(e){return p.DH7(t.properties.targetlist_create_direct,e)||(t.properties.targetlist_create_direct=e),e})),p.nrm(30,"system-label",23),p.k0s()()()()()()),2&e&&(p.R7$(9),p.R50("ngModel",t.targetList),p.R7$(6),p.R50("ngModel",t.properties.targetlist_update_action),p.R7$(14),p.R50("ngModel",t.properties.targetlist_create_direct))},dependencies:[n.xH,n.y7,n.wz,n.BC,n.vS,C.f,rs.$,M.W],encapsulation:2})}return ReportsDesignerIntegrateItemTargetList})();var ds=s(21413),cs=s(40713),ps=s(25028),us=s(88418),gs=s(83524);function ms(e,t){if(1&e&&(p.j41(0,"system-collapsable-tab",16),p.nrm(1,"object-record-fieldset",17),p.k0s()),2&e){const e=p.XpG();p.Y8G("collapsible",!1),p.R7$(),p.Y8G("fieldset",e.fieldset)}}function hs(e,t){if(1&e){const e=p.RV6();p.j41(0,"li",18),p.bIt("click",(function(){const t=p.eBV(e).$implicit,s=p.XpG();return p.Njj(s.setSelectedModule(t.name))}))("dblclick",(function(){const t=p.eBV(e).$implicit,s=p.XpG();return p.Njj(s.confirm(t.name))})),p.j41(1,"div",19),p.nrm(2,"system-icon",20),p.k0s(),p.j41(3,"div",21)(4,"p",22),p.EFF(5),p.k0s()()()}if(2&e){const e=t.$implicit,s=p.XpG();p.AVh("spice-box-is-selected",e.name==s.selectedModule),p.R7$(2),p.Y8G("module",e.name),p.R7$(2),p.Y8G("title",e.display),p.R7$(),p.SpI(" ",e.display," ")}}function bs(e,t){if(1&e){const e=p.RV6();p.j41(0,"button",23),p.bIt("click",(function(){p.eBV(e);const t=p.XpG();return p.Njj(t.confirm())})),p.nrm(1,"system-label",24),p.k0s()}if(2&e){const e=p.XpG();p.Y8G("disabled",!e.canCreate)}}let fs=(()=>{class ReportsDesignerSelectModuleModal{constructor(e,t,s,i){this.language=e,this.metadata=t,this.model=s,this.view=i,this.createmode=!1,this.moduleList=[],this.filteredModuleList=[],this.subject=new ds.B,this.response=this.subject.asObservable(),this.self={},this.reportName="",this.selectedModule="",this._searchTerm="",this.view.isEditable=!0,this.view.setEditMode(),this.view.editfieldname="name"}get searchTerm(){return this._searchTerm}set searchTerm(e){this.filteredModuleList=this.moduleList.filter((t=>t.display.toLowerCase().indexOf(e.toLowerCase())>-1||t.name.toLowerCase().indexOf(e.toLowerCase())>-1))}get disabled(){return!(this.reportName&&this.selectedModule)}ngOnInit(){this.loadModuleList();let e=this.metadata.getComponentConfig("ReportsDesignerSelectModuleModal",this.model.module);this.fieldset=e.fieldset}loadModuleList(){this.moduleList=this.metadata.getModules().map((e=>({name:e,display:this.language.getModuleName(e)}))).sort(((e,t)=>e.display>t.display?1:-1)),this.filteredModuleList=this.moduleList}setSelectedModule(e){this.selectedModule=e,this.createmode||this.confirm()}close(){this.subject.next(!1),this.subject.complete(),this.self.destroy()}confirm(e){e&&this.setSelectedModule(e),this.canCreate&&(this.subject.next({name:this.reportName,module:this.selectedModule}),this.subject.complete(),this.close())}trackByFn(e,t){return t}get canCreate(){return!this.createmode||this.model.getField("name")?.length>0}static#e=this.ɵfac=function(e){return new(e||ReportsDesignerSelectModuleModal)(p.rXU(h.B),p.rXU(b.yu),p.rXU(m.g),p.rXU(y.U))};static#t=this.ɵcmp=p.VBU({type:ReportsDesignerSelectModuleModal,selectors:[["reports-designer-select-module-modal"]],inputs:{createmode:"createmode"},decls:18,vars:10,consts:[["module","KReports",3,"close"],["module","KReports",3,"singular"],["margin","xx-small",3,"grow"],["tabtitle","LBL_DETAILS",3,"collapsible",4,"ngIf"],["tabtitle","LBL_MODULE",3,"collapsible"],[1,"slds-p-around--x-small"],[1,"slds-app-launcher__header-search","slds-p-horizontal--none"],[1,"slds-form-element"],[1,"slds-form-element__control","slds-input-has-icon","slds-input-has-icon--left"],["icon","search",3,"addclasses"],["type","search",1,"slds-input",3,"ngModel","placeholder","ngModelChange"],[1,"slds-grid","slds-grid--pull-padded","slds-p-around--xx-small","slds-wrap"],["class","slds-p-around--small slds-size--xx-small",3,"spice-box-is-selected","click","dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[1,"slds-button","slds-button--neutral",3,"click"],["label","LBL_CANCEL"],["class","slds-button slds-button--neutral",3,"disabled","click",4,"ngIf"],["tabtitle","LBL_DETAILS",3,"collapsible"],["direction","vertical",3,"fieldset"],[1,"slds-p-around--small","slds-size--xx-small",3,"click","dblclick"],[1,"slds-app-launcher__tile-figure","slds-app-launcher__tile-figure--small","slds-text-link_reset"],["size","large",3,"module"],[1,"slds-align_absolute-center","slds-p-top--xx-small"],[1,"slds-truncate","slds-text-link_reset",3,"title"],[1,"slds-button","slds-button--neutral",3,"disabled","click"],["label","LBL_NEXT"]],template:function(e,t){1&e&&(p.j41(0,"system-modal")(1,"system-modal-header",0),p.bIt("close",(function(){return t.close()})),p.nrm(2,"system-label-modulename",1),p.k0s(),p.j41(3,"system-modal-content",2),p.DNE(4,ms,2,2,"system-collapsable-tab",3),p.j41(5,"system-collapsable-tab",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),p.nrm(10,"system-utility-icon",9),p.j41(11,"input",10),p.mxI("ngModelChange",(function(e){return p.DH7(t.searchTerm,e)||(t.searchTerm=e),e})),p.k0s()()()(),p.j41(12,"ul",11),p.DNE(13,hs,6,5,"li",12),p.k0s()()()(),p.j41(14,"system-modal-footer")(15,"button",13),p.bIt("click",(function(){return t.close()})),p.nrm(16,"system-label",14),p.k0s(),p.DNE(17,bs,2,1,"button",15),p.k0s()()),2&e&&(p.R7$(2),p.Y8G("singular",!0),p.R7$(),p.Y8G("grow",!0),p.R7$(),p.Y8G("ngIf",t.createmode),p.R7$(),p.Y8G("collapsible",!1),p.R7$(5),p.Y8G("addclasses","slds-input__icon slds-input__icon--left"),p.R7$(),p.R50("ngModel",t.searchTerm),p.Y8G("placeholder",t.language.getLabel("LBL_SEARCH")),p.R7$(2),p.Y8G("ngForOf",t.filteredModuleList)("ngForTrackBy",t.trackByFn),p.R7$(4),p.Y8G("ngIf",t.createmode))},dependencies:[i.Sq,i.bT,n.me,n.BC,n.vS,P.D,z.p,j.J,M.W,F.r,cs.D,ps.I,us.Q,gs.C,G.B],encapsulation:2})}return ReportsDesignerSelectModuleModal})(),vs=(()=>{class ModuleReportsDesigner{static#e=this.ɵfac=function(e){return new(e||ModuleReportsDesigner)};static#t=this.ɵmod=p.$C({type:ModuleReportsDesigner});static#s=this.ɵinj=p.G2t({providers:[v],imports:[i.MD,n.YN,l.ObjectFields,o.ObjectComponents,r.SystemComponents,a.h,d.ad,c.ModuleReports]})}return ModuleReportsDesigner})();("undefined"==typeof ngJitMode||ngJitMode)&&p.Obh(vs,{declarations:[Mt,X,K,re,he,ke,fe,Et,St,Be,Re,Ut,Vt,Qt,ns,os,Te,Ee,as,ft,bt,Ue,pt,ee,ge,ne,fs],imports:[i.MD,n.YN,l.ObjectFields,o.ObjectComponents,r.SystemComponents,a.h,d.ad,c.ModuleReports],exports:[Mt,Et,Ut,Vt]}),p.wjB(Vt,[i.bT,z.p,Qt,ns],[])}}]);