/*
SpiceUI 2018.10.001

Copyright (c) 2016-present, aac services.k.s - All rights reserved.
Redistribution and use in source and binary forms, without modification, are permitted provided that the following conditions are met:
- Redistributions of source code must retain this copyright and license notice, this list of conditions and the following disclaimer.
- Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
- If used the SpiceCRM Logo needs to be displayed in the upper left corner of the screen in a minimum dimension of 31x31 pixels and be clearly visible, the icon needs to provide a link to http://www.spicecrm.io
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

*/

/** 
 * Â© 2015 - 2021 aac services k.s. All rights reserved.
 * release: 2021.02.001
 * date: 2021-06-24 11:36:53
 * build: 2021.02.001.1624527413323
 **/
"use strict";var __decorate=this&&this.__decorate||function(e,t,o,i){var r,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(s=(n<3?r(s):3<n?r(t,o,s):r(t,o))||s);return 3<n&&s&&Object.defineProperty(t,o,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(o,i){return function(e,t){i(e,t,o)}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DirectivesModule=exports.SystemMultiSelectCheckboxesDirective=exports.SystemPlaceholderDirective=exports.SystemTitleDirective=exports.SystemResizeDirective=exports.SystemOverlayLoadingSpinnerDirective=exports.SystemDropFile=exports.SystemViewProviderDirective=exports.SystemTrimInputDirective=exports.SystemToBottomNoScrollDirective=exports.SystemToBottomDirective=exports.SystemDropdownTriggerSimpleDirective=exports.SystemDropdownTriggerDirective=exports.SystemAutofocusDirective=exports.SystemModelProviderDirective=exports.SystemPopOverDirective=exports.SystemModelPopOverDirective=void 0;var common_1=require("@angular/common"),core_1=require("@angular/core"),router_1=require("@angular/router"),services_1=require("../services/services"),rxjs_1=require("rxjs"),SystemModelPopOverDirective=function(){function e(e,t,o,i,r,n,s,a,d){this.metadata=e,this.footer=t,this.model=o,this.navigationtab=i,this.popovermodel=r,this.elementRef=n,this.view=s,this.router=a,this.injector=d,this.enablelink=!0,this.modelPopOver=!0,this.popoverCmp=null,this.showPopoverTimeout={},this.popoverModelInitialized=!1}var t,o,i;return e.prototype.onMouseOver=function(){var e=this;!1!==this.modelPopOver&&(this.showPopoverTimeout=window.setTimeout(function(){return e.renderPopover()},1e3))},e.prototype.onMouseOut=function(){this.showPopoverTimeout&&window.clearTimeout(this.showPopoverTimeout),this.popoverCmp&&this.popoverCmp.closePopover()},e.prototype.goRelated=function(){var e,t,o=this;if(!1===this.modelPopOver||this.disableLink)return!1;this.popoverCmp&&this.popoverCmp.closePopover(),this.showPopoverTimeout&&window.clearTimeout(this.showPopoverTimeout),!this.model||!this.id||this.model.id==this.id&&this.model.module==this.module?this.model.goDetail(null===(e=this.navigationtab)||void 0===e?void 0:e.tabid):this.popoverModelInitialized?this.popovermodel.goDetail(null===(t=this.navigationtab)||void 0===t?void 0:t.tabid):this.popovermodel.getData(!0).subscribe(function(e){var t;o.popovermodel.goDetail(null===(t=o.navigationtab)||void 0===t?void 0:t.tabid)})},Object.defineProperty(e.prototype,"disableLink",{get:function(){return this.view&&!1===this.view.displayLinks||!1===this.enablelink},enumerable:!1,configurable:!0}),e.prototype.renderPopover=function(){var t=this;this.footer.footercontainer&&(this.popoverModelInitialized||(!this.model||this.model&&this.id&&(this.model.module!=this.module||this.model.id!=this.id)?this.popovermodel.getData().subscribe(function(){t.popoverModelInitialized=!0}):(this.popovermodel.module=this.model.module,this.popovermodel.id=this.model.id,this.popovermodel.initialize(),this.popovermodel.data=this.model.data,this.popoverModelInitialized=!0)),this.metadata.addComponent("ObjectModelPopover",this.footer.footercontainer,this.injector).subscribe(function(e){e.instance.parentElementRef=t.elementRef,t.popoverCmp=e.instance}))},e.prototype.ngOnChanges=function(){this.id&&this.module&&this.id!=this.popovermodel.id&&this.module!=this.popovermodel.module&&(this.popoverModelInitialized=!1,this.popovermodel.initialize(),this.popovermodel.id=this.id,this.popovermodel.module=this.module)},e.prototype.ngOnDestroy=function(){this.showPopoverTimeout&&window.clearTimeout(this.showPopoverTimeout),this.popoverCmp&&this.popoverCmp.closePopover(!0)},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"id",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"enablelink",void 0),__decorate([core_1.Input("system-model-popover"),__metadata("design:type",Boolean)],e.prototype,"modelPopOver",void 0),__decorate([core_1.HostListener("mouseenter"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],e.prototype,"onMouseOver",null),__decorate([core_1.HostListener("mouseleave"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],e.prototype,"onMouseOut",null),__decorate([core_1.HostListener("click"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],e.prototype,"goRelated",null),e=__decorate([core_1.Directive({selector:"[system-model-popover]",host:{"[class.slds-text-link_faux]":"!disableLink"},providers:[services_1.model]}),__param(2,core_1.Optional()),__param(2,core_1.SkipSelf()),__param(3,core_1.Optional()),__param(6,core_1.Optional()),__metadata("design:paramtypes",[services_1.metadata,services_1.footer,services_1.model,services_1.navigationtab,services_1.model,"function"==typeof(t=void 0!==core_1.ElementRef&&core_1.ElementRef)?t:Object,services_1.view,"function"==typeof(o=void 0!==router_1.Router&&router_1.Router)?o:Object,"function"==typeof(i=void 0!==core_1.Injector&&core_1.Injector)?i:Object])],e)}();exports.SystemModelPopOverDirective=SystemModelPopOverDirective;var SystemPopOverDirective=function(){function e(e,t,o){this.metadata=e,this.footer=t,this.elementRef=o,this.popoverCmp=null,this.showPopoverTimeout={},this._popoverSettings={injector:{},componentset:{},component:""}}var t;return Object.defineProperty(e.prototype,"popoverSettings",{set:function(e){this._popoverSettings.injector=e.injector,this._popoverSettings.componentset=e.componentset,this._popoverSettings.component=e.component},enumerable:!1,configurable:!0}),e.prototype.onMouseOver=function(){var e=this;this.showPopoverTimeout=window.setTimeout(function(){return e.renderPopover()},500)},e.prototype.onMouseOut=function(){this.showPopoverTimeout&&window.clearTimeout(this.showPopoverTimeout),this.popoverCmp&&this.popoverCmp.closePopover()},e.prototype.renderPopover=function(){var t=this;this.metadata.addComponent("SystemPopover",this.footer.footercontainer,this._popoverSettings.injector).subscribe(function(e){e.instance.parentElementRef=t.elementRef,e.instance.componentset=t._popoverSettings.componentset,t.popoverCmp=e.instance})},e.prototype.ngOnDestroy=function(){this.popoverCmp&&this.popoverCmp.closePopover(!0)},__decorate([core_1.Input("system-pop-over"),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],e.prototype,"popoverSettings",null),__decorate([core_1.HostListener("mouseenter"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],e.prototype,"onMouseOver",null),__decorate([core_1.HostListener("mouseleave"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],e.prototype,"onMouseOut",null),e=__decorate([core_1.Directive({selector:"[system-pop-over]"}),__metadata("design:paramtypes",[services_1.metadata,services_1.footer,"function"==typeof(t=void 0!==core_1.ElementRef&&core_1.ElementRef)?t:Object])],e)}();exports.SystemPopOverDirective=SystemPopOverDirective;var SystemModelProviderDirective=function(){function e(e){var t=this;this.model=e,this.data$=new core_1.EventEmitter,this.subscription=new rxjs_1.Subscription,this.model.isLoading=!0,this.subscription.add(this.model.data$.subscribe(function(e){return t.data$.next(e)}))}return Object.defineProperty(e.prototype,"provided_model",{set:function(e){this.model.module=e.module,e.id?this.model.id=e.id:e.data&&(this.model.id=e.data.id),e.data?(e.data.isNew&&this.model.initialize(),this.model.setFields(this.model.utils.backendModel2spice(e.module,e.data)),this.model.isLoading=!1,this.model.data$.next(this.model.data),e.data.acl&&this.model.initializeFieldsStati()):this.model.id?this.model.getData():this.model.initialize()},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},__decorate([core_1.Output(),__metadata("design:type",Object)],e.prototype,"data$",void 0),__decorate([core_1.Input("system-model-provider"),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],e.prototype,"provided_model",null),e=__decorate([core_1.Directive({selector:"[system-model-provider]",providers:[services_1.model]}),__metadata("design:paramtypes",[services_1.model])],e)}();exports.SystemModelProviderDirective=SystemModelProviderDirective;var SystemAutofocusDirective=function(){function e(e){this.elementRef=e}var t;return e.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){e.elementRef.nativeElement.tabIndex||(e.elementRef.nativeElement.tabIndex="-1"),e.elementRef.nativeElement.focus()})},e=__decorate([core_1.Directive({selector:"[system-autofocus]"}),__metadata("design:paramtypes",["function"==typeof(t=void 0!==core_1.ElementRef&&core_1.ElementRef)?t:Object])],e)}();exports.SystemAutofocusDirective=SystemAutofocusDirective;var SystemDropdownTriggerDirective=function(){function e(e,t,o,i){this.renderer=e,this.elementRef=t,this.footer=o,this.cdRef=i,this.dropDownOpen=!1,this.dropdowntriggerdisabled=!1}var t,o,i;return e.prototype.ngAfterViewChecked=function(){this.dropDownOpen&&this.dropdownElement&&this.setDropdownElementPosition()},e.prototype.ngOnDestroy=function(){this.removeDropdownFromFooter(),this.clickListener&&this.clickListener()},e.prototype.openDropdown=function(e){var t=this;this.setDropdownElement(),this.dropdownElement&&(this.moveDropdownToFooter(),this.resetDropdownStyles(),this.setDropdownElementPosition()),this.dropdowntriggerdisabled||(this.toggleOpenDropdown(),this.dropDownOpen?(e.preventDefault(),this.clickListener=this.renderer.listen("document","click",function(e){return t.onClick(e)})):(this.removeDropdownFromFooter(),this.clickListener()))},e.prototype.moveDropdownToFooter=function(){this.renderer.removeChild(this.elementRef.nativeElement,this.dropdownElement),this.renderer.appendChild(this.footer.footercontainer.element.nativeElement,this.dropdownElement)},e.prototype.removeDropdownFromFooter=function(){this.dropdownElement&&this.footer.footercontainer.element.nativeElement.contains(this.dropdownElement)&&this.renderer.removeChild(this.footer.footercontainer.element.nativeElement,this.dropdownElement)},e.prototype.resetDropdownStyles=function(){this.renderer.setStyle(this.dropdownElement,"transform","initial"),this.renderer.setStyle(this.dropdownElement,"right","initial"),this.renderer.setStyle(this.dropdownElement,"z-index","999999")},e.prototype.setDropdownElement=function(){if(!this.dropdownElement)for(var e=0,t=this.elementRef.nativeElement.children;e<t.length;e++){var o=t[e];if(o.classList.contains("slds-dropdown")){this.dropdownElement=o;break}}},e.prototype.toggleOpenDropdown=function(){this.dropDownOpen=!this.dropDownOpen},e.prototype.setDropdownElementPosition=function(){var e=this.elementRef.nativeElement.getBoundingClientRect(),t=this.dropdownElement.getBoundingClientRect();this.previousTriggerRect&&this.previousTriggerRect.bottom==e.bottom&&this.previousTriggerRect.right==e.right||(this.previousTriggerRect=e,this.renderer.setStyle(this.dropdownElement,"top",window.innerHeight-e.bottom<100?Math.abs(e.bottom-t.height)+"px":e.bottom+"px"),this.renderer.setStyle(this.dropdownElement,"left",Math.abs(e.right-t.width)+"px"),this.cdRef.markForCheck())},e.prototype.onClick=function(e){this.elementRef.nativeElement.contains(e.target)||(this.dropDownOpen=!1,this.removeDropdownFromFooter(),this.renderer.appendChild(this.elementRef.nativeElement,this.dropdownElement),this.clickListener(),this.cdRef.markForCheck())},__decorate([core_1.HostBinding("class.slds-is-open"),__metadata("design:type",Boolean)],e.prototype,"dropDownOpen",void 0),__decorate([core_1.Input("system-dropdown-trigger"),__metadata("design:type",Boolean)],e.prototype,"dropdowntriggerdisabled",void 0),__decorate([core_1.HostListener("click",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],e.prototype,"openDropdown",null),e=__decorate([core_1.Directive({selector:"[system-dropdown-trigger]"}),__metadata("design:paramtypes",["function"==typeof(t=void 0!==core_1.Renderer2&&core_1.Renderer2)?t:Object,"function"==typeof(o=void 0!==core_1.ElementRef&&core_1.ElementRef)?o:Object,services_1.footer,"function"==typeof(i=void 0!==core_1.ChangeDetectorRef&&core_1.ChangeDetectorRef)?i:Object])],e)}();exports.SystemDropdownTriggerDirective=SystemDropdownTriggerDirective;var SystemDropdownTriggerSimpleDirective=function(){function e(e,t,o){this.renderer=e,this.cdRef=t,this.elementRef=o,this.dropdowntriggerdisabled=!1,this.dropDownOpen=!1}var t,o,i;return e.prototype.openDropdown=function(e){var t=this;this.dropdowntriggerdisabled?(this.dropDownOpen=!1,this.clickListener&&this.clickListener(),this.cdRef.detectChanges()):(this.dropDownOpen=!this.dropDownOpen,this.dropDownOpen?(e.preventDefault(),this.clickListener=this.renderer.listen("document","click",function(e){return t.onClick(e)})):this.clickListener())},e.prototype.onClick=function(e){this.elementRef.nativeElement.contains(e.target)||(this.dropDownOpen=!1,this.cdRef.detectChanges(),this.clickListener())},e.prototype.ngOnDestroy=function(){this.clickListener&&this.clickListener()},__decorate([core_1.Input("system-dropdown-trigger-simple"),__metadata("design:type",Boolean)],e.prototype,"dropdowntriggerdisabled",void 0),__decorate([core_1.HostBinding("class.slds-is-open"),__metadata("design:type",Boolean)],e.prototype,"dropDownOpen",void 0),__decorate([core_1.HostListener("click",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],e.prototype,"openDropdown",null),e=__decorate([core_1.Directive({selector:"[system-dropdown-trigger-simple]"}),__metadata("design:paramtypes",["function"==typeof(t=void 0!==core_1.Renderer2&&core_1.Renderer2)?t:Object,"function"==typeof(o=void 0!==core_1.ChangeDetectorRef&&core_1.ChangeDetectorRef)?o:Object,"function"==typeof(i=void 0!==core_1.ElementRef&&core_1.ElementRef)?i:Object])],e)}();exports.SystemDropdownTriggerSimpleDirective=SystemDropdownTriggerSimpleDirective;var SystemToBottomDirective=function(){function e(e,t,o){this.element=e,this.renderer=t,this.footer=o,this.more=new core_1.EventEmitter,this.marginBottom=0,this.elementClass=!0}var t,o,i;return e.prototype.ngDoCheck=function(){var e=this.element.nativeElement.getBoundingClientRect(),t=Math.floor(window.innerHeight-e.top-this.marginBottom-parseInt(getComputedStyle(this.element.nativeElement).marginBottom,10)-parseInt(getComputedStyle(this.element.nativeElement).paddingBottom,10)-this.footer.visibleFooterHeight);this.renderer.setStyle(this.element.nativeElement,"height",t+"px")},e.prototype.onScroll=function(e){var t=this.element.nativeElement;t.scrollTop+t.clientHeight+50>t.scrollHeight&&this.more.emit(!0)},__decorate([core_1.Output("system-to-bottom"),__metadata("design:type","function"==typeof(t=void 0!==core_1.EventEmitter&&core_1.EventEmitter)?t:Object)],e.prototype,"more",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"marginBottom",void 0),__decorate([core_1.HostBinding("class.slds-scrollable--y"),__metadata("design:type",Object)],e.prototype,"elementClass",void 0),__decorate([core_1.HostListener("scroll",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],e.prototype,"onScroll",null),e=__decorate([core_1.Directive({selector:"[system-to-bottom]"}),__metadata("design:paramtypes",["function"==typeof(o=void 0!==core_1.ElementRef&&core_1.ElementRef)?o:Object,"function"==typeof(i=void 0!==core_1.Renderer2&&core_1.Renderer2)?i:Object,services_1.footer])],e)}();exports.SystemToBottomDirective=SystemToBottomDirective;var SystemToBottomNoScrollDirective=function(){function e(e,t,o){this.element=e,this.renderer=t,this.footer=o,this.toBottomNoScroll=!0}var t,o;return e.prototype.ngDoCheck=function(){if(!1!==this.toBottomNoScroll){var e=this.element.nativeElement.getBoundingClientRect(),t=Math.floor(window.innerHeight-e.top-parseInt(getComputedStyle(this.element.nativeElement).marginBottom,10)-parseInt(getComputedStyle(this.element.nativeElement).paddingBottom,10)-this.footer.visibleFooterHeight);this.renderer.setStyle(this.element.nativeElement,"height",t+"px")}},__decorate([core_1.Input("system-to-bottom-noscroll"),__metadata("design:type",Boolean)],e.prototype,"toBottomNoScroll",void 0),e=__decorate([core_1.Directive({selector:"[system-to-bottom-noscroll]"}),__metadata("design:paramtypes",["function"==typeof(t=void 0!==core_1.ElementRef&&core_1.ElementRef)?t:Object,"function"==typeof(o=void 0!==core_1.Renderer2&&core_1.Renderer2)?o:Object,services_1.footer])],e)}();exports.SystemToBottomNoScrollDirective=SystemToBottomNoScrollDirective;var SystemTrimInputDirective=function(){function e(){}return e.prototype.getCaret=function(e){return{start:e.selectionStart,end:e.selectionEnd}},e.prototype.setCaret=function(e,t,o){e.selectionStart=t,e.selectionEnd=o,e.focus()},e.prototype.dispatchEvent=function(e,t){var o=document.createEvent("Event");o.initEvent(t,!1,!1),e.dispatchEvent(o)},e.prototype.trimValue=function(e,t){e.value=t.trim(),this.dispatchEvent(e,"input")},e.prototype.onBlur=function(e,t){this.trim&&"blur"!==this.trim||"function"!=typeof t.trim||t.trim()===t||(this.trimValue(e,t),this.dispatchEvent(e,"blur"))},__decorate([core_1.Input("system-trim-input"),__metadata("design:type",String)],e.prototype,"trim",void 0),__decorate([core_1.HostListener("blur",["$event.target","$event.target.value"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object,String]),__metadata("design:returntype",void 0)],e.prototype,"onBlur",null),e=__decorate([core_1.Directive({selector:"input[system-trim-input], textarea[system-trim-input]"})],e)}();exports.SystemTrimInputDirective=SystemTrimInputDirective;var SystemViewProviderDirective=function(){function e(e,t,o){this.renderer=e,this.elementRef=t,this.view=o}var t,o;return Object.defineProperty(e.prototype,"viewSettings",{set:function(e){e.editable&&(this.view.isEditable=!0),!1===e.displayLabels&&(this.view.displayLabels=!1)},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;this.setviewSize(),this.resizeHandler=this.renderer.listen("window","resize",function(){return e.setviewSize()})},e.prototype.ngOnDestroy=function(){this.resizeHandler&&this.resizeHandler()},e.prototype.setviewSize=function(){this.elementRef.nativeElement.getBoundingClientRect().width<500?this.view.size="small":this.view.size="regular"},__decorate([core_1.Input("system-view-provider"),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],e.prototype,"viewSettings",null),e=__decorate([core_1.Directive({selector:"[system-view-provider]",providers:[services_1.view]}),__metadata("design:paramtypes",["function"==typeof(t=void 0!==core_1.Renderer2&&core_1.Renderer2)?t:Object,"function"==typeof(o=void 0!==core_1.ElementRef&&core_1.ElementRef)?o:Object,services_1.view])],e)}();exports.SystemViewProviderDirective=SystemViewProviderDirective;var SystemDropFile=function(){function e(e,t,o){this.renderer=e,this.elementRef=t,this.language=o,this.filesDrop=new core_1.EventEmitter,this.dragDepth=0,this.defineOverlayElement(),this.listenWindowEvents()}var t,o,i;return e.prototype.ngOnChanges=function(){this.renderer.setProperty(this.overlayElement,"textContent",this.dropMessage)},e.prototype.ngOnDestroy=function(){this.dragStartListener(),this.dragEnterListener(),this.dragOverListener(),this.dragLeaveListener(),this.dragEndListener(),this.dragDropListener(),this.dragGlobalDropListener()},e.prototype.defineOverlayElement=function(){this.overlayElement=this.renderer.createElement("div"),this.renderer.setStyle(this.overlayElement,"height","100%"),this.renderer.setStyle(this.overlayElement,"width","100%"),this.renderer.setStyle(this.overlayElement,"top","0"),this.renderer.setStyle(this.overlayElement,"left","0"),this.renderer.setStyle(this.overlayElement,"position","absolute"),this.renderer.setStyle(this.overlayElement,"background","rgba(135,135,135,0.8)"),this.renderer.setStyle(this.overlayElement,"color","#fff"),this.renderer.setStyle(this.overlayElement,"border","dashed 2px #fff"),this.renderer.setProperty(this.overlayElement,"textContent",this.language.getLabel("LBL_DROP_FILES")),this.renderer.addClass(this.overlayElement,"slds-align--absolute-center"),this.renderer.addClass(this.elementRef.nativeElement,"slds-is-relative")},e.prototype.listenWindowEvents=function(){var t=this;this.dragStartListener=this.renderer.listen("window","dragstart",function(){t.dragDepth=-10}),this.dragEnterListener=this.renderer.listen("window","dragenter",function(){t.dragDepth++,1==t.dragDepth&&t.renderer.appendChild(t.elementRef.nativeElement,t.overlayElement)}),this.dragOverListener=this.renderer.listen(this.overlayElement,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"}),this.dragLeaveListener=this.renderer.listen("window","dragleave",function(){t.dragDepth--,0==t.dragDepth&&t.renderer.removeChild(t.elementRef.nativeElement,t.overlayElement)}),this.dragEndListener=this.renderer.listen("window","dragend",function(){t.dragDepth=0,t.renderer.removeChild(t.elementRef.nativeElement,t.overlayElement)}),this.dragDropListener=this.renderer.listen(this.overlayElement,"drop",function(e){(t.dragDepth=0)<e.dataTransfer.files.length&&t.filesDrop.emit(e.dataTransfer.files),t.renderer.removeChild(t.elementRef.nativeElement,t.overlayElement)}),this.dragGlobalDropListener=this.renderer.listen("window","drop",function(e){t.dragDepth=0,t.renderer.removeChild(t.elementRef.nativeElement,t.overlayElement)})},e.prototype.hasOneItemsFile=function(e){for(var t=0,o=e;t<o.length;t++){if("file"==o[t].kind)return!0}return!1},__decorate([core_1.Output("system-drop-file"),__metadata("design:type","function"==typeof(t=void 0!==core_1.EventEmitter&&core_1.EventEmitter)?t:Object)],e.prototype,"filesDrop",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"dropMessage",void 0),e=__decorate([core_1.Directive({selector:"[system-drop-file]"}),__metadata("design:paramtypes",["function"==typeof(o=void 0!==core_1.Renderer2&&core_1.Renderer2)?o:Object,"function"==typeof(i=void 0!==core_1.ElementRef&&core_1.ElementRef)?i:Object,services_1.language])],e)}();exports.SystemDropFile=SystemDropFile;var SystemOverlayLoadingSpinnerDirective=function(){function e(e,t){this.renderer=e,this.elementRef=t,this.defineOverlayElement()}var t,o;return Object.defineProperty(e.prototype,"isLoading",{set:function(e){e?this.renderer.appendChild(this.elementRef.nativeElement,this.overlayElement):this.renderer.removeChild(this.elementRef.nativeElement,this.overlayElement)},enumerable:!1,configurable:!0}),e.prototype.defineOverlayElement=function(){this.overlayElement=this.renderer.createElement("div"),this.renderer.setStyle(this.overlayElement,"position","absolute"),this.renderer.addClass(this.overlayElement,"slds-align--absolute-center"),this.renderer.setStyle(this.overlayElement,"height","100%"),this.renderer.setStyle(this.overlayElement,"width","100%"),this.renderer.setStyle(this.overlayElement,"z-index","999"),this.renderer.setStyle(this.overlayElement,"top","0"),this.renderer.setStyle(this.overlayElement,"left","0");var e=this.renderer.createElement("div");this.renderer.setProperty(this.overlayElement,"innerHTML",'\n            <div style="border-radius: 50%; box-shadow: 0 0 5px 0 #555; padding:.75rem; background-color:#fff; color:#080707">\n                <div class="cssload-container">\n                    <div class="cssload-double-torus"></div>\n                </div>\n            </div>\n        '),this.renderer.appendChild(this.elementRef.nativeElement,e),this.renderer.addClass(this.elementRef.nativeElement,"slds-is-relative")},__decorate([core_1.Input("system-overlay-loading-spinner"),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],e.prototype,"isLoading",null),e=__decorate([core_1.Directive({selector:"[system-overlay-loading-spinner]"}),__metadata("design:paramtypes",["function"==typeof(t=void 0!==core_1.Renderer2&&core_1.Renderer2)?t:Object,"function"==typeof(o=void 0!==core_1.ElementRef&&core_1.ElementRef)?o:Object])],e)}();exports.SystemOverlayLoadingSpinnerDirective=SystemOverlayLoadingSpinnerDirective;var SystemResizeDirective=function(){function e(e,t){this.elementRef=e,this.renderer=t,this.resizeemitter=new core_1.EventEmitter}var t,o,i;return e.prototype.ngOnDestroy=function(){this.mouseListener&&this.mouseListener()},e.prototype.onMouseDown=function(e){var t=this,o=this.elementRef.nativeElement.getClientRects()[0];this.elementWidth=o.width,this.elementHeight=o.height,this.mouseListener=this.renderer.listen("document","mouseup",function(e){t.onMouseup()})},e.prototype.onMouseup=function(){if(this.elementWidth&&this.elementWidth){var e=this.elementRef.nativeElement.getClientRects()[0];(this.elementWidth&&e.width!=this.elementWidth||this.elementHeight&&e.height!=this.elementHeight)&&this.resizeemitter.emit({width:e.width,height:e.height,id:this.resizeid}),this.elementWidth=void 0,this.elementHeight=void 0,this.mouseListener(),this.mouseListener=void 0}},e.prototype.getElementWidth=function(){return this.elementRef.nativeElement.getClientRects()[0].width},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"resizeid",void 0),__decorate([core_1.Output("system-resize"),__metadata("design:type","function"==typeof(t=void 0!==core_1.EventEmitter&&core_1.EventEmitter)?t:Object)],e.prototype,"resizeemitter",void 0),__decorate([core_1.HostListener("mousedown",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],e.prototype,"onMouseDown",null),e=__decorate([core_1.Directive({selector:"[system-resize]"}),__metadata("design:paramtypes",["function"==typeof(o=void 0!==core_1.ElementRef&&core_1.ElementRef)?o:Object,"function"==typeof(i=void 0!==core_1.Renderer2&&core_1.Renderer2)?i:Object])],e)}();exports.SystemResizeDirective=SystemResizeDirective;var SystemTitleDirective=function(){function e(e,t){this.language=e,this.elementRef=t,this.subscription=new rxjs_1.Subscription,this.subscribeToCurrentLanguageChange()}var t;return e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.ngOnChanges=function(e){e.label.previousValue!==e.label.currentValue&&e.label.currentValue&&this.setElementTitleAttribute()},e.prototype.subscribeToCurrentLanguageChange=function(){var e=this;this.subscription=this.language.currentlanguage$.subscribe(function(){return e.setElementTitleAttribute()})},e.prototype.setElementTitleAttribute=function(){this.elementRef.nativeElement.setAttribute("title",this.language.getLabel(this.label))},__decorate([core_1.Input("system-title"),__metadata("design:type",String)],e.prototype,"label",void 0),e=__decorate([core_1.Directive({selector:"[system-title]"}),__metadata("design:paramtypes",[services_1.language,"function"==typeof(t=void 0!==core_1.ElementRef&&core_1.ElementRef)?t:Object])],e)}();exports.SystemTitleDirective=SystemTitleDirective;var SystemPlaceholderDirective=function(){function e(e,t){this.language=e,this.elementRef=t,this.subscription=new rxjs_1.Subscription,this.subscribeToCurrentLanguageChange()}var t;return e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.ngOnChanges=function(e){e.label.previousValue!==e.label.currentValue&&e.label.currentValue&&this.setElementTitleAttribute()},e.prototype.subscribeToCurrentLanguageChange=function(){var e=this;this.subscription=this.language.currentlanguage$.subscribe(function(){return e.setElementTitleAttribute()})},e.prototype.setElementTitleAttribute=function(){this.label?this.elementRef.nativeElement.setAttribute("placeholder",this.language.getLabel(this.label)):this.elementRef.nativeElement.setAttribute("placeholder","")},__decorate([core_1.Input("system-placeholder"),__metadata("design:type",String)],e.prototype,"label",void 0),e=__decorate([core_1.Directive({selector:"[system-placeholder]"}),__metadata("design:paramtypes",[services_1.language,"function"==typeof(t=void 0!==core_1.ElementRef&&core_1.ElementRef)?t:Object])],e)}();exports.SystemPlaceholderDirective=SystemPlaceholderDirective;var SystemMultiSelectCheckboxesDirective=function(){function e(e){this.elementRef=e}var t;return e.prototype.ngAfterViewInit=function(){var d=this;this.allLabels=[];for(var e=this.elementRef.nativeElement.getElementsByTagName("label"),t=function(a){a.classList.contains("slds-checkbox__label")&&(o.allLabels.push(a),a.addEventListener("click",function(e){if(d.lastChecked){if(e.shiftKey){for(var t=d.allLabels.indexOf(a),o=d.allLabels.indexOf(d.lastChecked),i=Math.min(t,o),r=Math.max(t,o),n=d.lastChecked.parentElement.getElementsByTagName("input")[0].checked,s=i;s<=r;s++)d.allLabels[s].parentElement.getElementsByTagName("input")[0].checked=n,d.allLabels[s].parentElement.getElementsByTagName("input")[0].dispatchEvent(new Event("change"));e.preventDefault()}d.lastChecked=a}else d.lastChecked=a}))},o=this,i=0,r=e;i<r.length;i++){t(r[i])}},e=__decorate([core_1.Directive({selector:"[system-multi-select-checkboxes]"}),__metadata("design:paramtypes",["function"==typeof(t=void 0!==core_1.ElementRef&&core_1.ElementRef)?t:Object])],e)}();exports.SystemMultiSelectCheckboxesDirective=SystemMultiSelectCheckboxesDirective;var DirectivesModule=function(){function e(){}return e=__decorate([core_1.NgModule({imports:[common_1.CommonModule],declarations:[SystemModelPopOverDirective,SystemPopOverDirective,SystemModelProviderDirective,SystemAutofocusDirective,SystemDropdownTriggerDirective,SystemDropdownTriggerSimpleDirective,SystemToBottomDirective,SystemToBottomNoScrollDirective,SystemTrimInputDirective,SystemViewProviderDirective,SystemDropFile,SystemOverlayLoadingSpinnerDirective,SystemResizeDirective,SystemPlaceholderDirective,SystemTitleDirective,SystemMultiSelectCheckboxesDirective],exports:[SystemModelPopOverDirective,SystemPopOverDirective,SystemModelProviderDirective,SystemAutofocusDirective,SystemDropdownTriggerDirective,SystemDropdownTriggerSimpleDirective,SystemToBottomDirective,SystemToBottomNoScrollDirective,SystemTrimInputDirective,SystemViewProviderDirective,SystemDropFile,SystemOverlayLoadingSpinnerDirective,SystemResizeDirective,SystemPlaceholderDirective,SystemTitleDirective,SystemMultiSelectCheckboxesDirective]})],e)}();exports.DirectivesModule=DirectivesModule;