/*!
 * 
 *                     SpiceCRM
 *
 *                     release: 2024.01.001
 *
 *                     date: 2024-06-07 18:47:00
 *
 *                     build: 2024.01.001.1717778820753
 *
 */
"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([["src_modules_leads_moduleleads_ts"],{95917:(t,e,s)=>{s.r(e),s.d(e,{ModuleLeads:()=>Gt});var i=s(60177),n=s(84341),l=s(7745),o=s(12948),d=s(37328),a=s(70569),c=s(71341),r=s(54438),m=s(69904),u=s(35911),h=s(57363),p=s(41081),b=s(50531),g=s(66031),v=s(32062);let f=(()=>{class LeadConvertButton{constructor(t,e,s,i,n,l,o){this.injector=t,this.language=e,this.model=s,this.router=i,this.toast=n,this.modal=l,this.navigationtab=o}execute(){if("Converted"===this.model.getField("status"))this.toast.sendToast("Lead already Converted","warning");else if(this.model.getFieldValue("account_id"))this.modal.openModal("LeadConvertOpportunityModal",!0,this.injector);else if("b2c"==this.model.getField("lead_type"))this.modal.openModal("LeadConvertConsumerModal",!0,this.injector);else{let t="";this.navigationtab?.tabid&&(t="/tab/"+this.navigationtab.tabid),this.router.navigate([`${t}/module/Leads/${this.model.id}/convert`])}}get disabled(){return"Converted"===this.model.getFieldValue("status")||!this.model.checkAccess("edit")}static#t=this.ɵfac=function(t){return new(t||LeadConvertButton)(r.rXU(r.zZn),r.rXU(m.B),r.rXU(u.g),r.rXU(h.Ix),r.rXU(p.o),r.rXU(b.y),r.rXU(g._,8))};static#e=this.ɵcmp=r.VBU({type:LeadConvertButton,selectors:[["lead-convert-button"]],decls:2,vars:0,consts:[["label","LBL_CONVERT_LEAD"]],template:function(t,e){1&t&&(r.j41(0,"span"),r.nrm(1,"system-label",0),r.k0s())},dependencies:[v.W],encapsulation:2})}return LeadConvertButton})();var _=s(40713),y=s(25028),C=s(83524),L=s(18521);function k(t,e){if(1&t&&(r.j41(0,"div",2)(1,"div",3),r.nrm(2,"system-label",4),r.k0s(),r.j41(3,"div"),r.nrm(4,"system-utility-icon",5),r.k0s()()),2&t){const t=e.$implicit,s=r.XpG();r.R7$(2),r.Y8G("label",t.label),r.R7$(2),r.Y8G("icon",s.getStatusIcon(t.status))}}let R=(()=>{class LeadConvertModal{constructor(t){this.language=t,this.saveactions=[],this.completed=new r.bkB}ngOnInit(){this.processConvertActions()}getStatusIcon(t){switch(t){case"initial":return"clock";case"completed":return"check"}}processConvertActions(){let t="";this.saveactions.some((e=>{if("initial"===e.status)return t=e,!0})),t?this.processConvertAction(t):(this.completed.emit(!0),this.self.destroy())}processConvertAction(t){t.model.save().subscribe((e=>{this.completeConvertAction(t.action)}))}completeConvertAction(t){this.saveactions.find((e=>e.action===t)).status="completed",this.processConvertActions()}static#t=this.ɵfac=function(t){return new(t||LeadConvertModal)(r.rXU(m.B))};static#e=this.ɵcmp=r.VBU({type:LeadConvertModal,selectors:[["lead-convert-modal"]],inputs:{saveactions:"saveactions"},outputs:{completed:"completed"},decls:5,vars:1,consts:[["label","LBL_CONVERT_LEAD"],["class","slds-grid slds-grid--align-spread slds-p-vertical--small slds-has-divider--bottom",4,"ngFor","ngForOf"],[1,"slds-grid","slds-grid--align-spread","slds-p-vertical--small","slds-has-divider--bottom"],[1,"slds-truncate"],[3,"label"],["size","x-small",3,"icon"]],template:function(t,e){1&t&&(r.j41(0,"system-modal")(1,"system-modal-header"),r.nrm(2,"system-label",0),r.k0s(),r.j41(3,"system-modal-content"),r.DNE(4,k,5,2,"div",1),r.k0s()()),2&t&&(r.R7$(4),r.Y8G("ngForOf",e.saveactions))},dependencies:[i.Sq,v.W,_.D,y.I,C.C,L.B],encapsulation:2})}return LeadConvertModal})();var U=s(41731),j=s(83935),E=s(25863),F=s(68823),O=s(44985),B=s(28933),G=s(32130),w=s(15091),X=s(58461),I=s(98427),S=s(37263),N=s(45915);function M(t,e){if(1&t&&(r.qex(0),r.j41(1,"dt",13)(2,"span",14),r.nrm(3,"system-label-fieldname",15),r.k0s()(),r.j41(4,"dd",16),r.nrm(5,"field-container",17),r.k0s(),r.bVm()),2&t){const t=e.$implicit,s=r.XpG();r.R7$(3),r.Y8G("module",s.model.module)("field",t.field),r.R7$(2),r.Y8G("field",t.field)("fieldconfig",t.fieldconfig)("fielddisplayclass","slds-truncate")}}let A=(()=>{class LeadConvertItemDuplicate{constructor(t,e,s){this.view=t,this.model=e,this.metadata=s,this.itemselected=new r.bkB,this.view.isEditable=!1,this.view.displayLabels=!1}ngOnInit(){let t=this.metadata.getComponentConfig("ObjectRelatedDuplicateTile",this.model.module);this.fieldset=t.fieldset}getFields(){return this.metadata.getFieldSetFields(this.fieldset)}useaccount(){this.itemselected.emit(this.model.data)}static#t=this.ɵfac=function(t){return new(t||LeadConvertItemDuplicate)(r.rXU(U.U),r.rXU(u.g),r.rXU(j.yu))};static#e=this.ɵcmp=r.VBU({type:LeadConvertItemDuplicate,selectors:[["lead-convert-item-duplicate"]],outputs:{itemselected:"itemselected"},features:[r.Jv_([U.U])],decls:15,vars:4,consts:[[1,"slds-tile","slds-box--border","slds-theme--default","slds-m-bottom--x-small"],[1,"slds-media","slds-card__tile","slds-p-horizontal--small","slds-hint-parent"],[3,"module","size"],[1,"slds-media__body"],[1,"slds-grid","slds-grid--align-spread","slds-has-flexi-truncate"],[1,"slds-truncate","slds-text-heading--small","slds-m-bottom--small"],[1,"slds-tile__detail","slds-text-body--small"],[1,"slds-dl--horizontal"],[4,"ngFor","ngForOf"],[1,"slds-p-around--x-small","slds-text-align--right"],[1,"slds-button","slds-button--neutral",3,"click"],["icon","check"],["label","LBL_USE",1,"slds-p-left--xx-small"],[1,"slds-dl--horizontal__label","slds-truncate"],[1,"slds-truncate"],[3,"module","field"],[1,"slds-dl--horizontal__detail","slds-tile__meta"],[3,"field","fieldconfig","fielddisplayclass"]],template:function(t,e){1&t&&(r.j41(0,"div",0)(1,"div",1),r.nrm(2,"system-icon",2),r.j41(3,"div",3)(4,"div",4)(5,"h3",5)(6,"span"),r.EFF(7),r.k0s()()(),r.j41(8,"div",6)(9,"dl",7),r.DNE(10,M,6,5,"ng-container",8),r.k0s()()()(),r.j41(11,"div",9)(12,"button",10),r.bIt("click",(function(){return e.useaccount()})),r.nrm(13,"system-button-icon",11)(14,"system-label",12),r.k0s()()()),2&t&&(r.R7$(2),r.Y8G("module",e.model.module)("size","small"),r.R7$(5),r.JRh(e.model.data.summary_text),r.R7$(3),r.Y8G("ngForOf",e.getFields()))},dependencies:[i.Sq,w.y,E.t,F.J,v.W,N.P],encapsulation:2})}return LeadConvertItemDuplicate})();const D=["detailcontainer"];function $(t,e){if(1&t){const t=r.RV6();r.j41(0,"div",7)(1,"div",8),r.nrm(2,"system-label",9),r.k0s(),r.j41(3,"div",10)(4,"span",11),r.nrm(5,"system-icon",12),r.k0s(),r.j41(6,"a",13),r.nrm(7,"field-container",14),r.k0s(),r.j41(8,"button",15)(9,"system-button-icon",16),r.bIt("click",(function(){r.eBV(t);const e=r.XpG(2);return r.Njj(e.unlinkContact())})),r.k0s()()()()}if(2&t){const t=r.XpG(2);r.R7$(5),r.Y8G("module",t.model.module),r.R7$(4),r.Y8G("icon","clear")}}const T=()=>({displayLabels:!1,editable:!1});function x(t,e){if(1&t&&(r.j41(0,"div",5),r.DNE(1,$,10,2,"div",6),r.k0s()),2&t){const t=r.XpG();r.Y8G("system-view-provider",r.lJ4(2,T)),r.R7$(),r.Y8G("ngIf",t.selectedContact)}}const Y=(t,e)=>({module:t,data:e});function V(t,e){if(1&t){const t=r.RV6();r.j41(0,"lead-convert-item-duplicate",22),r.bIt("itemselected",(function(e){r.eBV(t);const s=r.XpG(2);return r.Njj(s.selectContact(e))})),r.k0s()}if(2&t){const t=e.$implicit,s=r.XpG(2);r.Y8G("system-model-provider",r.l_i(1,Y,s.model.module,t))}}function z(t,e){1&t&&(r.j41(0,"div",23)(1,"system-illustration-no-records"),r.nrm(2,"system-label",24),r.k0s()())}function J(t,e){if(1&t&&(r.j41(0,"div",17)(1,"h2",18),r.nrm(2,"system-label",19),r.k0s(),r.DNE(3,V,1,4,"lead-convert-item-duplicate",20)(4,z,3,0,"div",21),r.k0s()),2&t){const t=r.XpG();r.Y8G("system-overlay-loading-spinner",t.model.duplicateChecking),r.R7$(3),r.Y8G("ngForOf",t.model.duplicates),r.R7$(),r.Y8G("ngIf",!t.model.duplicateChecking&&0==t.model.duplicates.length)}}let P=(()=>{class LeadConvertContact{constructor(t,e,s,i){this.view=t,this.metadata=e,this.lead=s,this.model=i,this.contact=new r.bkB,this.selectedContact=void 0,this.componentconfig={},this.componentRefs=[],this.view.isEditable=!0,this.view.setEditMode()}ngOnInit(){this.initializeFromLead()}ngAfterViewInit(){this.buildContainer()}initializeFromLead(){this.model.module="Contacts",this.model.id=null,this.model.isNew=!0,this.model.initialize(this.lead),this.lead.getField("email1")&&this.model.initializeField("email_addresses",{beans:[{id:this.model.generateGuid(),bean_id:this.model.id,bean_module:this.model.module,email_address:this.lead.getField("email1"),email_address_caps:this.lead.getField("email1").toUpperCase(),email_address_id:"",primary_address:"1"}]}),this.lead.data$.subscribe((t=>{this.selectedContact||t.account_id==this.model.getField("account_id")&&t.account_linked_name==this.model.getField("account_linked_name")||(this.model.setFields({account_id:t.account_id,account_name:t.account_linked_name}),this.model.initializeField("accounts",{beans:[{id:this.model.getField("account_id")}]}))})),this.model.data$.subscribe((t=>{this.lead.getField("contact_id")!=t.id&&this.lead.setFields({contact_id:t.id})})),this.contact.emit(this.model)}buildContainer(){for(let t of this.componentRefs)t.destroy();let t=this.metadata.getComponentConfig("ObjectRecordDetails",this.model.module);for(let e of this.metadata.getComponentSetObjects(t.componentset))this.metadata.addComponent(e.component,this.detailcontainer).subscribe((t=>{t.instance.componentconfig=e.componentconfig,this.componentRefs.push(t)}))}selectContact(t){this.selectedContact=t,this.model.id=t.id,this.model.isNew=!1,this.model.setData(t),this.view.isEditable=!1,this.contact.emit(this.model)}unlinkContact(){this.selectedContact=void 0,this.view.isEditable=!0,this.buildContainer(),this.initializeFromLead()}static#t=this.ɵfac=function(t){return new(t||LeadConvertContact)(r.rXU(U.U),r.rXU(j.yu),r.rXU(u.g,4),r.rXU(u.g))};static#e=this.ɵcmp=r.VBU({type:LeadConvertContact,selectors:[["lead-convert-contact"]],viewQuery:function(t,e){if(1&t&&r.GBs(D,7,r.c1b),2&t){let t;r.mGM(t=r.lsd())&&(e.detailcontainer=t.first)}},outputs:{contact:"contact"},features:[r.Jv_([U.U,u.g])],decls:6,vars:2,consts:[["class","slds-theme--shade slds-p-around--small slds-border--bottom slds-grid",3,"system-view-provider",4,"ngIf"],[1,"slds-grid","slds-gutters_direct-x-small","slds-p-horizontal--x-small"],[1,"slds-col","slds-grow"],["detailcontainer",""],["class","slds-col slds-size--1-of-3 slds-border--left slds-theme--shade","system-to-bottom","",3,"system-overlay-loading-spinner",4,"ngIf"],[1,"slds-theme--shade","slds-p-around--small","slds-border--bottom","slds-grid",3,"system-view-provider"],["class","slds-col_bump-left slds-grid slds-grid--vertical-align-center",4,"ngIf"],[1,"slds-col_bump-left","slds-grid","slds-grid--vertical-align-center"],[1,"slds-m-right--x-small"],["label","LBL_CONTACT"],[1,"slds-pill"],[1,"slds-icon_container","slds-icon-standard-account","slds-pill__icon_container"],[3,"module"],["href","javascript:void(0);",1,"slds-pill__label"],["fielddisplayclass","slds-truncate","fieldname","full_name"],["title","Remove",1,"slds-button","slds-button--icon","slds-pill__remove"],[3,"icon","click"],["system-to-bottom","",1,"slds-col","slds-size--1-of-3","slds-border--left","slds-theme--shade",3,"system-overlay-loading-spinner"],[1,"slds-text-heading_small","slds-p-around--small"],["label","LBL_DUPLICATES"],["class","slds-size--1-of-1",3,"system-model-provider","itemselected",4,"ngFor","ngForOf"],["class","slds-height_full slds-align--absolute-center",4,"ngIf"],[1,"slds-size--1-of-1",3,"system-model-provider","itemselected"],[1,"slds-height_full","slds-align--absolute-center"],["label","LBL_NO_DUPLICATES_FOUND"]],template:function(t,e){1&t&&(r.DNE(0,x,2,3,"div",0),r.j41(1,"div",1)(2,"div",2),r.nrm(3,"div",null,3),r.k0s(),r.DNE(5,J,5,3,"div",4),r.k0s()),2&t&&(r.Y8G("ngIf",e.selectedContact),r.R7$(5),r.Y8G("ngIf",e.view.isEditable))},dependencies:[i.Sq,i.bT,w.y,E.t,F.J,X.b,v.W,I.v,B.b,S.x,G.M,A],encapsulation:2})}return LeadConvertContact})();var W=s(92462),q=s(65029);const Q=["detailcontainer"];function Z(t,e){if(1&t){const t=r.RV6();r.j41(0,"div",14)(1,"div",15),r.nrm(2,"system-label",16),r.k0s(),r.j41(3,"div",17)(4,"span",18),r.nrm(5,"system-icon",19),r.k0s(),r.j41(6,"a",20),r.EFF(7),r.k0s(),r.j41(8,"button",21)(9,"system-button-icon",22),r.bIt("click",(function(){r.eBV(t);const e=r.XpG();return r.Njj(e.unlinkAccount())})),r.k0s()()()()}if(2&t){const t=r.XpG();r.R7$(5),r.Y8G("module",t.model.module),r.R7$(2),r.Lme("",t.selectedAccount.name,", ",t.selectedAccount.billing_address_city,""),r.R7$(2),r.Y8G("icon","clear")}}const H=(t,e)=>({module:t,data:e});function K(t,e){if(1&t){const t=r.RV6();r.j41(0,"lead-convert-item-duplicate",28),r.bIt("itemselected",(function(e){r.eBV(t);const s=r.XpG(2);return r.Njj(s.selectAccount(e))})),r.k0s()}if(2&t){const t=e.$implicit,s=r.XpG(2);r.Y8G("system-model-provider",r.l_i(1,H,s.model.module,t))}}function tt(t,e){1&t&&(r.j41(0,"div",29)(1,"system-illustration-no-records"),r.nrm(2,"system-label",30),r.k0s()())}function et(t,e){if(1&t&&(r.j41(0,"div",23)(1,"h2",24),r.nrm(2,"system-label",25),r.k0s(),r.DNE(3,K,1,4,"lead-convert-item-duplicate",26)(4,tt,3,0,"div",27),r.k0s()),2&t){const t=r.XpG();r.Y8G("system-overlay-loading-spinner",t.model.duplicateChecking),r.R7$(3),r.Y8G("ngForOf",t.model.duplicates),r.R7$(),r.Y8G("ngIf",!t.model.duplicateChecking&&0==t.model.duplicates.length)}}let st=(()=>{class LeadConvertAccount{constructor(t,e,s,i,n,l,o){this.view=t,this.metadata=e,this.lead=s,this.model=i,this.modelutilities=n,this.fts=l,this.language=o,this.account=new r.bkB,this.componentconfig={},this.componentRefs=[],this.selectedAccount=void 0,this._linktoaccount=!0}ngOnInit(){this.initializeFromLead()}ngAfterViewInit(){this.buildContainer()}initializeFromLead(){this.model.module="Accounts",this.view.isEditable=!0,this.view.setEditMode(),this.model.id=null,this.model.initialize(this.lead),this._linktoaccount=!0,this._linktoaccount&&this.account.emit(this.model),this.model.data$.subscribe((t=>{!this._linktoaccount||this.lead.getField("account_id")==t.id&&this.lead.getField("account_linked_name")==t.name||this.lead.setFields({account_id:this.model.id,account_linked_name:this.model.getField("name")})}))}get linktoaccount(){return this._linktoaccount}set linktoaccount(t){this._linktoaccount=t,0==t?(this.account.emit(null),this.lead.setFields({account_id:void 0})):this.account.emit(this.model)}buildContainer(){for(let t of this.componentRefs)t.destroy();let t=this.metadata.getComponentConfig("ObjectRecordDetails",this.model.module);for(let e of this.metadata.getComponentSetObjects(t.componentset))this.metadata.addComponent(e.component,this.detailcontainer).subscribe((t=>{t.instance.componentconfig=e.componentconfig,this.componentRefs.push(t)}))}selectAccount(t){this.selectedAccount=t,this.model.id=t.id,this.model.isNew=!1,this.model.setData(t),this.lead.setFields({account_id:this.model.id,account_linked_name:this.model.getField("name")}),this.view.isEditable=!1}unlinkAccount(){this.selectedAccount=void 0,this.buildContainer(),this.initializeFromLead()}static#t=this.ɵfac=function(t){return new(t||LeadConvertAccount)(r.rXU(U.U),r.rXU(j.yu),r.rXU(u.g,4),r.rXU(u.g),r.rXU(W.g),r.rXU(q.s),r.rXU(m.B))};static#e=this.ɵcmp=r.VBU({type:LeadConvertAccount,selectors:[["lead-convert-account"]],viewQuery:function(t,e){if(1&t&&r.GBs(Q,7,r.c1b),2&t){let t;r.mGM(t=r.lsd())&&(e.detailcontainer=t.first)}},outputs:{account:"account"},features:[r.Jv_([U.U,u.g])],decls:16,vars:4,consts:[[1,"slds-theme--shade","slds-p-around--small","slds-border--bottom","slds-grid","slds-grid--vertical-align-center","slds-grid--align-spread"],[1,"slds-form--inline"],[1,"slds-form-element__control"],[1,"slds-checkbox"],["type","checkbox","name","options","id","createaccount",3,"ngModel","ngModelChange"],["for","createaccount",1,"slds-checkbox__label"],[1,"slds-checkbox--faux"],[1,"slds-form-element__label"],["label","LBL_LEADCONVERT_LINKACCOUNT"],["class","slds-grid slds-grid--vertical-align-center",4,"ngIf"],[1,"slds-grid","slds-gutters_direct-x-small","slds-p-horizontal--x-small",3,"hidden"],[1,"slds-col","slds-grow"],["detailcontainer",""],["class","slds-col slds-size--1-of-3 slds-border--left slds-theme--shade","system-to-bottom","",3,"system-overlay-loading-spinner",4,"ngIf"],[1,"slds-grid","slds-grid--vertical-align-center"],[1,"slds-m-right--x-small"],["label","LBL_ACCOUNT"],[1,"slds-pill"],[1,"slds-icon_container","slds-icon-standard-account","slds-pill__icon_container"],[3,"module"],["href","javascript:void(0);",1,"slds-pill__label"],["title","Remove",1,"slds-button","slds-button--icon","slds-pill__remove"],[3,"icon","click"],["system-to-bottom","",1,"slds-col","slds-size--1-of-3","slds-border--left","slds-theme--shade",3,"system-overlay-loading-spinner"],[1,"slds-text-heading_small","slds-p-around--small"],["label","LBL_DUPLICATES"],["class","slds-size--1-of-1",3,"system-model-provider","itemselected",4,"ngFor","ngForOf"],["class","slds-height_full slds-align--absolute-center",4,"ngIf"],[1,"slds-size--1-of-1",3,"system-model-provider","itemselected"],[1,"slds-height_full","slds-align--absolute-center"],["label","LBL_NO_DUPLICATES_FOUND"]],template:function(t,e){1&t&&(r.j41(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"span",3)(5,"input",4),r.mxI("ngModelChange",(function(t){return r.DH7(e.linktoaccount,t)||(e.linktoaccount=t),t})),r.k0s(),r.j41(6,"label",5),r.nrm(7,"span",6),r.j41(8,"span",7),r.nrm(9,"system-label",8),r.k0s()()()()(),r.DNE(10,Z,10,4,"div",9),r.k0s(),r.j41(11,"div",10)(12,"div",11),r.nrm(13,"div",null,12),r.k0s(),r.DNE(15,et,5,3,"div",13),r.k0s()()),2&t&&(r.R7$(5),r.R50("ngModel",e.linktoaccount),r.R7$(5),r.Y8G("ngIf",e.selectedAccount&&e.linktoaccount),r.R7$(),r.Y8G("hidden",!e.linktoaccount),r.R7$(4),r.Y8G("ngIf",e.view.isEditable))},dependencies:[i.Sq,i.bT,n.Zm,n.BC,n.vS,E.t,F.J,X.b,v.W,I.v,B.b,G.M,A],encapsulation:2})}return LeadConvertAccount})();const it=["detailcontainer"];let nt=(()=>{class LeadConvertOpportunity{get create(){return this.createOpportunity}set create(t){this.createOpportunity=t,0==t?(this.opportunity.emit(null),this.lead.setFields({opportunity_id:void 0})):this.opportunity.emit(this.model)}constructor(t,e,s,i,n){this.view=t,this.metadata=e,this.lead=s,this.model=i,this.language=n,this.opportunity=new r.bkB,this.componentconfig={},this.componentRefs=[],this.createOpportunity=!1,this.view.isEditable=!0,this.view.setEditMode()}ngOnInit(){this.initializeFromLead()}ngAfterViewInit(){this.buildContainer()}initializeFromLead(){this.model.module="Opportunities",this.model.initialize(this.lead),this.lead.data$.subscribe((t=>{t.account_id==this.model.getField("account_id")&&t.account_linked_name==this.model.getField("account_linked_name")||this.model.setFields({account_id:t.account_id,account_name:t.account_linked_name})})),this.model.data$.subscribe((t=>{this.lead.getField("opportunity_id")!=t.id&&this.lead.setFields({opportunity_id:t.id})})),this.createOpportunity&&this.opportunity.emit(this.model)}buildContainer(){for(let t of this.componentRefs)t.destroy();let t=this.metadata.getComponentConfig("ObjectRecordDetails",this.model.module);for(let e of this.metadata.getComponentSetObjects(t.componentset))this.metadata.addComponent(e.component,this.detailcontainer).subscribe((t=>{t.instance.componentconfig=e.componentconfig,this.componentRefs.push(t)}))}static#t=this.ɵfac=function(t){return new(t||LeadConvertOpportunity)(r.rXU(U.U),r.rXU(j.yu),r.rXU(u.g,4),r.rXU(u.g),r.rXU(m.B))};static#e=this.ɵcmp=r.VBU({type:LeadConvertOpportunity,selectors:[["lead-convert-opportunity"]],viewQuery:function(t,e){if(1&t&&r.GBs(it,7,r.c1b),2&t){let t;r.mGM(t=r.lsd())&&(e.detailcontainer=t.first)}},outputs:{opportunity:"opportunity"},features:[r.Jv_([U.U,u.g])],decls:13,vars:2,consts:[[1,"slds-theme--shade","slds-p-around--small","slds-border--bottom"],[1,"slds-form--inline"],[1,"slds-form-element__control"],[1,"slds-checkbox"],["type","checkbox","name","options","id","createopportunity",3,"ngModel","ngModelChange"],["for","createopportunity",1,"slds-checkbox__label"],[1,"slds-checkbox--faux"],[1,"slds-form-element__label"],["label","LBL_LEADCONVERT_CREATEOPPORTUNITY"],[3,"hidden"],["detailcontainer",""]],template:function(t,e){1&t&&(r.j41(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"span",3)(5,"input",4),r.mxI("ngModelChange",(function(t){return r.DH7(e.create,t)||(e.create=t),t})),r.k0s(),r.j41(6,"label",5),r.nrm(7,"span",6),r.j41(8,"span",7),r.nrm(9,"system-label",8),r.k0s()()()()()(),r.j41(10,"div",9),r.nrm(11,"div",null,10),r.k0s()()),2&t&&(r.R7$(5),r.R50("ngModel",e.create),r.R7$(5),r.Y8G("hidden",!e.createOpportunity))},dependencies:[n.Zm,n.BC,n.vS,v.W],encapsulation:2})}return LeadConvertOpportunity})();function lt(t,e){1&t&&r.nrm(0,"system-button-icon",29),2&t&&r.Y8G("icon","success")}const ot=t=>({"slds-button--icon slds-progress__marker--icon":t});function dt(t,e){if(1&t&&(r.j41(0,"li",25)(1,"button",26)(2,"span",27),r.EFF(3),r.k0s(),r.DNE(4,lt,1,1,"system-button-icon",28),r.k0s()()),2&t){const t=e.$implicit,s=r.XpG();r.Y8G("ngClass",s.getStepClass(t)),r.R7$(),r.Y8G("ngClass",r.eq3(4,ot,s.getStepComplete(t))),r.R7$(2),r.JRh(t),r.R7$(),r.Y8G("ngIf",s.getStepComplete(t))}}function at(t,e){if(1&t){const t=r.RV6();r.j41(0,"button",14),r.bIt("click",(function(){r.eBV(t);const e=r.XpG();return r.Njj(e.nextStep())})),r.nrm(1,"system-label",30),r.k0s()}if(2&t){const t=r.XpG();r.Y8G("disabled",t.model.isLoading)}}function ct(t,e){if(1&t){const t=r.RV6();r.j41(0,"button",31),r.bIt("click",(function(){r.eBV(t);const e=r.XpG();return r.Njj(e.nextStep())})),r.nrm(1,"system-label",32),r.k0s()}}function rt(t,e){if(1&t){const t=r.RV6();r.qex(0),r.j41(1,"lead-convert-account",33),r.bIt("account",(function(e){r.eBV(t);const s=r.XpG();return r.Njj(s.setAccount(e))})),r.k0s(),r.j41(2,"lead-convert-contact",34),r.bIt("contact",(function(e){r.eBV(t);const s=r.XpG();return r.Njj(s.setContact(e))})),r.k0s(),r.j41(3,"lead-convert-opportunity",35),r.bIt("opportunity",(function(e){r.eBV(t);const s=r.XpG();return r.Njj(s.setOpportunity(e))})),r.k0s(),r.bVm()}if(2&t){const t=r.XpG();r.R7$(),r.Y8G("hidden",0!==t.currentConvertStep),r.R7$(),r.Y8G("hidden",1!==t.currentConvertStep),r.R7$(),r.Y8G("hidden",2!==t.currentConvertStep)}}let mt=(()=>{class LeadConvert{constructor(t,e,s,i,n,l){this.language=t,this.metadata=e,this.model=s,this.navigationtab=i,this.modal=n,this.toast=l,this.moduleName="Leads",this.contact=void 0,this.account=void 0,this.opportunity=void 0,this.currentConvertStep=0,this.convertSteps=["Account","Contact","Opportunity"],this.loadLead()}loadLead(){this.model.module=this.moduleName,this.model.id=this.navigationtab.activeRoute.params.id,this.model.getData(!0,"detailview").subscribe((t=>{this.model.startEdit(),this.navigationtab.setTabInfo({displayname:this.language.getLabel("LBL_CONVERT_LEAD")+": "+this.model.getField("summary_text"),displaymodule:"Leads"})}))}getStepClass(t){let e=this.convertSteps.indexOf(t);return e==this.currentConvertStep?"slds-is-active":e<this.currentConvertStep?"slds-is-completed":void 0}getStepComplete(t){return this.convertSteps.indexOf(t)<this.currentConvertStep}getProgressBarWidth(){return{width:this.currentConvertStep/(this.convertSteps.length-1)*100+"%"}}nextStep(){switch(this.currentConvertStep){case 0:this.account&&this.account.validate()&&this.currentConvertStep++;break;case 1:this.contact&&this.contact.validate()&&this.currentConvertStep++;break;case 2:this.opportunity&&this.opportunity.isNew&&this.opportunity.validate()?this.convert():this.opportunity||this.convert()}}prevStep(){this.currentConvertStep>0&&this.currentConvertStep--}showNext(){return this.currentConvertStep<this.convertSteps.length-1}showSave(){return this.currentConvertStep==this.convertSteps.length-1}convert(){let t=[];this.account?.isNew&&t.push({action:"createAccount",label:"LBL_LEADCONVERT_CREATEACCOUNT",status:"initial",model:this.account}),this.contact?.isNew&&t.push({action:"createContact",label:"LBL_LEADCONVERT_CREATECONTACT",status:"initial",model:this.contact}),this.opportunity?.isNew&&t.push({action:"createOpportunity",label:"LBL_LEADCONVERT_CREATEOPPORTUNITY",status:"initial",model:this.opportunity}),this.model.setField("status","Converted"),t.push({action:"convertLead",label:"LBL_LEADCONVERT_CONVERTLEAD",status:"initial",model:this.model}),this.modal.openModal("LeadConvertModal",!1).subscribe((e=>{e.instance.saveactions=t,e.instance.completed.subscribe((t=>{this.toast.sendToast(this.language.getLabel("LBL_LEAD")+" "+this.model.getField("summary_text")+" "+this.language.getLabel("LBL_CONVERTED"),"success","",30),this.navigationtab.closeTab()}))}))}setContact(t){this.contact=t}setAccount(t){this.account=t}setOpportunity(t){this.opportunity=t}static#t=this.ɵfac=function(t){return new(t||LeadConvert)(r.rXU(m.B),r.rXU(j.yu),r.rXU(u.g),r.rXU(g._),r.rXU(b.y),r.rXU(p.o))};static#e=this.ɵcmp=r.VBU({type:LeadConvert,selectors:[["lead-convert"]],features:[r.Jv_([u.g,U.U])],decls:29,vars:11,consts:[[1,"slds-page-header"],[1,"slds-grid"],[1,"slds-col","slds-has-flexi-truncate"],[1,"slds-media","slds-no-space","slds-grow"],[3,"module"],[1,"slds-media__body"],["role","navigation","aria-label","Breadcrumbs"],[1,"slds-breadcrumb","slds-list--horizontal"],[1,"slds-breadcrumb__item","slds-text-title--caps"],["href","javascript:void(0);"],[3,"module","singular"],["label","LBL_CONVERT_LEAD"],[1,"slds-page-header__title","slds-m-right--small","slds-align-middle","slds-truncate"],[1,"slds-grid","slds-grid--align-spread","slds-p-around--small","slds-theme--shade","slds-border--bottom"],[1,"slds-button","slds-button--neutral",3,"disabled","click"],["label","LBL_PREVIOUS"],[1,"slds-progress","slds-progress--shade"],[1,"slds-progress__list"],["class","slds-progress__item",3,"ngClass",4,"ngFor","ngForOf"],[1,"slds-progress-bar","slds-progress-bar_x-small"],[1,"slds-progress-bar__value",3,"ngStyle"],["class","slds-button slds-button--neutral",3,"disabled","click",4,"ngIf"],["class","slds-button slds-button--brand",3,"click",4,"ngIf"],["system-to-bottom","",1,"slds-scrollable--y",3,"system-overlay-loading-spinner"],[4,"ngIf"],[1,"slds-progress__item",3,"ngClass"],[1,"slds-button","slds-progress__marker",3,"ngClass"],[1,"slds-assistive-text"],[3,"icon",4,"ngIf"],[3,"icon"],["label","LBL_NEXT"],[1,"slds-button","slds-button--brand",3,"click"],["label","LBL_SAVE"],[3,"hidden","account"],[3,"hidden","contact"],[3,"hidden","opportunity"]],template:function(t,e){1&t&&(r.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),r.nrm(4,"system-icon",4),r.j41(5,"div",5)(6,"nav",6)(7,"ol",7)(8,"li",8)(9,"a",9),r.nrm(10,"system-label-modulename",10),r.k0s()(),r.j41(11,"li",8)(12,"a",9),r.nrm(13,"system-label",11),r.k0s()()()(),r.j41(14,"div")(15,"h1",12),r.EFF(16),r.k0s()()()()()()(),r.j41(17,"div",13)(18,"button",14),r.bIt("click",(function(){return e.prevStep()})),r.nrm(19,"system-label",15),r.k0s(),r.j41(20,"div",16)(21,"ol",17),r.DNE(22,dt,5,6,"li",18),r.k0s(),r.j41(23,"div",19),r.nrm(24,"span",20),r.k0s()(),r.DNE(25,at,2,1,"button",21)(26,ct,2,0,"button",22),r.k0s(),r.j41(27,"div",23),r.DNE(28,rt,4,3,"ng-container",24),r.k0s()),2&t&&(r.R7$(4),r.Y8G("module","Leads"),r.R7$(6),r.Y8G("module",e.model.module)("singular",!0),r.R7$(6),r.JRh(e.model.data.summary_text),r.R7$(2),r.Y8G("disabled",e.model.isLoading||0==e.currentConvertStep),r.R7$(4),r.Y8G("ngForOf",e.convertSteps),r.R7$(2),r.Y8G("ngStyle",e.getProgressBarWidth()),r.R7$(),r.Y8G("ngIf",e.showNext()),r.R7$(),r.Y8G("ngIf",e.showSave()),r.R7$(),r.Y8G("system-overlay-loading-spinner",e.model.isLoading),r.R7$(),r.Y8G("ngIf",!e.model.isLoading))},dependencies:[i.YU,i.Sq,i.bT,i.B3,E.t,F.J,v.W,O.r,B.b,G.M,P,st,nt],encapsulation:2})}return LeadConvert})();var ut=s(49722);const ht=["tableheader"],pt=["dashletcontainer"];function bt(t,e){if(1&t&&(r.j41(0,"tr")(1,"td",15)(2,"div",16),r.EFF(3),r.k0s()(),r.j41(4,"td",17)(5,"div",16),r.EFF(6),r.k0s()(),r.j41(7,"td",15)(8,"div",16),r.EFF(9),r.k0s()(),r.j41(10,"td",17)(11,"div",16),r.EFF(12),r.k0s()()()),2&t){const t=e.$implicit;r.R7$(3),r.JRh(t.summary_text),r.R7$(3),r.JRh(t.status),r.R7$(3),r.JRh(t.account_name),r.R7$(3),r.JRh(t.phone_mobile)}}let gt=(()=>{class LeadOpenLeadsDashlet{constructor(t,e,s,i,n){this.language=t,this.metadata=e,this.backend=s,this.model=i,this.elementRef=n,this.myLeads=[],this.myLeadsCount=0}ngOnInit(){this.backend.getRequest("module/Leads").subscribe((t=>{this.myLeads=t.list,this.myLeadsCount=t.totalcount}))}get containerstyle(){if(this.dashletcontainer){let t=this.dashletcontainer.element.nativeElement.getBoundingClientRect(),e=this.tableheader.element.nativeElement.getBoundingClientRect();return{height:t.bottom-e.bottom+"px","margin-top":"-1px"}}}static#t=this.ɵfac=function(t){return new(t||LeadOpenLeadsDashlet)(r.rXU(m.B),r.rXU(j.yu),r.rXU(ut.H),r.rXU(u.g),r.rXU(r.aKT))};static#e=this.ɵcmp=r.VBU({type:LeadOpenLeadsDashlet,selectors:[["lead-openleads-dashlet"]],viewQuery:function(t,e){if(1&t&&(r.GBs(ht,7,r.c1b),r.GBs(pt,7,r.c1b)),2&t){let t;r.mGM(t=r.lsd())&&(e.tableheader=t.first),r.mGM(t=r.lsd())&&(e.dashletcontainer=t.first)}},features:[r.Jv_([u.g])],decls:24,vars:3,consts:[[2,"height","100%","overflow","hidden"],["dashletcontainer",""],[1,"slds-text-heading--small","slds-p-bottom--xx-small"],[1,"slds-table","slds-table_cell-buffer"],["tableheader",""],[1,"slds-text-title_caps"],["scope","col","width","30%"],["title","Opportunity Name",1,"slds-truncate"],["scope","col","width","20%"],["title","Account Name",1,"slds-truncate"],["title","Close Date",1,"slds-truncate"],["title","Stage",1,"slds-truncate"],[1,"slds-scrollable--y",3,"ngStyle"],[1,"slds-table","slds-table_bordered","slds-table_cell-buffer"],[4,"ngFor","ngForOf"],["width","30%"],[1,"slds-truncate"],["width","20%"]],template:function(t,e){1&t&&(r.j41(0,"div",0,1)(2,"h2",2),r.EFF(3),r.k0s(),r.j41(4,"table",3,4)(6,"thead")(7,"tr",5)(8,"th",6)(9,"div",7),r.EFF(10,"Name"),r.k0s()(),r.j41(11,"th",8)(12,"div",9),r.EFF(13,"Status"),r.k0s()(),r.j41(14,"th",6)(15,"div",10),r.EFF(16,"Account"),r.k0s()(),r.j41(17,"th",8)(18,"div",11),r.EFF(19,"Mobile"),r.k0s()()()()(),r.j41(20,"div",12)(21,"table",13)(22,"tbody"),r.DNE(23,bt,13,4,"tr",14),r.k0s()()()()),2&t&&(r.R7$(3),r.SpI("My Open Leads (",e.myLeadsCount,")"),r.R7$(17),r.Y8G("ngStyle",e.containerstyle),r.R7$(3),r.Y8G("ngForOf",e.myLeads))},dependencies:[i.Sq,i.B3],encapsulation:2})}return LeadOpenLeadsDashlet})();var vt=s(60595),ft=s(88418);const _t=["detailcontainer"];let yt=(()=>{class LeadConvertOpportunityModal{constructor(t,e,s,i,n,l){this.language=t,this.lead=e,this.model=s,this.metadata=i,this.view=n,this.modal=l,this.self={},this.converted=new r.bkB,this.model.module="Opportunities",this.view.isEditable=!0,this.view.setEditMode()}ngOnInit(){this.model.initialize(this.lead);let t=this.metadata.getComponentConfig("ObjectRecordDetails",this.model.module);this.componentSet=t.componentset}close(){this.self.destroy()}convert(){this.model.validate()&&this.modal.openModal("SystemLoadingModal").subscribe((t=>{t.instance.messagelabel="creating Opportunity",this.model.save().subscribe((e=>{t.instance.messagelabel="updating Lead",this.lead.setField("status","Converted"),this.lead.setField("opportunity_id",this.model.id),this.lead.setField("opportunity_name",this.model.getFieldValue("name")),this.lead.save().subscribe((e=>{t.instance.self.destroy(),this.close()}))}))}))}static#t=this.ɵfac=function(t){return new(t||LeadConvertOpportunityModal)(r.rXU(m.B),r.rXU(u.g,4),r.rXU(u.g),r.rXU(j.yu),r.rXU(U.U),r.rXU(b.y))};static#e=this.ɵcmp=r.VBU({type:LeadConvertOpportunityModal,selectors:[["lead-convert-opportunity-modal"]],viewQuery:function(t,e){if(1&t&&r.GBs(_t,7,r.c1b),2&t){let t;r.mGM(t=r.lsd())&&(e.detailcontainer=t.first)}},outputs:{converted:"converted"},features:[r.Jv_([u.g,U.U])],decls:10,vars:1,consts:[["size","large"],[3,"close"],["label","LBL_CONVERT_TO_OPPORTUNITY"],["margin","none"],[3,"componentset"],[1,"slds-button","slds-button--neutral",3,"click"],["label","LBL_CLOSE"],[1,"slds-button","slds-button--brand",3,"click"],["label","LBL_CONVERT_LEAD"]],template:function(t,e){1&t&&(r.j41(0,"system-modal",0)(1,"system-modal-header",1),r.bIt("close",(function(){return e.close()})),r.nrm(2,"system-label",2),r.k0s(),r.j41(3,"system-modal-content",3),r.nrm(4,"system-componentset",4),r.k0s(),r.j41(5,"system-modal-footer")(6,"button",5),r.bIt("click",(function(){return e.close()})),r.nrm(7,"system-label",6),r.k0s(),r.j41(8,"button",7),r.bIt("click",(function(){return e.convert()})),r.nrm(9,"system-label",8),r.k0s()()()),2&t&&(r.R7$(4),r.Y8G("componentset",e.componentSet))},dependencies:[vt.F,v.W,_.D,y.I,ft.Q,C.C],encapsulation:2})}return LeadConvertOpportunityModal})();var Ct=s(91107);function Lt(t,e){1&t&&r.nrm(0,"system-button-icon",2)}function kt(t,e){1&t&&(r.j41(0,"span"),r.nrm(1,"system-label",3),r.k0s())}let Rt=(()=>{class LeadNewButton{constructor(t,e,s,i,n,l,o){this.injector=t,this.language=e,this.metadata=s,this.modal=i,this.model=n,this.parentmodel=l,this.relatedmodel=o,this.displayasicon=!1}execute(){this.model.module="Leads",this.model.id=void 0,"Contacts"==this.parentmodel.module||"Accounts"==this.parentmodel.module?this.model.addModel("",this.parentmodel,{lead_type:"b2b"}):!this.relatedmodel||"Contacts"!=this.relatedmodel.module&&"Accounts"!=this.relatedmodel.module?"Consumer"==this.parentmodel.module?this.model.addModel("",this.parentmodel,{lead_type:"b2c"}):this.relatedmodel&&"Consumers"==this.relatedmodel.module?this.model.addModel("",this.relatedmodel.model,{lead_type:"b2c"}):(this.model.initialize(this.parentmodel),this.modal.openModal("LeadSelectTypeModal",!0,this.injector)):this.model.addModel("",this.relatedmodel.model,{lead_type:"b2b"})}get disabled(){return!this.metadata.checkModuleAcl("Leads","create")}static#t=this.ɵfac=function(t){return new(t||LeadNewButton)(r.rXU(r.zZn),r.rXU(m.B),r.rXU(j.yu),r.rXU(b.y),r.rXU(u.g),r.rXU(u.g,4),r.rXU(Ct.K,8))};static#e=this.ɵcmp=r.VBU({type:LeadNewButton,selectors:[["lead-new-button"]],features:[r.Jv_([u.g])],decls:2,vars:2,consts:[["icon","add",4,"ngIf"],[4,"ngIf"],["icon","add"],["label","LBL_NEW"]],template:function(t,e){1&t&&r.DNE(0,Lt,1,0,"system-button-icon",0)(1,kt,2,0,"span",1),2&t&&(r.Y8G("ngIf",e.displayasicon),r.R7$(),r.Y8G("ngIf",!e.displayasicon))},dependencies:[i.bT,E.t,v.W],encapsulation:2})}return LeadNewButton})();var Ut=s(3719);let jt=(()=>{class LeadSelectTypeModal{constructor(t,e,s,i,n,l){this.injector=t,this.metadata=e,this.view=s,this.language=i,this.modal=n,this.model=l,this.view.isEditable=!0,this.view.setEditMode(),this.fieldset=this.metadata.getComponentConfig("LeadSelectTypeModal","Leads").fieldset}get cancreate(){return!!this.model.getField("lead_type")}create(){this.cancreate&&(this.modal.openModal("ObjectEditModal",!0,this.injector),this.close())}close(){this.self.destroy()}static#t=this.ɵfac=function(t){return new(t||LeadSelectTypeModal)(r.rXU(r.zZn),r.rXU(j.yu),r.rXU(U.U),r.rXU(m.B),r.rXU(b.y),r.rXU(u.g))};static#e=this.ɵcmp=r.VBU({type:LeadSelectTypeModal,selectors:[["lead-select-type-modal"]],features:[r.Jv_([U.U])],decls:10,vars:2,consts:[["label","LBL_SELECT_LEAD_TYPE"],[3,"fieldset"],[1,"slds-button","slds-button--neutral",3,"click"],["label","LBL_CANCEL"],[1,"slds-button","slds-button--brand",3,"disabled","click"],["label","LBL_CREATE"]],template:function(t,e){1&t&&(r.j41(0,"system-modal")(1,"system-modal-header"),r.nrm(2,"system-label",0),r.k0s(),r.j41(3,"system-modal-content"),r.nrm(4,"object-record-fieldset",1),r.k0s(),r.j41(5,"system-modal-footer")(6,"button",2),r.bIt("click",(function(){return e.close()})),r.nrm(7,"system-label",3),r.k0s(),r.j41(8,"button",4),r.bIt("click",(function(){return e.create()})),r.nrm(9,"system-label",5),r.k0s()()()),2&t&&(r.R7$(4),r.Y8G("fieldset",e.fieldset),r.R7$(4),r.Y8G("disabled",!e.cancreate))},dependencies:[Ut.D,v.W,_.D,y.I,ft.Q,C.C],encapsulation:2})}return LeadSelectTypeModal})(),Et=(()=>{class LeadConvertConsumerModal{constructor(t,e,s,i,n,l){this.language=t,this.lead=e,this.model=s,this.metadata=i,this.view=n,this.modal=l,this.self={},this.converted=new r.bkB,this.model.module="Consumers",this.view.isEditable=!0,this.view.setEditMode()}ngOnInit(){this.model.initialize(this.lead),this.model.initializeField("email_addresses",{beans:[{id:this.model.generateGuid(),bean_id:this.model.id,bean_module:this.model.module,email_address:this.lead.getField("email1"),email_address_caps:this.lead.getField("email1").toUpperCase(),email_address_id:"",primary_address:"1"}]});let t=this.metadata.getComponentConfig("ObjectRecordDetails",this.model.module);this.componentSet=t.componentset}close(){this.model.cancelEdit(),this.self.destroy()}convert(){this.model.validate()&&this.modal.openModal("SystemLoadingModal").subscribe((t=>{t.instance.messagelabel="LBL_CREATING_CONSUMER",this.model.save().subscribe((e=>{t.instance.messagelabel="LBL_UPDATING_LEAD",this.lead.setField("status","Converted"),this.lead.setField("consumer_id",this.model.id),this.lead.save().subscribe((e=>{this.lead.setData(this.lead.data,!1),t.instance.self.destroy(),this.close()}))}))}))}static#t=this.ɵfac=function(t){return new(t||LeadConvertConsumerModal)(r.rXU(m.B),r.rXU(u.g,4),r.rXU(u.g),r.rXU(j.yu),r.rXU(U.U),r.rXU(b.y))};static#e=this.ɵcmp=r.VBU({type:LeadConvertConsumerModal,selectors:[["lead-convert-consumer-modal"]],outputs:{converted:"converted"},features:[r.Jv_([u.g,U.U])],decls:10,vars:1,consts:[["size","large"],[3,"close"],["label","LBL_CONVERT_TO_CONSUMER"],["margin","none"],[3,"componentset"],[1,"slds-button","slds-button--neutral",3,"click"],["label","LBL_CLOSE"],[1,"slds-button","slds-button--brand",3,"click"],["label","LBL_CONVERT_LEAD"]],template:function(t,e){1&t&&(r.j41(0,"system-modal",0)(1,"system-modal-header",1),r.bIt("close",(function(){return e.close()})),r.nrm(2,"system-label",2),r.k0s(),r.j41(3,"system-modal-content",3),r.nrm(4,"system-componentset",4),r.k0s(),r.j41(5,"system-modal-footer")(6,"button",5),r.bIt("click",(function(){return e.close()})),r.nrm(7,"system-label",6),r.k0s(),r.j41(8,"button",7),r.bIt("click",(function(){return e.convert()})),r.nrm(9,"system-label",8),r.k0s()()()),2&t&&(r.R7$(4),r.Y8G("componentset",e.componentSet))},dependencies:[vt.F,v.W,_.D,y.I,ft.Q,C.C],encapsulation:2})}return LeadConvertConsumerModal})();var Ft=s(13921),Ot=s(14354);let Bt=(()=>{class fieldLeadClassification extends Ft.s{constructor(t,e,s,i,n){super(t,e,s,i,n),this.model=t,this.view=e,this.language=s,this.metadata=i,this.router=n}get trend(){switch(this.model.getField("classification")){case"hot":return"up";case"cold":return"down";default:return"neutral"}}static#t=this.ɵfac=function(t){return new(t||fieldLeadClassification)(r.rXU(u.g),r.rXU(U.U),r.rXU(m.B),r.rXU(j.yu),r.rXU(h.Ix))};static#e=this.ɵcmp=r.VBU({type:fieldLeadClassification,selectors:[["ng-component"]],features:[r.Vt3],decls:1,vars:1,consts:[[3,"trend"]],template:function(t,e){1&t&&r.nrm(0,"system-trend-indicator",0),2&t&&r.Y8G("trend",e.trend)},dependencies:[Ot.a],encapsulation:2})}return fieldLeadClassification})(),Gt=(()=>{class ModuleLeads{static#t=this.ɵfac=function(t){return new(t||ModuleLeads)};static#e=this.ɵmod=r.$C({type:ModuleLeads});static#s=this.ɵinj=r.G2t({imports:[i.MD,n.YN,l.ObjectFields,o.GlobalComponents,d.ObjectComponents,a.SystemComponents,c.h]})}return ModuleLeads})();("undefined"==typeof ngJitMode||ngJitMode)&&r.Obh(Gt,{declarations:[Rt,jt,f,R,mt,P,st,A,nt,gt,yt,Et,Bt],imports:[i.MD,n.YN,l.ObjectFields,o.GlobalComponents,d.ObjectComponents,a.SystemComponents,c.h]})}}]);