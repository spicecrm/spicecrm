/*!
 * 
 *                     aacService
 *
 *                     release: 2022.01.001
 *
 *                     date: 2022-04-13 22:38:49
 *
 *                     build: 2022.01.001.1649882329485
 *
 */
"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([["src_modules_mediafiles_modulemediafiles_ts"],{1546:(e,t,i)=>{i.r(t),i.d(t,{ModuleMediaFiles:()=>De});var s=i(9808),l=i(2382),n=i(1549),a=i(1706),d=i(4518),o=i(6472),r=i(9769),c=i(7579),m=i(4893),g=i(2313),h=i(520),u=i(4505),f=i(6625),p=i(5920),b=i(4154),x=i(3917),y=i(3278),M=i(5329),F=i(4044);let I=(()=>{class mediafiles{constructor(e,t,i,s,l,n,a,d,o,r){this.sanitizer=e,this.http=t,this.backend=i,this.configurationService=s,this.session=l,this.metadata=n,this.footer=a,this.toast=d,this.language=o,this.modalservice=r,this.categoriesLoaded=!1,this.categories={},this.categoriesSorted=[]}_getImage(e,t=""){let i=new c.x;return this.backend.getRawRequest("module/MediaFiles/"+e+"/file"+(""!=t?"/":"")+t,{},null,{}).subscribe((e=>{let t=URL.createObjectURL(e);i.next(this.sanitizer.bypassSecurityTrustUrl(t)),i.complete()})),i.asObservable()}_getImageBase64(e){let t=new c.x;return this.backend.getRequest("module/MediaFiles/"+e+"/base64").subscribe((e=>{t.next(e),t.complete()})),t.asObservable()}getImageVariant(e,t){return this._getImage(e,t)}getImage(e){return this._getImage(e,"")}getImageBase64(e){return this._getImageBase64(e)}getImageThumb(e,t){return this._getImage(e,"th/"+t)}getImageSquare(e,t){return this._getImage(e,"sq/"+t)}getMediaFile(e=!1,t=!1,i){let s=new c.x;return e?this.uploadMediaFile([],t,i).subscribe((e=>{e&&(s.next(e),s.complete())})):this.pickMediaFile().subscribe((e=>{e.id?(s.next(e.id),s.complete()):!0===e.upload&&this.uploadMediaFile([],t,i).subscribe((e=>{e&&(s.next(e),s.complete())}))})),s.asObservable()}pickMediaFile(){let e=new c.x;return this.modalservice.openModal("MediaFilePicker").subscribe((t=>{t.instance.answer.subscribe((t=>{e.next(t),e.complete()}))})),e.asObservable()}uploadMediaFile(e,t=!1,i){let s=new c.x;return this.modalservice.openModal("MediaFileUploader").subscribe((l=>{l.instance.acceptFileTypes=e,l.instance.noMetaData=t,l.instance.category=i,l.instance.answer.subscribe((e=>{s.next(e),s.complete()}))})),s.asObservable()}}return mediafiles.ɵfac=function(e){return new(e||mediafiles)(m.LFG(g.H7),m.LFG(h.eN),m.LFG(u.y),m.LFG(f.C),m.LFG(p.n),m.LFG(b.Pu),m.LFG(x.M),m.LFG(y.A),m.LFG(M.d),m.LFG(F.o))},mediafiles.ɵprov=m.Yz7({token:mediafiles,factory:mediafiles.ɵfac}),mediafiles})();function v(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"img",2),m.NdJ("click",(function(){m.CHM(e);return m.oxw().openImagePreview()})),m.qZA()}if(2&e){const e=m.oxw();m.Tol(e.classImage),m.Q6J("src",e.imageUrl,m.LSH)("title",e.title)("alt",e.alttext)("ngStyle",e.styleImg)}}let w=(()=>{class MediaFileImage{constructor(e,t,i){this.mediafiles=e,this.elRef=t,this.modal=i,this.size=null,this.width=null,this.height=null,this.classImage="",this.classOuter="",this.align="",this.frameWidth=null,this.frameHeight=null,this.frameSize=null,this.displayInline=!1,this.title="",this.alttext="",this.dimensions={width:void 0,height:void 0},this.isFirstChange=!0,this.lastMediaId="",this.withFrameHeight=!0}ngOnChanges(){this.isFirstChange&&(this.isFirstChange=!1,this.variantStatic=this.variant),"mw"===this.variantStatic||"mwh"===this.variantStatic?(null!=this.width&&(this.dimensions.width=this.width),null!=this.height&&(this.dimensions.height=this.height),null===this.frameWidth&&(this.frameWidth=this.determineMaxWidthOfImage()),"mwh"===this.variantStatic&&null===this.frameHeight&&(this.frameHeight=this.determineMaxHeightOfImage()),"mw"===this.variantStatic&&(this.withFrameHeight=!1)):(null!=this.size&&(this.dimensions.height=this.dimensions.width=this.size),null===this.frameSize&&(this.frameSize=this.determineMaxWidthOfImage())),this.media_id&&(this.lastMediaId!==this.media_id?this.showImage():this.imageUrl="")}showImage(){let e;switch(this.variantStatic){case"mw":e=this.frameWidth;break;case"mwh":e=this.frameWidth+"/"+this.frameHeight;break;case"th":e=this.frameSize}this.mediafiles.getImageVariant(this.media_id,this.variantStatic+"/"+e).subscribe((e=>{this.imageUrl=e}))}get styleDisplay(){return this.displayInline?"inline-block":"block"}get styleOuter(){switch(this.align){case"left":return{"margin-left":0,"margin-right":"auto"};case"right":return{"margin-left":"auto","margin-right":0};case"center":return{"margin-left":"auto","margin-right":"auto"};default:return{}}}get styleImg(){let e=Object.assign({},this.dimensions);return this.withFrameHeight&&(e.position="absolute",e.top=e.left=e.bottom=e.right=0,e.margin="auto"),e}getWidthOfParent(){return Number(getComputedStyle(this.elRef.nativeElement.parentElement,null).width.replace(/px$/,""))-Number(getComputedStyle(this.elRef.nativeElement.parentElement,null).paddingLeft.replace(/px$/,""))-Number(getComputedStyle(this.elRef.nativeElement.parentElement,null).paddingRight.replace(/px$/,""))-Number(getComputedStyle(this.elRef.nativeElement.parentElement,null).borderLeftWidth.replace(/px$/,""))-Number(getComputedStyle(this.elRef.nativeElement.parentElement,null).borderRightWidth.replace(/px$/,""))}determineMaxWidthOfImage(){return Math.round(this.getWidthOfParent())}getHeightOfParent(){return Number(getComputedStyle(this.elRef.nativeElement.parentElement,null).height.replace(/px$/,""))-Number(getComputedStyle(this.elRef.nativeElement.parentElement,null).paddingTop.replace(/px$/,""))-Number(getComputedStyle(this.elRef.nativeElement.parentElement,null).paddingBottom.replace(/px$/,""))-Number(getComputedStyle(this.elRef.nativeElement.parentElement,null).borderTopWidth.replace(/px$/,""))-Number(getComputedStyle(this.elRef.nativeElement.parentElement,null).borderBottomWidth.replace(/px$/,""))}determineMaxHeightOfImage(){return Math.round(this.getHeightOfParent())}openImagePreview(){this.modal.openModal("SystemImagePreviewModal").subscribe((e=>{this.mediafiles.getImageBase64(this.media_id).subscribe((t=>{e.instance.imgtype=t.filetype,e.instance.imgsrc="data:"+t.filetype+";base64,"+t.img}))}))}}return MediaFileImage.ɵfac=function(e){return new(e||MediaFileImage)(m.Y36(I),m.Y36(m.SBq),m.Y36(F.o))},MediaFileImage.ɵcmp=m.Xpm({type:MediaFileImage,selectors:[["media-file-image"]],inputs:{media_id:"media_id",variant:"variant",size:"size",width:"width",height:"height",classImage:"classImage",classOuter:"classOuter",align:"align",frameWidth:"frameWidth",frameHeight:"frameHeight",frameSize:"frameSize",displayInline:"displayInline",title:"title",alttext:"alttext"},features:[m._Bn([I]),m.TTD],decls:2,vars:9,consts:[[1,"slds-is-relative",3,"ngClass","ngStyle"],["style","max-width:100%;max-height:100%",3,"src","title","alt","ngStyle","class","click",4,"ngIf"],[2,"max-width","100%","max-height","100%",3,"src","title","alt","ngStyle","click"]],template:function(e,t){1&e&&(m.TgZ(0,"span",0),m.YNc(1,v,1,7,"img",1),m.qZA()),2&e&&(m.Udp("maxwidth",t.frameWidth)("height",t.frameHeight)("display",t.styleDisplay),m.Q6J("ngClass",t.classOuter)("ngStyle",t.styleOuter),m.xp6(1),m.Q6J("ngIf",t.imageUrl))},directives:[s.mk,s.PC,s.O5],styles:["img[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),MediaFileImage})();var _=i(5710),Z=i(2644),E=i(2294),J=i(9533),S=i(6163),k=i(6559),C=i(9621),Y=i(1916),O=i(3499),N=i(9866),Q=i(7693),L=i(5931),U=i(2656),T=i(586);function A(e,t){1&e&&m._UZ(0,"img",14)}function q(e,t){if(1&e&&m._UZ(0,"img",15),2&e){const e=m.oxw();m.Q6J("src",e.thumbnail,m.LSH)}}function z(e,t){1&e&&m._UZ(0,"object-action-menu",16)}let R=(()=>{class MediaFilesTile{constructor(e,t,i,s,l,n){this.metadata=e,this.model=t,this.view=i,this.sanitizer=s,this.modal=l,this.mediafiles=n,this.selectbox=!1,this.getConfig()}ngOnInit(){this.initializeView(),this.initializeModel()}initializeView(){this.view.isEditable=!1,this.view.displayLabels=!1,1==this.selectbox&&(this.view.displayLinks=!1)}getConfig(){let e=this.metadata.getComponentConfig("MediaFilesTile","MediaFiles");this.fieldset=e.fieldset,this.actionset=e.actionset}initializeModel(){this.model.module="MediaFiles",this.model.id=this.data.id,this.model.setData(this.data)}get thumbnail(){let e=this.model.getField("thumbnail");return!!e&&this.sanitizer.bypassSecurityTrustResourceUrl("data:"+this.model.getField("filetype")+";base64,"+e)}expand(){this.modal.openModal("SystemImagePreviewModal").subscribe((e=>{e.instance.imgname=this.model.getFieldValue("name"),e.instance.imgtype=this.model.getFieldValue("filetype"),this.mediafiles.getImageBase64(this.model.id).subscribe((t=>{e.instance.imgsrc="data:"+this.model.getFieldValue("filetype")+";base64,"+t.img}))}))}}return MediaFilesTile.ɵfac=function(e){return new(e||MediaFilesTile)(m.Y36(b.Pu),m.Y36(_.o),m.Y36(E.e),m.Y36(g.H7),m.Y36(F.o),m.Y36(I))},MediaFilesTile.ɵcmp=m.Xpm({type:MediaFilesTile,selectors:[["media-files-tile"]],inputs:{data:"data",selectbox:"selectbox"},features:[m._Bn([I,_.o,E.e])],decls:15,vars:6,consts:[[1,"slds-p-around--small",2,"width","20rem"],[1,"slds-file","slds-file_card","slds-has-title"],[1,"slds-align--absolute-center",2,"height","165px","width","294px"],["src","./vendor/sldassets/images/placeholder-img@16x9.jpg",4,"ngIf"],["style","max-height: 100%;max-width: 100%;","alt","Description of the image",3,"src",4,"ngIf"],[1,"slds-file__title","slds-is-relative","slds-file__title_card"],[1,"slds-grid","slds-grid--vertical-align-center","slds-size--1-of-1"],[1,"slds-p-right--xx-small"],["size","x-small","divClass","",3,"filename","filemimetype"],[1,"slds-media__body","slds-grow","slds-truncate"],[3,"fieldset"],[1,"slds-button","slds-button_icon","slds-button_icon-border-filled","slds-button_icon-small","slds-m-horizontal--xx-small",3,"click"],["icon","expand","size","small"],["buttonsize","small",4,"ngIf"],["src","./vendor/sldassets/images/placeholder-img@16x9.jpg"],["alt","Description of the image",2,"max-height","100%","max-width","100%",3,"src"],["buttonsize","small"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0)(1,"div",1)(2,"figure")(3,"div",2),m.YNc(4,A,1,0,"img",3),m.YNc(5,q,1,1,"img",4),m.qZA(),m.TgZ(6,"figcaption",5)(7,"div",6)(8,"div",7),m._UZ(9,"system-file-icon",8),m.qZA(),m.TgZ(10,"div",9),m._UZ(11,"object-record-fieldset-horizontal-list",10),m.qZA(),m.TgZ(12,"button",11),m.NdJ("click",(function(){return t.expand()})),m._UZ(13,"system-button-icon",12),m.qZA(),m.YNc(14,z,1,0,"object-action-menu",13),m.qZA()()()()()),2&e&&(m.xp6(4),m.Q6J("ngIf",!t.thumbnail),m.xp6(1),m.Q6J("ngIf",t.thumbnail),m.xp6(4),m.Q6J("filename",t.model.getField("name"))("filemimetype",t.model.getField("filetype")),m.xp6(2),m.Q6J("fieldset",t.fieldset),m.xp6(3),m.Q6J("ngIf",!t.selectbox))},directives:[s.O5,Q.T,L.Z,U.J,T.g],encapsulation:2,changeDetection:0}),MediaFilesTile})();var H=i(4730),P=i(3463),D=i(9624),B=i(5767);function j(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"media-files-tile",12),m.NdJ("click",(function(){const t=m.CHM(e).$implicit;return m.oxw().pick(t.id)})),m.qZA()}if(2&e){const e=t.$implicit;m.Q6J("data",e)("selectbox",!0)}}function V(e,t){1&e&&(m.TgZ(0,"div",13)(1,"system-illustration-no-records"),m._UZ(2,"system-label",14),m.qZA()())}let G=(()=>{class MediaFilePicker extends J.X{constructor(e,t,i,s,l,n,a){super(e,t,i,s,l,n),this.language=e,this.modellist=t,this.metadata=i,this.modelutilities=s,this.model=l,this.layout=n,this.elementRef=a,this.module="MediaFiles",this.answer=new m.vpe}get containerStyle(){let e=this.elementRef.nativeElement.getBoundingClientRect(),t=Math.floor((e.width-10)/320),i=Math.floor((e.width-10-320*t)/2);return{"padding-left":i+"px","padding-right":i+"px"}}pick(e){this.answer.emit({id:e}),this.self.destroy()}upload(){this.metadata.checkModuleAcl("MediaFiles","create")&&(this.model.module="MediaFiles",this.model.id=void 0,this.model.initialize(),this.model.addModel().subscribe((e=>{this.answer.emit({id:this.model.id}),this.self.destroy()})))}}return MediaFilePicker.ɵfac=function(e){return new(e||MediaFilePicker)(m.Y36(M.d),m.Y36(Z.t),m.Y36(b.Pu),m.Y36(S.A),m.Y36(_.o),m.Y36(k.b),m.Y36(m.SBq))},MediaFilePicker.ɵcmp=m.Xpm({type:MediaFilePicker,selectors:[["media-file-picker"]],outputs:{answer:"answer"},features:[m._Bn([E.e,Z.t,_.o]),m.qOj],decls:17,vars:7,consts:[["size","large"],[3,"close"],["margin","none",3,"grow"],[1,"slds-height_full"],[1,"slds-is-relative",3,"ngStyle"],[1,"slds-grid","slds-wrap",3,"ngStyle"],[3,"data","selectbox","click",4,"ngFor","ngForOf"],["class","slds-align--absolute-center","style","height: calc(100% - 35px)",4,"ngIf"],[1,"slds-button","slds-button--neutral",3,"click"],["label","LBL_CANCEL"],[1,"slds-button","slds-button--brand",3,"disabled","click"],["label","LBL_UPLOAD_NEW_FILE"],[3,"data","selectbox","click"],[1,"slds-align--absolute-center",2,"height","calc(100% - 35px)"],["label","MSG_NO_RECORDS_FOUND"]],template:function(e,t){1&e&&(m.TgZ(0,"system-modal",0)(1,"system-modal-header",1),m.NdJ("close",(function(){return t.closePopup()})),m._uU(2),m.qZA(),m.TgZ(3,"system-modal-content",2)(4,"div",3),m._UZ(5,"object-modal-module-lookup-header"),m.TgZ(6,"div",4)(7,"div",5),m.YNc(8,j,1,2,"media-files-tile",6),m.qZA(),m.YNc(9,V,3,0,"div",7),m._UZ(10,"object-modal-module-lookup-aggregates"),m.qZA()()(),m.TgZ(11,"system-modal-footer")(12,"button",8),m.NdJ("click",(function(){return t.closePopup()})),m._UZ(13,"system-label",9),m.qZA(),m.TgZ(14,"button",10),m.NdJ("click",(function(){return t.upload()})),m._UZ(15,"system-label",11),m._uU(16," …"),m.qZA()()()),2&e&&(m.xp6(2),m.Oqu(t.language.getModuleCombinedLabel("LBL_SEARCH",t.modellist.module)),m.xp6(1),m.Q6J("grow",!0),m.xp6(3),m.Q6J("ngStyle",t.contentStyle()),m.xp6(1),m.Q6J("ngStyle",t.containerStyle),m.xp6(1),m.Q6J("ngForOf",t.modellist.listData.list),m.xp6(1),m.Q6J("ngIf",!t.modellist.isLoading&&0==t.modellist.listData.totalcount),m.xp6(5),m.Q6J("disabled",!t.metadata.checkModuleAcl("MediaFiles","create")))},directives:[C.j,Y.y,O.x,N.x,s.PC,s.sg,R,s.O5,H.C,P._,D.D,B.p],encapsulation:2}),MediaFilePicker})();var W=i(2547),$=i(9062),X=i(8026);function K(e,t){if(1&e&&(m.TgZ(0,"div",8),m._UZ(1,"object-record-fieldset",9),m.qZA()),2&e){const e=m.oxw();m.xp6(1),m.Q6J("fieldset",e.fieldsetId)}}function ee(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"div")(1,"button",10),m.NdJ("click",(function(){m.CHM(e);return m.oxw().save()})),m._UZ(2,"system-label",11),m.qZA(),m.TgZ(3,"button",12),m.NdJ("click",(function(){m.CHM(e);return m.oxw().cancel()})),m._UZ(4,"system-label",13),m.qZA()()}if(2&e){const e=m.oxw();m.xp6(1),m.Q6J("disabled",!e.canSave)}}function te(e,t){if(1&e&&(m.TgZ(0,"div")(1,"system-progress-bar",14),m._UZ(2,"system-label",15),m.qZA()()),2&e){const e=m.oxw();m.xp6(1),m.Q6J("progress",e.theProgress)}}const ie=function(e,t){return{"slds-size--1-of-1":e,"slds-size--1-of-2":t}};let se=(()=>{class MediaFileUploader{constructor(e,t,i,s,l,n,a){this.mediafiles=e,this.metadata=t,this.backend=i,this.lang=s,this.toast=l,this.model=n,this.view=a,this.theProgress=0,this.noMetaData=!1,this.answer=null,this.answerSubject=null,this.isSaving=!1,this.isEditing=!0,this.answerSubject=new c.x,this.answer=this.answerSubject.asObservable(),this.model.module="MediaFiles",this.model.id=this.model.generateGuid(),this.model.initialize(),this.model.setField("id",this.model.id),this.view.isEditable=!0,this.view.setEditMode();let d=this.metadata.getComponentConfig("MediaFileUploader","MediaFiles");this.fieldsetId=d.fieldset}cancel(){this.model.cancelEdit(),this.answerSubject.next(!1),this.answerSubject.complete(),this.self.destroy()}get canSave(){return this.mediaMetaData&&!this.isSaving}get image(){let e=this.model.getField("file");return e?this.model.getField("filetype")+"|"+e:void 0}set image(e){let t=e.indexOf("|");this.model.setField("file",e.substring(t+1)),this.mediaMetaData=this.inputMedia.mediaMetaData,this.model.getField("name")||this.model.setField("name",this.mediaMetaData.filename.replace(/\.[^\.]+$/,"").replace(/_/," ")),this.model.setField("filetype",e.substring(0,t))}save(){this.canSave&&(this.isSaving=!0,this.model.savingProgress.subscribe((e=>this.theProgress=e)),this.model.validate()?(this.view.setViewMode(),this.isEditing=!1,this.model.save().subscribe((()=>{this.answerSubject.next(this.model.id),this.answerSubject.complete(),window.setTimeout((()=>this.self.destroy()),2e3)}))):this.isSaving=!1)}onModalEscX(){return this.isSaving||this.cancel(),!1}}return MediaFileUploader.ɵfac=function(e){return new(e||MediaFileUploader)(m.Y36(I),m.Y36(b.Pu),m.Y36(u.y),m.Y36(M.d),m.Y36(y.A),m.Y36(_.o),m.Y36(E.e))},MediaFileUploader.ɵcmp=m.Xpm({type:MediaFileUploader,selectors:[["media-file-uploader"]],viewQuery:function(e,t){if(1&e&&m.Gf(W.l,5),2&e){let e;m.iGM(e=m.CRH())&&(t.inputMedia=e.first)}},features:[m._Bn([I,_.o,E.e])],decls:11,vars:8,consts:[["size","large"],[3,"close"],["label","LBL_NEW_IMAGE"],[1,"slds-grid"],[1,"slds-box","slds-box_x-small","slds-size--1-of-2",3,"ngClass"],[1,"slds-height_full",3,"ngModel","ngModelChange"],["class","slds-p-left--medium slds-size--1-of-2",4,"ngIf"],[4,"ngIf"],[1,"slds-p-left--medium","slds-size--1-of-2"],["direction","vertical",3,"fieldset"],[1,"slds-button","slds-button--brand",3,"disabled","click"],["label","LBL_SAVE"],[1,"slds-button","slds-button--neutral",3,"click"],["label","LBL_CANCEL"],[3,"progress"],["label","LBL_UPLOADING_MEDIA_FILE"]],template:function(e,t){1&e&&(m.TgZ(0,"system-modal",0)(1,"system-modal-header",1),m.NdJ("close",(function(){return t.cancel()})),m._UZ(2,"system-label",2),m.qZA(),m.TgZ(3,"system-modal-content")(4,"div",3)(5,"div",4)(6,"system-input-media",5),m.NdJ("ngModelChange",(function(e){return t.image=e})),m.qZA()(),m.YNc(7,K,2,1,"div",6),m.qZA()(),m.TgZ(8,"system-modal-footer"),m.YNc(9,ee,5,1,"div",7),m.YNc(10,te,3,1,"div",7),m.qZA()()),2&e&&(m.xp6(5),m.Q6J("ngClass",m.WLB(5,ie,t.noMetaData,!t.noMetaData)),m.xp6(1),m.Q6J("ngModel",t.image),m.xp6(1),m.Q6J("ngIf",!t.noMetaData),m.xp6(2),m.Q6J("ngIf",!t.isSaving),m.xp6(1),m.Q6J("ngIf",t.isSaving))},directives:[C.j,Y.y,P._,O.x,s.mk,W.l,l.JJ,l.On,s.O5,$.d,B.p,X.J],encapsulation:2}),MediaFileUploader})();var le=i(7228),ne=i(2480),ae=i(1058);function de(e,t){if(1&e&&m._UZ(0,"media-files-tile",4),2&e){const e=t.$implicit;m.Q6J("data",e)}}function oe(e,t){1&e&&(m.TgZ(0,"div",5)(1,"system-illustration-no-records"),m._UZ(2,"system-label",6),m.qZA()())}let re=(()=>{class MediaFilesList extends le.s{constructor(e,t,i,s,l,n,a,d,o,r){super(e,t,i,s,l,n,a,d),this.router=e,this.cdRef=t,this.metadata=i,this.modellist=s,this.language=l,this.injector=n,this.modal=a,this.layout=d,this.renderer=o,this.elementRef=r,this.resizeHandler=this.renderer.listen("window","resize",(()=>this.onResize()))}ngOnDestroy(){super.ngOnDestroy(),this.resizeHandler()}onResize(){this.cdRef.detectChanges()}get containerStyle(){let e=this.elementRef.nativeElement.getBoundingClientRect(),t=Math.floor((e.width-10)/320),i=Math.floor((e.width-10-320*t)/2);return{"padding-left":i+"px","padding-right":i+"px"}}}return MediaFilesList.ɵfac=function(e){return new(e||MediaFilesList)(m.Y36(ne.F0),m.Y36(m.sBO),m.Y36(b.Pu),m.Y36(Z.t),m.Y36(M.d),m.Y36(m.zs3),m.Y36(F.o),m.Y36(k.b),m.Y36(m.Qsj),m.Y36(m.SBq))},MediaFilesList.ɵcmp=m.Xpm({type:MediaFilesList,selectors:[["media-files-list"]],features:[m.qOj],decls:4,vars:3,consts:[[2,"min-height","250px",3,"system-to-bottom"],[1,"slds-grid","slds-wrap",3,"ngStyle"],[3,"data",4,"ngFor","ngForOf"],["class","slds-align--absolute-center","style","height: calc(100% - 35px)",4,"ngIf"],[3,"data"],[1,"slds-align--absolute-center",2,"height","calc(100% - 35px)"],["label","MSG_NO_RECORDS_FOUND"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.NdJ("system-to-bottom",(function(){return t.onScroll()})),m.TgZ(1,"div",1),m.YNc(2,de,1,1,"media-files-tile",2),m.qZA(),m.YNc(3,oe,3,0,"div",3),m.qZA()),2&e&&(m.xp6(1),m.Q6J("ngStyle",t.containerStyle),m.xp6(1),m.Q6J("ngForOf",t.modellist.listData.list),m.xp6(1),m.Q6J("ngIf",!t.modellist.isLoading&&0==t.modellist.listData.totalcount))},directives:[ae.H,s.PC,s.sg,R,s.O5,H.C,P._],encapsulation:2,changeDetection:0}),MediaFilesList})();var ce=i(7040),me=i(6367),ge=i(3208);function he(e,t){if(1&e&&m._UZ(0,"field-label",3),2&e){const e=m.oxw();m.Q6J("fieldname",e.fieldname)("fieldconfig",e.fieldconfig)}}function ue(e,t){if(1&e&&m._UZ(0,"img",6),2&e){const e=m.oxw(2);m.Q6J("src","data:image/jpg;base64,"+e.value,m.LSH)}}function fe(e,t){if(1&e&&(m.TgZ(0,"field-generic-display",4),m.YNc(1,ue,1,1,"img",5),m.qZA()),2&e){const e=m.oxw();m.Q6J("fielddisplayclass",e.fielddisplayclass)("editable",e.isEditable())("fieldconfig",e.fieldconfig)("title",e.value)("fieldid",e.fieldid),m.xp6(1),m.Q6J("ngIf",e.value)}}function pe(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"div",7)(1,"system-input-media",8),m.NdJ("ngModelChange",(function(t){m.CHM(e);return m.oxw().value=t})),m.qZA()()}if(2&e){const e=m.oxw();m.Q6J("ngClass",e.css_classes),m.xp6(1),m.Q6J("ngModel",e.value)("mimetype","image/jpeg")}}let be=(()=>{class fieldMediaFilesImage extends ce.O{constructor(e,t,i,s,l,n,a){super(e,i,s,l,n),this.model=e,this.modal=t,this.view=i,this.language=s,this.metadata=l,this.router=n,this.mediafiles=a,this.initialize()}get value(){return this._value}set value(e){let t={};t.file=e,t.filetype=this.systemInputMedia.mediaMetaData.mimetype,this.model.getField("name")?this._value||this.modal.prompt("confirm",this.language.getLabel("MSG_OVERWRITE_FILENAME","","long"),this.language.getLabel("MSG_OVERWRITE_FILENAME")).subscribe((e=>{e&&(t.name=this.systemInputMedia.mediaMetaData.filename),this.model.setFields(t)})):(t.name=this.systemInputMedia.mediaMetaData.filename,this.model.setFields(t)),this._value=e}initialize(){this.model.isNew||(this.loadImage(),this.subscriptions.add(this.model.canceledit$.subscribe((e=>{this._value=null,this.loadImage()}))))}loadImage(){this.mediafiles.getImageBase64(this.model.id).subscribe((e=>{this._value=e.img}))}}return fieldMediaFilesImage.ɵfac=function(e){return new(e||fieldMediaFilesImage)(m.Y36(_.o),m.Y36(F.o),m.Y36(E.e),m.Y36(M.d),m.Y36(b.Pu),m.Y36(ne.F0),m.Y36(I))},fieldMediaFilesImage.ɵcmp=m.Xpm({type:fieldMediaFilesImage,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&m.Gf(W.l,5),2&e){let e;m.iGM(e=m.CRH())&&(t.systemInputMedia=e.first)}},features:[m._Bn([I]),m.qOj],decls:3,vars:3,consts:[[3,"fieldname","fieldconfig",4,"ngIf"],[3,"fielddisplayclass","editable","fieldconfig","title","fieldid",4,"ngIf"],["class","slds-form-element__control slds-m-vertical--xx-small",3,"ngClass",4,"ngIf"],[3,"fieldname","fieldconfig"],[3,"fielddisplayclass","editable","fieldconfig","title","fieldid"],[3,"src",4,"ngIf"],[3,"src"],[1,"slds-form-element__control","slds-m-vertical--xx-small",3,"ngClass"],[1,"slds-height_full",3,"ngModel","mimetype","ngModelChange"]],template:function(e,t){1&e&&(m.YNc(0,he,1,2,"field-label",0),m.YNc(1,fe,2,6,"field-generic-display",1),m.YNc(2,pe,2,3,"div",2)),2&e&&(m.Q6J("ngIf",t.displayLabel),m.xp6(1),m.Q6J("ngIf",!t.isEditMode()),m.xp6(1),m.Q6J("ngIf",t.isEditable()&&t.isEditMode()))},directives:[s.O5,me.q,ge.D,s.mk,W.l,l.JJ,l.On],encapsulation:2}),fieldMediaFilesImage})();var xe=i(4664);const ye=["imgFrame"];function Me(e,t){1&e&&m._UZ(0,"system-spinner",5)}function Fe(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"system-input-media",6),m.NdJ("ngModelChange",(function(t){m.CHM(e);return m.oxw(2).imageUrlOriginal=t})),m.qZA()}if(2&e){const e=m.oxw(2);m.Q6J("ngModel",e.imageUrlOriginal)}}function Ie(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Me,1,0,"system-spinner",3),m.YNc(2,Fe,1,1,"system-input-media",4),m.BQk()),2&e){const e=m.oxw();m.xp6(1),m.Q6J("ngIf",e.isLoadingOriginal),m.xp6(1),m.Q6J("ngIf",!e.isLoadingOriginal)}}function ve(e,t){if(1&e&&m._UZ(0,"img",14),2&e){const e=m.oxw(3);m.Q6J("src",e.imageUrlVariant,m.LSH)}}function we(e,t){if(1&e){const e=m.EpF();m.ynx(0),m.YNc(1,ve,1,1,"img",10),m.TgZ(2,"button",11),m.NdJ("click",(function(){m.CHM(e);return m.oxw(2).openLightbox()})),m._UZ(3,"system-button-icon",12),m.qZA(),m.TgZ(4,"button",13),m.NdJ("click",(function(){m.CHM(e);return m.oxw(2).setEditMode()})),m._UZ(5,"system-button-icon",12),m.qZA(),m.BQk()}if(2&e){const e=m.oxw(2);m.xp6(1),m.Q6J("ngIf",e.imageUrlVariant),m.xp6(2),m.Q6J("icon","expand"),m.xp6(2),m.Q6J("icon","edit")}}function _e(e,t){1&e&&m._UZ(0,"system-spinner",5)}function Ze(e,t){if(1&e&&(m.TgZ(0,"div",7,8)(2,"div",9),m.YNc(3,we,6,3,"ng-container",1),m.YNc(4,_e,1,0,"system-spinner",3),m.qZA()()),2&e){const e=m.oxw();m.xp6(3),m.Q6J("ngIf",!e.isLoadingVariant),m.xp6(1),m.Q6J("ngIf",e.isLoadingVariant)}}let Ee=(()=>{class fieldMediaFile extends ce.O{constructor(e,t,i,s,l,n,a,d,o,r,c){super(e,t,i,s,l),this.model=e,this.view=t,this.language=i,this.metadata=s,this.router=l,this.elementRef=n,this.renderer=a,this.mediafiles=d,this.backend=o,this.elRef=r,this.modalservice=c,this.isLoadingVariant=!1,this.isLoadingOriginal=!1}ngAfterViewInit(){this.widthOfImgFrame=this.getWidthOfImgFrame(),this.heightOfImgFrame=this.getHeightOfImgFrame(),this.view.mode$.subscribe((e=>{this.currentViewMode!==e&&("view"===e&&this.loadImageVariant(),"edit"===e&&this.loadImageOriginal(),this.currentViewMode=e)}))}loadImageVariant(){this.imageUrlVariant="",this.model.isNew||(this.isLoadingVariant=!0,this.mediafiles.getImageVariant(this.model.id,"mwh/"+this.widthOfImgFrame+"/"+this.heightOfImgFrame).subscribe((e=>{this.imageUrlVariant=e,this.isLoadingVariant=!1})))}loadImageOriginal(){this.imageUrlOriginal="",this.model.isNew||(this.isLoadingOriginal=!0,this.mediafiles.getImage(this.model.id).subscribe((e=>{this.imageUrlOriginal=e,this.isLoadingOriginal=!1}),(e=>{this.isLoadingOriginal=!1})))}getWidthOfImgFrame(){return this.imgFrame?Math.ceil(Number(getComputedStyle(this.imgFrame.nativeElement,null).width.replace(/px$/,""))):0}getHeightOfImgFrame(){return this.imgFrame?Math.ceil(Number(getComputedStyle(this.imgFrame.nativeElement,null).height.replace(/px$/,""))):0}openLightbox(){this.modalservice.openModal("SystemImagePreviewModal",!0).subscribe((e=>{e.instance.imgname=this.model.getField("name"),e.instance.imgtype=this.model.getField("filetype"),this.mediafiles.getImage(this.model.id).subscribe((t=>{e.instance.imgsrc=t}))}))}mediaChange(e){e.isDirty&&(this.model.setField(this.fieldname,e.image),this.fileformat=e.metaData.fileformat,e.isImported&&this.fieldconfig.copyFilenameToFieldName&&e.metaData.filename&&!this.model.getField(this.fieldForName)&&this.model.setField(this.fieldForName,e.metaData.filename.replace(/\.[^\.]+$/,"").replace(/_/," ")))}get fieldForFileformat(){return this.fieldconfig.fieldForFileformat?this.fieldconfig.fieldForFileformat:"filetype"}get fieldForName(){return this.fieldconfig.fieldForName?this.fieldconfig.fieldForName:"name"}set fileformat(e){this.model.setField(this.fieldForFileformat,e)}get fileformat(){return this.model.getField(this.fieldForFileformat)}}return fieldMediaFile.ɵfac=function(e){return new(e||fieldMediaFile)(m.Y36(_.o),m.Y36(E.e),m.Y36(M.d),m.Y36(b.Pu),m.Y36(ne.F0),m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(I),m.Y36(u.y),m.Y36(m.SBq),m.Y36(F.o))},fieldMediaFile.ɵcmp=m.Xpm({type:fieldMediaFile,selectors:[["field-media-file"]],viewQuery:function(e,t){if(1&e&&m.Gf(ye,5),2&e){let e;m.iGM(e=m.CRH())&&(t.imgFrame=e.first)}},features:[m._Bn([I]),m.qOj],decls:3,vars:3,consts:[[2,"margin-right","-0.75rem","text-align","center","height","400px",3,"ngClass"],[4,"ngIf"],["class","slds-grid slds-grid--vertical","style","height:100%",4,"ngIf"],["size","large","class","spice-vertically-centered",4,"ngIf"],["style","height:100%",3,"ngModel","ngModelChange",4,"ngIf"],["size","large",1,"spice-vertically-centered"],[2,"height","100%",3,"ngModel","ngModelChange"],[1,"slds-grid","slds-grid--vertical",2,"height","100%"],["imgFrame",""],[1,"spice-vertically-centered",2,"max-height","100%","margin-right","auto","margin-left","auto"],["style","max-width:100%;max-height:100%",3,"src",4,"ngIf"],[1,"slds-button","slds-button_icon","slds-button_icon-container","slds-button_icon-border-filled","toLightbox",2,"position","absolute","top","0.25rem","right","0.25rem","margin","0",3,"click"],[3,"icon"],[1,"slds-button","slds-button_icon","slds-button_icon-container","slds-button_icon-border-filled","toLightbox",2,"position","absolute","bottom","0.25rem","right","0.25rem","margin","0",3,"click"],[2,"max-width","100%","max-height","100%",3,"src"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.YNc(1,Ie,3,2,"ng-container",1),m.YNc(2,Ze,5,2,"div",2),m.qZA()),2&e&&(m.Q6J("ngClass",t.fielddisplayclass+" format-"+t.fieldconfig.format),m.xp6(1),m.Q6J("ngIf",t.isEditMode()),m.xp6(1),m.Q6J("ngIf",!t.isEditMode()))},directives:[s.mk,s.O5,xe.W,W.l,l.JJ,l.On,U.J],encapsulation:2}),fieldMediaFile})();const Je=["buttonToEnlargement"],Se=["buttonToPicker"];function ke(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"button",5,6),m.NdJ("click",(function(){m.CHM(e);return m.oxw(2).getImage()})),m._UZ(2,"system-button-icon",7),m.qZA()}if(2&e){const e=m.oxw(2);m.Q6J("disabled",!e.isEditMode()),m.xp6(2),m.Q6J("icon","image")}}function Ce(e,t){if(1&e&&m._UZ(0,"img",13),2&e){const e=m.oxw(3);m.Q6J("src",e.imageUrl,m.LSH)}}function Ye(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"button",8,9),m.NdJ("click",(function(){m.CHM(e);return m.oxw(2).openEnlarged()})),m.YNc(2,Ce,1,1,"img",10),m.TgZ(3,"span",11),m._UZ(4,"system-button-icon",12),m.qZA()()}if(2&e){const e=m.oxw(2);m.xp6(2),m.Q6J("ngIf",e.imageUrl),m.xp6(2),m.Q6J("icon","threedots")}}function Oe(e,t){if(1&e&&m._UZ(0,"img",20),2&e){const e=m.oxw(3);m.Q6J("src",e.imageUrlEnlarged,m.LSH)}}function Ne(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"button",21),m.NdJ("click",(function(){m.CHM(e);return m.oxw(3).clearField4button()})),m._UZ(1,"system-button-icon",7),m.qZA()}2&e&&(m.xp6(1),m.Q6J("icon","delete"))}function Qe(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"div",14),m.YNc(1,Oe,1,1,"img",15),m.TgZ(2,"button",16,17),m.NdJ("click",(function(){m.CHM(e);return m.oxw(2).closeEnlarged()})),m._UZ(4,"system-button-icon",18),m.qZA(),m.YNc(5,Ne,2,1,"button",19),m._uU(6),m.qZA()}if(2&e){const e=m.MAs(3),t=m.oxw(2);m.xp6(1),m.Q6J("ngIf",t.imageUrlEnlarged),m.xp6(3),m.Q6J("icon","close")("size","small"),m.xp6(1),m.Q6J("ngIf",t.isEditMode()),m.xp6(1),m.hij(" ",e.focus()," ")}}function Le(e,t){if(1&e&&(m.ynx(0),m.YNc(1,ke,3,2,"button",2),m.YNc(2,Ye,5,2,"button",3),m.YNc(3,Qe,7,5,"div",4),m.BQk()),2&e){const e=m.oxw();m.xp6(1),m.Q6J("ngIf",e.fieldIsEmpty),m.xp6(1),m.Q6J("ngIf",!e.fieldIsEmpty),m.xp6(1),m.Q6J("ngIf",e.enlarged)}}function Ue(e,t){if(1&e&&m._UZ(0,"img",24),2&e){const e=m.oxw(2);m.Q6J("src",e.imageUrl,m.LSH)}}function Te(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"button",27,6),m.NdJ("click",(function(){m.CHM(e);return m.oxw(4).getImage()})),m._UZ(2,"system-button-icon",7),m.qZA()}if(2&e){const e=m.oxw(4);m.Q6J("disabled",!e.isEditMode()),m.xp6(2),m.Q6J("icon","image")}}function Ae(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"div",28)(1,"button",29),m.NdJ("click",(function(){m.CHM(e);return m.oxw(4).clearField4image()})),m._UZ(2,"system-button-icon",7),m.qZA()()}2&e&&(m.xp6(2),m.Q6J("icon","delete"))}function qe(e,t){if(1&e&&(m.ynx(0),m.YNc(1,Te,3,2,"button",25),m.YNc(2,Ae,3,1,"div",26),m.BQk()),2&e){const e=m.oxw(3);m.xp6(1),m.Q6J("ngIf",e.fieldIsEmpty),m.xp6(1),m.Q6J("ngIf",!e.fieldIsEmpty)}}function ze(e,t){if(1&e){const e=m.EpF();m.ynx(0),m.TgZ(1,"button",30),m.NdJ("click",(function(){m.CHM(e);return m.oxw(3).setEditMode()})),m._UZ(2,"system-button-icon",7),m.qZA(),m.BQk()}2&e&&(m.xp6(2),m.Q6J("icon","edit"))}function Re(e,t){if(1&e&&(m.ynx(0),m.YNc(1,qe,3,2,"ng-container",1),m.YNc(2,ze,3,1,"ng-container",1),m.BQk()),2&e){const e=m.oxw(2);m.xp6(1),m.Q6J("ngIf",e.isEditMode()),m.xp6(1),m.Q6J("ngIf",!e.isEditMode())}}function He(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"div",22),m.YNc(2,Ue,1,1,"img",23),m.YNc(3,Re,3,2,"ng-container",1),m.qZA(),m.BQk()),2&e){const e=m.oxw();m.xp6(1),m.Q6J("ngStyle",e.imageStyle),m.xp6(1),m.Q6J("ngIf",!e.fieldIsEmpty&&e.imageUrl),m.xp6(1),m.Q6J("ngIf",!e.model.isLoading)}}let Pe=(()=>{class fieldMediaFileImage extends ce.O{constructor(e,t,i,s,l,n,a,d,o,r){super(e,t,i,s,l),this.model=e,this.view=t,this.language=i,this.metadata=s,this.router=l,this.elementRef=n,this.renderer=a,this.mediafiles=d,this.backend=o,this.elRef=r,this.enlarged=!1,this.fieldIsEmpty=!0,this.lastValue="",this.height=""}ngOnInit(){"image"!==this.fieldconfig.format&&(this.fieldconfig.format="button")}ngAfterViewInit(){this.size1rem=this.getSize1rem(),this.thumbSize=2*this.size1rem-2,this.widthOfParent=this.getWidthOfParent(),this.fieldconfig.height&&(this.height="calc("+this.fieldconfig.height+" - 2px - 0.5rem )"),this.model.data$.subscribe((()=>{this.afterLoadingModel()}))}afterLoadingModel(){this.lastValue=this.model.getField(this.fieldname),this.loadImages(),this.model.data$.subscribe((()=>{this.model.getField(this.fieldname)!==this.lastValue&&(this.lastValue=this.model.getField(this.fieldname),this.loadImages())}))}onClick(e){this.elementRef.nativeElement.contains(e.target)||(this.enlarged=!1)}openEnlarged(){this.unsubscribeClickListener=this.renderer.listen("document","click",(e=>this.onClick(e))),this.enlarged=!0}closeEnlarged(){this.enlarged=!1,this.buttonToEnlargement&&this.buttonToEnlargement.nativeElement.focus(),this.unsubscribeClickListener()}loadImages(){this.model.getField(this.fieldname)?(this.fieldIsEmpty=!1,"button"===this.fieldconfig.format?(this.mediafiles.getImageVariant(this.model.getField(this.fieldname),"th/"+this.thumbSize).subscribe((e=>{this.imageUrl=e})),this.mediafiles.getImageVariant(this.model.getField(this.fieldname),"th/200").subscribe((e=>{this.imageUrlEnlarged=e}))):this.mediafiles.getImageVariant(this.model.getField(this.fieldname),"mw/"+this.determineWidthOfImage()).subscribe((e=>{this.imageUrl=e}))):this.fieldIsEmpty=!0}clearField4button(){this.imageUrl=this.imageUrlEnlarged=this.value="",this.enlarged=!1,this.buttonToPicker&&this.buttonToPicker.nativeElement.focus(),this.fieldIsEmpty=!0}clearField4image(){this.imageUrl="",this.model.setField(this.fieldname,""),this.fieldIsEmpty=!0}getImage(){this.mediafiles.getMediaFile(this.fieldconfig.noImagePicker||!1,this.fieldconfig.noMetaData||!1,this.fieldconfig.category).subscribe((e=>{e&&(this.value=e,this.loadImages())}))}editImage(){}getSize1rem(){return Math.ceil(Number(getComputedStyle(document.documentElement,null).fontSize.replace(/px$/,"")))}getWidthOfParent(){return Number(getComputedStyle(this.elRef.nativeElement.parentElement.parentElement,null).width.replace(/px$/,""))-Number(getComputedStyle(this.elRef.nativeElement.parentElement.parentElement,null).paddingLeft.replace(/px$/,""))-Number(getComputedStyle(this.elRef.nativeElement.parentElement.parentElement,null).paddingRight.replace(/px$/,""))}determineWidthOfImage(){return Math.round(this.widthOfParent)}get imageStyle(){return{height:this.height}}setEditMode(){this.isEditable()&&(this.model.startEdit(),this.view.setEditMode(this.fieldid))}isEditable(){return this.getStati(this.fieldname).editable&&!this.getStati(this.fieldname).readonly&&!this.getStati(this.fieldname).disabled&&!this.getStati(this.fieldname).hidden}ngOnDestroy(){this.unsubscribeClickListener&&this.unsubscribeClickListener(),super.ngOnDestroy()}}return fieldMediaFileImage.ɵfac=function(e){return new(e||fieldMediaFileImage)(m.Y36(_.o),m.Y36(E.e),m.Y36(M.d),m.Y36(b.Pu),m.Y36(ne.F0),m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(I),m.Y36(u.y),m.Y36(m.SBq))},fieldMediaFileImage.ɵcmp=m.Xpm({type:fieldMediaFileImage,selectors:[["field-media-file-image"]],viewQuery:function(e,t){if(1&e&&(m.Gf(Je,7),m.Gf(Se,7)),2&e){let e;m.iGM(e=m.CRH())&&(t.buttonToEnlargement=e.first),m.iGM(e=m.CRH())&&(t.buttonToPicker=e.first)}},features:[m._Bn([I]),m.qOj],decls:3,vars:3,consts:[[1,"slds-is-relative",3,"ngClass"],[4,"ngIf"],["class","slds-button slds-button_icon slds-button_icon-container slds-button_icon-border-filled",3,"disabled","click",4,"ngIf"],["class","slds-button slds-button slds-button_icon slds-button_icon-border-filled slds-button_icon-container","style","width:4rem",3,"click",4,"ngIf"],["class","slds-is-absolute","style","width:160px; height:160px; left: calc(50% - 80px); top: calc(50% - 80px); z-index: 1; background-color: #ccc; border-radius:0.25rem; background-color: #fdfdfd; box-shadow: 0 2px 3px 0 rgba(0,0,0,.16); border: 1px solid #d8dde6",4,"ngIf"],[1,"slds-button","slds-button_icon","slds-button_icon-container","slds-button_icon-border-filled",3,"disabled","click"],["buttonToPicker",""],[3,"icon"],[1,"slds-button","slds-button","slds-button_icon","slds-button_icon-border-filled","slds-button_icon-container",2,"width","4rem",3,"click"],["buttonToEnlargement",""],["class","imgInButton","style","border-radius: 0.25rem 0 0 0.25rem; padding: 1px 0 1px 1px; height: calc(2rem - 2px); width: calc(2rem - 1px)",3,"src",4,"ngIf"],[1,"slds-text-align_center"],[2,"width","calc(2rem - 2px)",3,"icon"],[1,"imgInButton",2,"border-radius","0.25rem 0 0 0.25rem","padding","1px 0 1px 1px","height","calc(2rem - 2px)","width","calc(2rem - 1px)",3,"src"],[1,"slds-is-absolute",2,"width","160px","height","160px","left","calc(50% - 80px)","top","calc(50% - 80px)","z-index","1","background-color","#ccc","border-radius","0.25rem","background-color","#fdfdfd","box-shadow","0 2px 3px 0 rgba(0,0,0,.16)","border","1px solid #d8dde6"],["class","slds-image","style","border: 1px solid #999","width","160","height","160",3,"src",4,"ngIf"],["title","Close",1,"slds-button","slds-button_icon","slds-is-absolute",2,"top","0.25rem","right","0.25rem","cursor","pointer","margin","0","filter","drop-shadow( 0px 0px 3px #fff)",3,"click"],["closebutton",""],[3,"icon","size"],["class","slds-button slds-button_icon slds-button_icon-container slds-button_icon-border-filled slds-is-absolute","title","Delete","style","bottom: 0.25rem; left: 0.25rem; margin: 0;",3,"click",4,"ngIf"],["width","160","height","160",1,"slds-image",2,"border","1px solid #999",3,"src"],["title","Delete",1,"slds-button","slds-button_icon","slds-button_icon-container","slds-button_icon-border-filled","slds-is-absolute",2,"bottom","0.25rem","left","0.25rem","margin","0",3,"click"],[1,"slds-box--border","slds-align_absolute-center",3,"ngStyle"],["style","max-height:100%;padding:0.25rem",3,"src",4,"ngIf"],[2,"max-height","100%","padding","0.25rem",3,"src"],["class","slds-button slds-button_icon slds-button_icon-container slds-button_icon-border-filled slds-align--absolute-center",3,"disabled","click",4,"ngIf"],["class","slds-is-absolute spice-button-group-vertical slds-is-absolute","style","bottom:1.25rem; right:0.75rem",4,"ngIf"],[1,"slds-button","slds-button_icon","slds-button_icon-container","slds-button_icon-border-filled","slds-align--absolute-center",3,"disabled","click"],[1,"slds-is-absolute","spice-button-group-vertical","slds-is-absolute",2,"bottom","1.25rem","right","0.75rem"],["title","Delete",1,"slds-button","slds-button_icon","slds-button_icon-container","slds-button_icon-border-filled",3,"click"],[1,"slds-button","slds-button_icon","slds-is-absolute",2,"bottom","1.25rem","right","0.75rem",3,"click"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.YNc(1,Le,4,3,"ng-container",1),m.YNc(2,He,4,3,"ng-container",1),m.qZA()),2&e&&(m.Q6J("ngClass",t.fielddisplayclass),m.xp6(1),m.Q6J("ngIf","button"===t.fieldconfig.format),m.xp6(1),m.Q6J("ngIf","button"!==t.fieldconfig.format))},directives:[s.mk,s.O5,U.J,s.PC],encapsulation:2}),fieldMediaFileImage})(),De=(()=>{class ModuleMediaFiles{}return ModuleMediaFiles.ɵfac=function(e){return new(e||ModuleMediaFiles)},ModuleMediaFiles.ɵmod=m.oAB({type:ModuleMediaFiles}),ModuleMediaFiles.ɵinj=m.cJS({imports:[[s.ez,l.u5,n.ObjectFields,a.GlobalComponents,d.ObjectComponents,o.SystemComponents,r.o]]}),ModuleMediaFiles})();("undefined"==typeof ngJitMode||ngJitMode)&&m.kYT(De,{declarations:[w,G,se,re,R,be,Ee,Pe],imports:[s.ez,l.u5,n.ObjectFields,a.GlobalComponents,d.ObjectComponents,o.SystemComponents,r.o],exports:[w,G,se]})}}]);