/*!
 * 
 *                     SpiceCRM
 *
 *                     release: 2024.01.001
 *
 *                     date: 2024-06-07 18:47:00
 *
 *                     build: 2024.01.001.1717778820753
 *
 */
"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([["src_modules_home_modulehome_ts"],{11656:(s,t,e)=>{e.r(t),e.d(t,{ModuleHome:()=>ys});var i=e(60177),a=e(84341),n=e(7745),o=e(12948),d=e(37328),l=e(70569),r=e(71341),c=e(78625),h=e(54438),m=e(40553),u=e(60968),b=e(83935),f=e(48849),g=e(30209),p=e(77864),v=e(76107),y=e(21413),D=e(92462),C=e(49722),I=e(29994),k=e(97317);let j=(()=>{class assistant{constructor(s,t,e,i,a){this.modelutilities=s,this.backend=t,this.broadcast=e,this.session=i,this.notification=a,this.assistantModules=[],this.assitantItems=[],this.assistantFilters={objectfilters:[],timefilter:"all"},this.initialized=!1,this.loading=!0,this.reminder=null,this.broadcast.message$.subscribe((s=>{this.handleMessage(s)})),this.session.authData.sessionId&&this.initialize()}handleMessage(s){switch(s.messagetype){case"logout":this.assitantItems=[],this.initialized=!1,this.reminder&&clearInterval(this.reminder);break;case"login":this.initialize();break;case"model.delete":case"model.save":this.assistantModules.indexOf(s.messagedata.module)>=0&&this.loadItems(!0)}}initialize(){this.initialized||(this.initialized=!0,this.loadItems(),this.reminder=setInterval((()=>{this.remind()}),6e4))}remind(){let s=moment.utc();for(let t of this.assitantItems)if(t.data.reminder_time&&"-1"!=t.data.reminder_time){let e=new moment.utc(t.date_activity).subtract(parseInt(t.data.reminder_time,10),"seconds");if(s.format("YYYYMMDDHHmm")==e.format("YYYYMMDDHHmm")){let s={id:this.modelutilities.generateGuid(),bean_module:t.module,bean_id:t.data.id,created_by:t.data.created_by,created_by_name:t.data.created_by,user_id:t.data.created_by,notification_date:t.date_activity,notification_type:"reminder",notification_read:0,additional_infos:{},bean_name:t.data.summary_text};this.notification.displayRealtimeNotification(s,!1)}}}loadItems(s=!0){s||(this.loading=!0,this.assitantItems=[]);let t=new y.B;return this.backend.getRequest("module/Activities/assistant/list").subscribe({next:s=>{let e=[];for(let t of s.items)e.push({id:t.id,module:t.module,date_activity:t.date_activity,data:this.modelutilities.backendModel2spice(t.module,t.data)});this.assitantItems=e,this.assistantModules=s.modules?s.modules:[],t.next(this.assitantItems),t.complete(),this.loading=!1},error:()=>{this.loading=!1}}),t.asObservable()}get filteredItems(){return"all"!=this.assistantFilters.timefilter||this.assistantFilters.objectfilters.length>0?this.assitantItems.filter((s=>{if(this.assistantFilters.objectfilters.length>0&&-1==this.assistantFilters.objectfilters.indexOf(s.module))return!1;if("all"!=this.assistantFilters.timefilter){let t=new moment.utc(s.date_activity);if("today"==this.assistantFilters.timefilter&&!t.isSame(moment.utc(),"day"))return!1;if("overdue"==this.assistantFilters.timefilter&&!t.isBefore(moment.utc(),"day"))return!1}return!0})):this.assitantItems}get activityTypes(){let s=[];for(let t of this.assitantItems)-1==s.indexOf(t.module)&&s.push(t.module);return s}static#s=this.ɵfac=function(s){return new(s||assistant)(h.KVO(D.g),h.KVO(C.H),h.KVO(m.m),h.KVO(I.d),h.KVO(k.E))};static#t=this.ɵprov=h.jDH({token:assistant,factory:assistant.ɵfac,providedIn:"root"})}return assistant})();var x=e(66031),F=e(69904),R=e(25863),M=e(72486),H=e(32062),S=e(28933),G=e(22465),U=e(23221),L=e(56639),w=e(84359),O=e(66589),B=e(44985),X=e(18521);function A(s,t){if(1&s){const s=h.RV6();h.j41(0,"div",7)(1,"system-checkbox",20),h.bIt("ngModelChange",(function(t){const e=h.eBV(s).$implicit,i=h.XpG();return h.Njj(i.setFilter(e,t))})),h.nrm(2,"system-label-modulename",21),h.k0s()()}if(2&s){const s=t.$implicit,e=h.XpG();h.R7$(),h.Y8G("ngModel",e.getChecked(s)),h.R7$(),h.Y8G("module",s)}}const Y=s=>({"slds-is-open":s});let $=(()=>{class HomeAssistantFilter{constructor(s,t,e,i,a){this.renderer=s,this.elementRef=t,this.language=e,this.metadata=i,this.assistant=a,this.isOpen=!1}get activityTypes(){return this.assistant.activityTypes}toggleOpen(s){s.stopPropagation(),this.isOpen=!this.isOpen,this.isOpen?this.clickListener=this.renderer.listen("document","click",(s=>this.onClick(s))):this.clickListener&&this.clickListener()}onClick(s){this.elementRef.nativeElement.contains(s.target)||(this.isOpen=!1,this.clickListener())}get filterColorClass(){return this.assistant.assistantFilters.objectfilters.length>0||"all"!=this.assistant.assistantFilters.timefilter?"slds-icon-text-error":"slds-icon-text-default"}setFilter(s,t){if("all"==s)this.assistant.assistantFilters.objectfilters=[];else if(t)this.assistant.assistantFilters.objectfilters.push(s);else{let t=this.assistant.assistantFilters.objectfilters.indexOf(s);this.assistant.assistantFilters.objectfilters.splice(t,1)}}getChecked(s){return"all"==s?0==this.assistant.assistantFilters.objectfilters.length:this.assistant.assistantFilters.objectfilters.indexOf(s)>=0}closeDialog(){this.clickListener&&this.clickListener(),this.isOpen=!1}static#s=this.ɵfac=function(s){return new(s||HomeAssistantFilter)(h.rXU(h.sFG),h.rXU(h.aKT),h.rXU(F.B),h.rXU(b.yu),h.rXU(j))};static#t=this.ɵcmp=h.VBU({type:HomeAssistantFilter,selectors:[["home-assistant-filter"]],decls:22,vars:11,consts:[[1,"slds-dropdown-trigger","slds-dropdown-trigger_click","slds-p-horizontal--xxx-small",3,"ngClass"],["icon","filterList","size","xx-small",3,"colorclass","title","click"],[1,"slds-is-absolute","slds-dropdown","slds-dropdown_right","slds-nubbin_top-right",2,"right","-15px","top","25px"],[1,"slds-grid"],[1,"slds-p-horizontal--small","slds-border--right",2,"min-width","120px"],[1,"slds-p-vertical--x-small"],["label","LBL_TYPE"],[1,"slds-form-element","slds-p-vertical--xx-small"],[3,"disabled","ngModel","ngModelChange"],["label","LBL_ALL"],["class","slds-form-element slds-p-vertical--xx-small",4,"ngFor","ngForOf"],[1,"slds-p-horizontal--small",2,"min-width","120px"],["label","LBL_FILTER"],[1,"slds-form-element"],[1,"slds-form-element__control"],["name","filters","value","all",3,"ngModel","ngModelChange"],["name","filters","value","overdue",3,"ngModel","ngModelChange"],["label","LBL_OVERDUE"],["name","filters","value","today",3,"ngModel","ngModelChange"],["label","LBL_TODAY"],[3,"ngModel","ngModelChange"],[3,"module"]],template:function(s,t){1&s&&(h.j41(0,"div",0)(1,"system-utility-icon",1),h.bIt("click",(function(s){return t.toggleOpen(s)})),h.k0s(),h.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h.nrm(6,"system-label",6),h.k0s(),h.j41(7,"div",7)(8,"system-checkbox",8),h.bIt("ngModelChange",(function(s){return t.setFilter("all",s)})),h.nrm(9,"system-label",9),h.k0s()(),h.DNE(10,A,3,2,"div",10),h.k0s(),h.j41(11,"div",11)(12,"div",5),h.nrm(13,"system-label",12),h.k0s(),h.j41(14,"fieldset",13)(15,"div",14)(16,"system-input-radio",15),h.mxI("ngModelChange",(function(s){return h.DH7(t.assistant.assistantFilters.timefilter,s)||(t.assistant.assistantFilters.timefilter=s),s})),h.nrm(17,"system-label",9),h.k0s(),h.j41(18,"system-input-radio",16),h.mxI("ngModelChange",(function(s){return h.DH7(t.assistant.assistantFilters.timefilter,s)||(t.assistant.assistantFilters.timefilter=s),s})),h.nrm(19,"system-label",17),h.k0s(),h.j41(20,"system-input-radio",18),h.mxI("ngModelChange",(function(s){return h.DH7(t.assistant.assistantFilters.timefilter,s)||(t.assistant.assistantFilters.timefilter=s),s})),h.nrm(21,"system-label",19),h.k0s()()()()()()()),2&s&&(h.Y8G("ngClass",h.eq3(9,Y,t.isOpen)),h.R7$(),h.Y8G("colorclass",t.filterColorClass)("title",t.language.getLabel("LBL_FILTER")),h.R7$(7),h.Y8G("disabled",t.getChecked("all"))("ngModel",t.getChecked("all")),h.R7$(2),h.Y8G("ngForOf",t.activityTypes),h.R7$(6),h.R50("ngModel",t.assistant.assistantFilters.timefilter),h.R7$(2),h.R50("ngModel",t.assistant.assistantFilters.timefilter),h.R7$(2),h.R50("ngModel",t.assistant.assistantFilters.timefilter))},dependencies:[i.YU,i.Sq,a.BC,a.vS,w.f,O.J,H.W,B.r,X.B],encapsulation:2})}return HomeAssistantFilter})();function T(s,t){1&s&&(h.j41(0,"div",13),h.nrm(1,"system-illustration-no-task",14),h.k0s())}function V(s,t){if(1&s&&(h.j41(0,"li",15),h.nrm(1,"activitytimeline-item-container",16),h.k0s()),2&s){const s=t.$implicit;h.R7$(),h.Y8G("activity",s)}}function E(s,t){1&s&&(h.j41(0,"ul",10)(1,"li",15),h.nrm(2,"activitytimeline-stencil"),h.k0s(),h.j41(3,"li",17),h.nrm(4,"activitytimeline-stencil"),h.k0s(),h.j41(5,"li",18),h.nrm(6,"activitytimeline-stencil"),h.k0s(),h.j41(7,"li",19),h.nrm(8,"activitytimeline-stencil"),h.k0s(),h.j41(9,"li",20),h.nrm(10,"activitytimeline-stencil"),h.k0s()())}let z=(()=>{class HomeAssistant{constructor(s,t,e){this.assistant=s,this.navigationtab=t,this.language=e,this.navigationtab.setTabInfo({displayname:this.language.getLabel("LBL_ASSISTANT"),displaymodule:"Home"})}reload(s){s.stopPropagation(),this.assistant.loadItems(!1)}get loading(){return this.assistant.loading}get noActivities(){return!this.assistant.loading&&0==this.assistant.assitantItems.length}trackByFn(s,t){return t.id}static#s=this.ɵfac=function(s){return new(s||HomeAssistant)(h.rXU(j),h.rXU(x._),h.rXU(F.B))};static#t=this.ɵcmp=h.VBU({type:HomeAssistant,selectors:[["home-assistant"]],decls:14,vars:4,consts:[[1,"slds-grid","slds-theme--default","slds-grid--vertical","slds-nowrap","slds-border--left","slds-border--right"],[1,"slds-p-around--small"],[1,"slds-grid","slds-grid--align-spread","slds-has-flexi-truncate","slds-grid--vertical-align-center"],[1,"slds-page-header__title","slds-m-right--small","slds-align-middle","slds-truncate"],["label","LBL_ASSISTANT"],[1,"slds-shrink-none"],["system-title","LBL_REFRESH",1,"slds-button","slds-button--icon",3,"disabled","click"],["icon","refresh"],["system-to-bottom",""],["class","slds-align--absolute-center slds-height_full",4,"ngIf"],[1,"slds-timeline"],["class","slds-p-around--xx-small",4,"ngFor","ngForOf"],["class","slds-timeline",4,"ngIf"],[1,"slds-align--absolute-center","slds-height_full"],[1,"slds-p-around--medium"],[1,"slds-p-around--xx-small"],["module","Activities",3,"activity"],[1,"slds-p-around--xx-small",2,"opacity","0.8"],[1,"slds-p-around--xx-small",2,"opacity","0.6"],[1,"slds-p-around--xx-small",2,"opacity","0.4"],[1,"slds-p-around--xx-small",2,"opacity","0.2"]],template:function(s,t){1&s&&(h.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),h.nrm(4,"system-label",4),h.k0s(),h.j41(5,"div",5),h.nrm(6,"home-assistant-filter"),h.j41(7,"button",6),h.bIt("click",(function(s){return t.reload(s)})),h.nrm(8,"system-button-icon",7),h.k0s()()()(),h.j41(9,"div",8),h.DNE(10,T,2,0,"div",9),h.j41(11,"ul",10),h.DNE(12,V,2,1,"li",11),h.k0s(),h.DNE(13,E,11,0,"ul",12),h.k0s()()),2&s&&(h.R7$(7),h.Y8G("disabled",t.assistant.loading),h.R7$(3),h.Y8G("ngIf",t.noActivities),h.R7$(2),h.Y8G("ngForOf",t.assistant.filteredItems),h.R7$(),h.Y8G("ngIf",t.loading))},dependencies:[i.Sq,i.bT,R.t,M.w,H.W,S.b,G.L,U.t,L.v,$],encapsulation:2})}return HomeAssistant})();const N=["dashboardcontainer"];let q=(()=>{class HomeDashboard{constructor(s,t,e,i){this.broadcast=s,this.metadata=t,this.language=e,this.userpreferences=i,this.componentSubscriptions=[],this.dashboardid="",this.dashboardcontainercomponent=void 0,this.componentSubscriptions.push(this.broadcast.message$.subscribe((s=>{this.handleMessage(s)}))),this.loadDashboardConfig()}handleMessage(s){switch(s.messagetype){case"applauncher.setrole":this.loadDashboardConfig();break;case"wizard.complete":this.reloadContainer()}}loadDashboardConfig(){let s=this.userpreferences.toUse.home_dashboard||void 0,t=this.metadata.getActiveRole();this.dashboardid=s||t.default_dashboard||"",this.dashboardcontainercomponent&&(this.dashboardcontainercomponent.instance.dashboardid=this.dashboardid)}ngAfterViewInit(){this.reloadContainer()}reloadContainer(){this.dashboardcontainercomponent&&(this.dashboardcontainercomponent.destroy(),this.dashboardcontainercomponent=void 0),this.metadata.addComponent("DashboardContainer",this.dashboardcontainer).subscribe((s=>{s.instance.dashboardid=this.dashboardid,s.instance.context="Home",this.dashboardcontainercomponent=s}))}ngOnDestroy(){for(let s of this.componentSubscriptions)s.unsubscribe()}static#s=this.ɵfac=function(s){return new(s||HomeDashboard)(h.rXU(m.m),h.rXU(b.yu),h.rXU(F.B),h.rXU(f.S))};static#t=this.ɵcmp=h.VBU({type:HomeDashboard,selectors:[["home-dashboard"]],viewQuery:function(s,t){if(1&s&&h.GBs(N,7,h.c1b),2&s){let s;h.mGM(s=h.lsd())&&(t.dashboardcontainer=s.first)}},decls:3,vars:0,consts:[[1,"slds-theme--shade"],["dashboardcontainer",""]],template:function(s,t){1&s&&(h.j41(0,"div",0),h.nrm(1,"div",null,1),h.k0s())},encapsulation:2})}return HomeDashboard})();var K=e(18359),J=e(39554),P=e(43308);const W=["moreTab"],Q=["activeDashboardContainer"],Z=["maintabs"],ss=["moreTabItems"];function ts(s,t){if(1&s){const s=h.RV6();h.j41(0,"div")(1,"system-input-radio-button-group",4),h.mxI("ngModelChange",(function(t){h.eBV(s);const e=h.XpG();return h.DH7(e.activeDashboardId,t)||(e.activeDashboardId=t),h.Njj(t)})),h.k0s()()}if(2&s){const s=h.XpG();h.R7$(),h.Y8G("inputOptions",s.dashboardsList),h.R50("ngModel",s.activeDashboardId)}}function es(s,t){1&s&&(h.j41(0,"div",5)(1,"div",6),h.nrm(2,"system-stencil",7),h.k0s(),h.j41(3,"div",6),h.nrm(4,"system-stencil",7),h.k0s(),h.j41(5,"div",6),h.nrm(6,"system-stencil",7),h.k0s(),h.j41(7,"div"),h.nrm(8,"system-stencil",7),h.k0s()())}let is=(()=>{class HomeDashboardSetContainer{constructor(s,t,e,i,a,n,o,d){this.broadcast=s,this.metadata=t,this.language=e,this.renderer=i,this.backend=a,this.elementRef=n,this.cdr=o,this.userpreferences=d,this.subscriptions=new K.yU,this.dashboardsList=[],this.isLoading=!1,this._activeDashboardId="",this._activeDashboardSetId="",this.subscribeToBroadcast(),this.loadDashboardConfig()}get activeDashboardId(){return this._activeDashboardId}set activeDashboardId(s){this._activeDashboardId=s,this.renderView()}get activeDashboardSetId(){return this._activeDashboardSetId}set activeDashboardSetId(s){this._activeDashboardSetId=s}ngOnDestroy(){this.subscriptions.unsubscribe(),this.resetView()}ngAfterViewInit(){this.loadDashboards()}subscribeToBroadcast(){this.subscriptions.add(this.broadcast.message$.subscribe((s=>{this.handleBroadcastSubscription(s)})))}loadDashboards(){this.isLoading=!0,this.cdr.detectChanges(),this.loadDashboardSetDashboards().subscribe((s=>{this.isLoading=!1,s&&(this.dashboardsList=_.toArray(s).map((s=>({label:s.name,value:s.id}))),this.dashboardsList.length>0&&(this.activeDashboardId=this.dashboardsList[0].value),this.cdr.detectChanges())}))}handleBroadcastSubscription(s){if("applauncher.setrole"===s.messagetype)this.loadDashboardConfig()}loadDashboardConfig(){let s=this.userpreferences.toUse.home_dashboard||void 0,t=this.metadata.getActiveRole();this.activeDashboardId=s||t.default_dashboard||"";let e=this.userpreferences.toUse.home_dashboardset||void 0;this.activeDashboardSetId=e||t.default_dashboardset||"",this.dashboardContainerComponentRef&&(this.dashboardContainerComponentRef.instance.dashboardid=this.activeDashboardId)}renderView(){this.resetView(),this.activeDashboardContainer&&this.metadata.addComponent("DashboardContainer",this.activeDashboardContainer).subscribe((s=>{s.instance.dashboardid=this.activeDashboardId,s.instance.context="Home",this.dashboardContainerComponentRef=s}))}resetView(){this.dashboardContainerComponentRef&&(this.dashboardContainerComponentRef.destroy(),this.dashboardContainerComponentRef=void 0)}loadDashboardSetDashboards(){let s=this.userpreferences.toUse.home_dashboardset||this.activeDashboardSetId,t={limit:-99,modulefilter:this.metadata.getComponentConfig("HomeDashboardSetContainer","Home").moduleFilter,sort:{sortfield:"dashboardsets_dashboard_sequence",sortdirection:"ASC"}};return this.backend.getRequest(`module/DashboardSets/${s}/related/dashboards`,t)}static#s=this.ɵfac=function(s){return new(s||HomeDashboardSetContainer)(h.rXU(m.m),h.rXU(b.yu),h.rXU(F.B),h.rXU(h.sFG),h.rXU(C.H),h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(f.S))};static#t=this.ɵcmp=h.VBU({type:HomeDashboardSetContainer,selectors:[["home-dashboardset-container"]],viewQuery:function(s,t){if(1&s&&(h.GBs(W,5,h.c1b),h.GBs(Q,5,h.c1b),h.GBs(Z,5,h.c1b),h.GBs(ss,5,h.c1b)),2&s){let s;h.mGM(s=h.lsd())&&(t.moreTab=s.first),h.mGM(s=h.lsd())&&(t.activeDashboardContainer=s.first),h.mGM(s=h.lsd())&&(t.maintabs=s),h.mGM(s=h.lsd())&&(t.moreTabItems=s)}},decls:7,vars:2,consts:[[1,"slds-p-around--xx-small","slds-scrollable--x","slds-border--bottom"],[4,"ngIf","ngIfElse"],["isLoadingContainer",""],["activeDashboardContainer",""],[3,"inputOptions","ngModel","ngModelChange"],[1,"slds-grid"],[1,"slds-p-right--xx-small"],[2,"line-height","1.6rem"]],template:function(s,t){if(1&s&&(h.j41(0,"div")(1,"div",0),h.DNE(2,ts,2,2,"div",1)(3,es,9,0,"ng-template",null,2,h.C5r),h.k0s(),h.nrm(5,"div",null,3),h.k0s()),2&s){const s=h.sdS(4);h.R7$(2),h.Y8G("ngIf",!t.isLoading)("ngIfElse",s)}},dependencies:[i.bT,a.BC,a.vS,J.s,P.O],encapsulation:2})}return HomeDashboardSetContainer})();function as(s,t){1&s&&(h.qex(0),h.nrm(1,"home-dashboardset-container"),h.bVm())}function ns(s,t){if(1&s){const s=h.RV6();h.j41(0,"div",2)(1,"system-split-container",3),h.bIt("onExpand",(function(){h.eBV(s);const t=h.XpG();return h.Njj(t.cdRef.detectChanges())})),h.j41(2,"system-split-container-left",4),h.DNE(3,as,2,0,"ng-container",5),h.k0s(),h.j41(4,"system-split-container-right",6),h.nrm(5,"home-assistant"),h.k0s()()()}if(2&s){const s=h.XpG(),t=h.sdS(3);h.R7$(3),h.Y8G("ngIf",s.hasDashboardSet)("ngIfElse",t)}}function os(s,t){1&s&&(h.qex(0),h.nrm(1,"home-dashboardset-container"),h.bVm())}function ds(s,t){if(1&s&&(h.j41(0,"div",2)(1,"div",7),h.DNE(2,os,2,0,"ng-container",5),h.k0s()()),2&s){const s=h.XpG(),t=h.sdS(3);h.R7$(2),h.Y8G("ngIf",s.hasDashboardSet)("ngIfElse",t)}}function ls(s,t){1&s&&h.nrm(0,"home-dashboard")}let rs=(()=>{class Home{constructor(s,t,e,i,a){if(this.broadcast=s,this.navigation=t,this.metadata=e,this.userpreferences=i,this.cdRef=a,this.hasDashboardSet=!1,this.userpreferences.loadPreferences().subscribe((s=>this.hasDashboardSet=s.home_dashboardset&&s.home_dashboardset.length>0)),!this.hasDashboardSet){let s=this.metadata.getActiveRole();s&&s.default_dashboardset&&s.default_dashboardset&&(this.hasDashboardSet=!0)}this.navigation.setActiveModule("Home")}get displayHomeAssistant(){let s=!this.userpreferences.toUse.home_assistant||"hidden"==this.userpreferences.toUse.home_assistant;return window.innerWidth>1024&&!s}static#s=this.ɵfac=function(s){return new(s||Home)(h.rXU(m.m),h.rXU(u.L),h.rXU(b.yu),h.rXU(f.S),h.rXU(h.gRc))};static#t=this.ɵcmp=h.VBU({type:Home,selectors:[["home"]],decls:4,vars:2,consts:[["class","slds-grid",4,"ngIf"],["homeDashboardContainer",""],[1,"slds-grid"],[3,"onExpand"],["containerClass","slds-col slds-large-size--3-of-4 slds-medium-size--1-of-2"],[4,"ngIf","ngIfElse"],["containerClass","slds-col slds-large-size--1-of-4 slds-medium-size--1-of-2"],[1,"slds-col","slds-size--1-of-1"]],template:function(s,t){1&s&&h.DNE(0,ns,6,2,"div",0)(1,ds,3,2,"div",0)(2,ls,1,0,"ng-template",null,1,h.C5r),2&s&&(h.Y8G("ngIf",t.displayHomeAssistant),h.R7$(),h.Y8G("ngIf",!t.displayHomeAssistant))},dependencies:[i.bT,g.D,p.a,v.R,z,q,is],encapsulation:2})}return Home})();var cs=e(35911),hs=e(41731),ms=e(15091),us=e(76073),bs=e(68823),fs=e(45915),gs=e(33325);function ps(s,t){if(1&s&&(h.qex(0),h.j41(1,"dt",11),h.nrm(2,"system-label-fieldname",12),h.k0s(),h.j41(3,"dd",13),h.nrm(4,"field-container",14),h.k0s(),h.bVm()),2&s){const s=t.$implicit,e=h.XpG();h.R7$(2),h.Y8G("module",e.model.module)("field",s.field),h.R7$(2),h.Y8G("field",s.field)("fieldconfig",s.fieldconfig)("fielddisplayclass","slds-truncate")}}let vs=(()=>{class HomeAssistantTile{constructor(s,t,e,i){this.language=s,this.model=t,this.view=e,this.metadata=i,this.item={},this.tileFields=[],this.actionset="",e.isEditable=!1}ngOnInit(){let s=this.metadata.getComponentConfig("HomeAssistantTile",this.item.module);s&&s.fieldset&&(this.tileFields=this.metadata.getFieldSetFields(s.fieldset)),s&&s.actionset&&(this.actionset=s.actionset),this.model.module=this.item.module,this.model.id=this.item.id,this.model.setData(this.item.data)}goDetail(){this.model.goDetail()}static#s=this.ɵfac=function(s){return new(s||HomeAssistantTile)(h.rXU(F.B),h.rXU(cs.g),h.rXU(hs.U),h.rXU(b.yu))};static#t=this.ɵcmp=h.VBU({type:HomeAssistantTile,selectors:[["home-assistant-tile"]],inputs:{item:"item"},features:[h.Jv_([cs.g,hs.U])],decls:12,vars:6,consts:[[1,"slds-tile","slds-media","slds-p-around--x-small","slds-border--bottom"],[3,"module","size"],[1,"slds-media__body"],[1,"slds-grid","slds-grid_align-spread","slds-has-flexi-truncate","slds-p-bottom--xx-small"],["system-model-popover","",1,"slds-tile__title","slds-truncate"],["href","javascript:void(0);",3,"click"],[1,"slds-shrink-none"],[3,"buttonsize","actionset"],[1,"slds-tile__detail"],[1,"slds-list_horizontal","slds-wrap"],[4,"ngFor","ngForOf"],[1,"slds-item--label","slds-text-color--weak","slds-truncate"],[3,"module","field"],[1,"slds-item--detail","slds-truncate"],[3,"field","fieldconfig","fielddisplayclass"]],template:function(s,t){1&s&&(h.j41(0,"article",0),h.nrm(1,"system-icon",1),h.j41(2,"div",2)(3,"div",3)(4,"h3",4)(5,"a",5),h.bIt("click",(function(){return t.goDetail()})),h.EFF(6),h.k0s()(),h.j41(7,"div",6),h.nrm(8,"object-actionset-menu",7),h.k0s()(),h.j41(9,"div",8)(10,"dl",9),h.DNE(11,ps,5,5,"ng-container",10),h.k0s()()()()),2&s&&(h.R7$(),h.Y8G("module",t.item.module)("size","small"),h.R7$(5),h.JRh(t.item.data.summary_text),h.R7$(2),h.Y8G("buttonsize","x-small")("actionset",t.actionset),h.R7$(3),h.Y8G("ngForOf",t.tileFields))},dependencies:[i.Sq,ms.y,us.L,bs.J,fs.P,gs.j],encapsulation:2})}return HomeAssistantTile})(),ys=(()=>{class ModuleHome{static#s=this.ɵfac=function(s){return new(s||ModuleHome)};static#t=this.ɵmod=h.$C({type:ModuleHome});static#e=this.ɵinj=h.G2t({imports:[i.MD,a.YN,n.ObjectFields,o.GlobalComponents,d.ObjectComponents,l.SystemComponents,r.h,c.ModuleActivities]})}return ModuleHome})();("undefined"==typeof ngJitMode||ngJitMode)&&h.Obh(ys,{declarations:[rs,z,vs,$,q,is],imports:[i.MD,a.YN,n.ObjectFields,o.GlobalComponents,d.ObjectComponents,l.SystemComponents,r.h,c.ModuleActivities]})}}]);