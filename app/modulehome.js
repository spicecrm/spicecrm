/*!
 * 
 *                     aacService
 *
 *                     release: 2023.03.001
 *
 *                     date: 2024-01-03 13:43:56
 *
 *                     build: 2023.03.001.1704285836024
 *
 */
"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([["src_modules_home_modulehome_ts"],{8373:(t,s,e)=>{e.r(s),e.d(s,{ModuleHome:()=>_t});var i=e(44755),a=e(95030),n=e(53190),o=e(34826),d=e(19784),l=e(57239),r=e(84357),c=e(88772),h=e(62242),m=e(33369),u=e(82032),g=e(4154),b=e(62422),f=e(9159),p=e(42235),v=e(72637),Z=e(77579),y=e(29266),x=e(14505),C=e(75920),A=e(83298);let D=(()=>{class assistant{modelutilities;backend;broadcast;session;notification;assistantModules=[];assitantItems=[];assistantFilters={objectfilters:[],timefilter:"all"};initialized=!1;loading=!0;reminder=null;constructor(t,s,e,i,a){this.modelutilities=t,this.backend=s,this.broadcast=e,this.session=i,this.notification=a,this.broadcast.message$.subscribe((t=>{this.handleMessage(t)})),this.session.authData.sessionId&&this.initialize()}handleMessage(t){switch(t.messagetype){case"logout":this.assitantItems=[],this.initialized=!1,this.reminder&&clearInterval(this.reminder);break;case"login":this.initialize();break;case"model.delete":case"model.save":this.assistantModules.indexOf(t.messagedata.module)>=0&&this.loadItems(!0)}}initialize(){this.initialized||(this.initialized=!0,this.loadItems(),this.reminder=setInterval((()=>{this.remind()}),6e4))}remind(){let t=moment.utc();for(let s of this.assitantItems)if(s.data.reminder_time&&"-1"!=s.data.reminder_time){let e=new moment.utc(s.date_activity).subtract(parseInt(s.data.reminder_time,10),"seconds");if(t.format("YYYYMMDDHHmm")==e.format("YYYYMMDDHHmm")){let t={id:this.modelutilities.generateGuid(),bean_module:s.module,bean_id:s.data.id,created_by:s.data.created_by,created_by_name:s.data.created_by,user_id:s.data.created_by,notification_date:s.date_activity,notification_type:"reminder",notification_read:0,additional_infos:{},bean_name:s.data.summary_text};this.notification.displayRealtimeNotification(t,!1)}}}loadItems(t=!0){t||(this.loading=!0,this.assitantItems=[]);let s=new Z.x;return this.backend.getRequest("module/Activities/assistant/list").subscribe({next:t=>{let e=[];for(let s of t.items)e.push({id:s.id,module:s.module,date_activity:s.date_activity,data:this.modelutilities.backendModel2spice(s.module,s.data)});this.assitantItems=e,this.assistantModules=t.modules?t.modules:[],s.next(this.assitantItems),s.complete(),this.loading=!1},error:()=>{this.loading=!1}}),s.asObservable()}get filteredItems(){return"all"!=this.assistantFilters.timefilter||this.assistantFilters.objectfilters.length>0?this.assitantItems.filter((t=>{if(this.assistantFilters.objectfilters.length>0&&-1==this.assistantFilters.objectfilters.indexOf(t.module))return!1;if("all"!=this.assistantFilters.timefilter){let s=new moment.utc(t.date_activity);if("today"==this.assistantFilters.timefilter&&!s.isSame(moment.utc(),"day"))return!1;if("overdue"==this.assistantFilters.timefilter&&!s.isBefore(moment.utc(),"day"))return!1}return!0})):this.assitantItems}get activityTypes(){let t=[];for(let s of this.assitantItems)-1==t.indexOf(s.module)&&t.push(s.module);return t}static ɵfac=function(t){return new(t||assistant)(h.LFG(y.A),h.LFG(x.y),h.LFG(m.f),h.LFG(C.n),h.LFG(A.t))};static ɵprov=h.Yz7({token:assistant,factory:assistant.ɵfac,providedIn:"root"})}return assistant})();var I=e(17017),T=e(55329),F=e(72656),M=e(59016),H=e(83463),Y=e(31058),k=e(50151),w=e(19087),L=e(20243),q=e(7514),J=e(69901),O=e(93333),S=e(78859);function U(t,s){if(1&t){const t=h.EpF();h.TgZ(0,"div",7)(1,"system-checkbox",20),h.NdJ("ngModelChange",(function(s){const e=h.CHM(t).$implicit,i=h.oxw();return h.KtG(i.setFilter(e,s))})),h._UZ(2,"system-label-modulename",21),h.qZA()()}if(2&t){const t=s.$implicit,e=h.oxw();h.xp6(1),h.Q6J("ngModel",e.getChecked(t)),h.xp6(1),h.Q6J("module",t)}}const Q=function(t){return{"slds-is-open":t}};let R=(()=>{class HomeAssistantFilter{renderer;elementRef;language;metadata;assistant;isOpen=!1;clickListener;constructor(t,s,e,i,a){this.renderer=t,this.elementRef=s,this.language=e,this.metadata=i,this.assistant=a}get activityTypes(){return this.assistant.activityTypes}toggleOpen(t){t.stopPropagation(),this.isOpen=!this.isOpen,this.isOpen?this.clickListener=this.renderer.listen("document","click",(t=>this.onClick(t))):this.clickListener&&this.clickListener()}onClick(t){this.elementRef.nativeElement.contains(t.target)||(this.isOpen=!1,this.clickListener())}get filterColorClass(){return this.assistant.assistantFilters.objectfilters.length>0||"all"!=this.assistant.assistantFilters.timefilter?"slds-icon-text-error":"slds-icon-text-default"}setFilter(t,s){if("all"==t)this.assistant.assistantFilters.objectfilters=[];else if(s)this.assistant.assistantFilters.objectfilters.push(t);else{let s=this.assistant.assistantFilters.objectfilters.indexOf(t);this.assistant.assistantFilters.objectfilters.splice(s,1)}}getChecked(t){return"all"==t?0==this.assistant.assistantFilters.objectfilters.length:this.assistant.assistantFilters.objectfilters.indexOf(t)>=0}closeDialog(){this.clickListener&&this.clickListener(),this.isOpen=!1}static ɵfac=function(t){return new(t||HomeAssistantFilter)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(T.d),h.Y36(g.Pu),h.Y36(D))};static ɵcmp=h.Xpm({type:HomeAssistantFilter,selectors:[["home-assistant-filter"]],decls:22,vars:11,consts:[[1,"slds-dropdown-trigger","slds-dropdown-trigger_click","slds-p-horizontal--xxx-small",3,"ngClass"],["icon","filterList","size","xx-small",3,"colorclass","title","click"],[1,"slds-is-absolute","slds-dropdown","slds-dropdown_right","slds-nubbin_top-right",2,"right","-15px","top","25px"],[1,"slds-grid"],[1,"slds-p-horizontal--small","slds-border--right",2,"min-width","120px"],[1,"slds-p-vertical--x-small"],["label","LBL_TYPE"],[1,"slds-form-element","slds-p-vertical--xx-small"],[3,"disabled","ngModel","ngModelChange"],["label","LBL_ALL"],["class","slds-form-element slds-p-vertical--xx-small",4,"ngFor","ngForOf"],[1,"slds-p-horizontal--small",2,"min-width","120px"],["label","LBL_FILTER"],[1,"slds-form-element"],[1,"slds-form-element__control"],["name","filters","value","all",3,"ngModel","ngModelChange"],["name","filters","value","overdue",3,"ngModel","ngModelChange"],["label","LBL_OVERDUE"],["name","filters","value","today",3,"ngModel","ngModelChange"],["label","LBL_TODAY"],[3,"ngModel","ngModelChange"],[3,"module"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0)(1,"system-utility-icon",1),h.NdJ("click",(function(t){return s.toggleOpen(t)})),h.qZA(),h.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h._UZ(6,"system-label",6),h.qZA(),h.TgZ(7,"div",7)(8,"system-checkbox",8),h.NdJ("ngModelChange",(function(t){return s.setFilter("all",t)})),h._UZ(9,"system-label",9),h.qZA()(),h.YNc(10,U,3,2,"div",10),h.qZA(),h.TgZ(11,"div",11)(12,"div",5),h._UZ(13,"system-label",12),h.qZA(),h.TgZ(14,"fieldset",13)(15,"div",14)(16,"system-input-radio",15),h.NdJ("ngModelChange",(function(t){return s.assistant.assistantFilters.timefilter=t})),h._UZ(17,"system-label",9),h.qZA(),h.TgZ(18,"system-input-radio",16),h.NdJ("ngModelChange",(function(t){return s.assistant.assistantFilters.timefilter=t})),h._UZ(19,"system-label",17),h.qZA(),h.TgZ(20,"system-input-radio",18),h.NdJ("ngModelChange",(function(t){return s.assistant.assistantFilters.timefilter=t})),h._UZ(21,"system-label",19),h.qZA()()()()()()()),2&t&&(h.Q6J("ngClass",h.VKq(9,Q,s.isOpen)),h.xp6(1),h.Q6J("colorclass",s.filterColorClass)("title",s.language.getLabel("LBL_FILTER")),h.xp6(7),h.Q6J("disabled",s.getChecked("all"))("ngModel",s.getChecked("all")),h.xp6(2),h.Q6J("ngForOf",s.activityTypes),h.xp6(6),h.Q6J("ngModel",s.assistant.assistantFilters.timefilter),h.xp6(2),h.Q6J("ngModel",s.assistant.assistantFilters.timefilter),h.xp6(2),h.Q6J("ngModel",s.assistant.assistantFilters.timefilter))},dependencies:[i.mk,i.sg,a.JJ,a.On,q.U,J.A,H._,O.M,S.r],encapsulation:2})}return HomeAssistantFilter})();function z(t,s){1&t&&(h.TgZ(0,"div",13),h._UZ(1,"system-illustration-no-task",14),h.qZA())}function B(t,s){if(1&t&&(h.TgZ(0,"li",15),h._UZ(1,"activitytimeline-item-container",16),h.qZA()),2&t){const t=s.$implicit;h.xp6(1),h.Q6J("activity",t)}}function N(t,s){1&t&&(h.TgZ(0,"ul",10)(1,"li",15),h._UZ(2,"activitytimeline-stencil"),h.qZA(),h.TgZ(3,"li",17),h._UZ(4,"activitytimeline-stencil"),h.qZA(),h.TgZ(5,"li",18),h._UZ(6,"activitytimeline-stencil"),h.qZA(),h.TgZ(7,"li",19),h._UZ(8,"activitytimeline-stencil"),h.qZA(),h.TgZ(9,"li",20),h._UZ(10,"activitytimeline-stencil"),h.qZA()())}let j=(()=>{class HomeAssistant{assistant;navigationtab;language;constructor(t,s,e){this.assistant=t,this.navigationtab=s,this.language=e,this.navigationtab.setTabInfo({displayname:this.language.getLabel("LBL_ASSISTANT"),displaymodule:"Home"})}reload(t){t.stopPropagation(),this.assistant.loadItems(!1)}get loading(){return this.assistant.loading}get noActivities(){return!this.assistant.loading&&0==this.assistant.assitantItems.length}trackByFn(t,s){return s.id}static ɵfac=function(t){return new(t||HomeAssistant)(h.Y36(D),h.Y36(I.d),h.Y36(T.d))};static ɵcmp=h.Xpm({type:HomeAssistant,selectors:[["home-assistant"]],decls:14,vars:4,consts:[[1,"slds-grid","slds-theme--default","slds-grid--vertical","slds-nowrap","slds-border--left","slds-border--right"],[1,"slds-p-around--small"],[1,"slds-grid","slds-grid--align-spread","slds-has-flexi-truncate","slds-grid--vertical-align-center"],[1,"slds-page-header__title","slds-m-right--small","slds-align-middle","slds-truncate"],["label","LBL_ASSISTANT"],[1,"slds-shrink-none"],["system-title","LBL_REFRESH",1,"slds-button","slds-button--icon",3,"disabled","click"],["icon","refresh"],["system-to-bottom",""],["class","slds-align--absolute-center slds-height_full",4,"ngIf"],[1,"slds-timeline"],["class","slds-p-around--xx-small",4,"ngFor","ngForOf"],["class","slds-timeline",4,"ngIf"],[1,"slds-align--absolute-center","slds-height_full"],[1,"slds-p-around--medium"],[1,"slds-p-around--xx-small"],["module","Activities",3,"activity"],[1,"slds-p-around--xx-small",2,"opacity","0.8"],[1,"slds-p-around--xx-small",2,"opacity","0.6"],[1,"slds-p-around--xx-small",2,"opacity","0.4"],[1,"slds-p-around--xx-small",2,"opacity","0.2"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),h._UZ(4,"system-label",4),h.qZA(),h.TgZ(5,"div",5),h._UZ(6,"home-assistant-filter"),h.TgZ(7,"button",6),h.NdJ("click",(function(t){return s.reload(t)})),h._UZ(8,"system-button-icon",7),h.qZA()()()(),h.TgZ(9,"div",8),h.YNc(10,z,2,0,"div",9),h.TgZ(11,"ul",10),h.YNc(12,B,2,1,"li",11),h.qZA(),h.YNc(13,N,11,0,"ul",12),h.qZA()()),2&t&&(h.xp6(7),h.Q6J("disabled",s.assistant.loading),h.xp6(3),h.Q6J("ngIf",s.noActivities),h.xp6(2),h.Q6J("ngForOf",s.assistant.filteredItems),h.xp6(1),h.Q6J("ngIf",s.loading))},dependencies:[i.sg,i.O5,F.J,M.H,H._,Y.H,k.S,w.d,L.g,R],encapsulation:2})}return HomeAssistant})();const G=["dashboardcontainer"];let E=(()=>{class HomeDashboard{broadcast;metadata;language;userpreferences;dashboardcontainer;componentSubscriptions=[];dashboardid="";dashboardcontainercomponent=void 0;constructor(t,s,e,i){this.broadcast=t,this.metadata=s,this.language=e,this.userpreferences=i,this.componentSubscriptions.push(this.broadcast.message$.subscribe((t=>{this.handleMessage(t)}))),this.loadDashboardConfig()}handleMessage(t){switch(t.messagetype){case"applauncher.setrole":this.loadDashboardConfig();break;case"wizard.complete":this.reloadContainer()}}loadDashboardConfig(){let t=this.userpreferences.toUse.home_dashboard||void 0,s=this.metadata.getActiveRole();this.dashboardid=t||s.default_dashboard||"",this.dashboardcontainercomponent&&(this.dashboardcontainercomponent.instance.dashboardid=this.dashboardid)}ngAfterViewInit(){this.reloadContainer()}reloadContainer(){this.dashboardcontainercomponent&&(this.dashboardcontainercomponent.destroy(),this.dashboardcontainercomponent=void 0),this.metadata.addComponent("DashboardContainer",this.dashboardcontainer).subscribe((t=>{t.instance.dashboardid=this.dashboardid,t.instance.context="Home",this.dashboardcontainercomponent=t}))}ngOnDestroy(){for(let t of this.componentSubscriptions)t.unsubscribe()}static ɵfac=function(t){return new(t||HomeDashboard)(h.Y36(m.f),h.Y36(g.Pu),h.Y36(T.d),h.Y36(b.z))};static ɵcmp=h.Xpm({type:HomeDashboard,selectors:[["home-dashboard"]],viewQuery:function(t,s){if(1&t&&h.Gf(G,7,h.s_b),2&t){let t;h.iGM(t=h.CRH())&&(s.dashboardcontainer=t.first)}},decls:3,vars:0,consts:[[1,"slds-theme--shade"],["dashboardcontainer",""]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"div",null,1),h.qZA())},encapsulation:2})}return HomeDashboard})();var P=e(50727),V=e(6271),$=e(12803);const X=["moreTab"],K=["activeDashboardContainer"],W=["maintabs"],tt=["moreTabItems"];function st(t,s){if(1&t){const t=h.EpF();h.TgZ(0,"div")(1,"system-input-radio-button-group",4),h.NdJ("ngModelChange",(function(s){h.CHM(t);const e=h.oxw();return h.KtG(e.activeDashboardId=s)})),h.qZA()()}if(2&t){const t=h.oxw();h.xp6(1),h.Q6J("inputOptions",t.dashboardsList)("ngModel",t.activeDashboardId)}}function et(t,s){1&t&&(h.TgZ(0,"div",5)(1,"div",6),h._UZ(2,"system-stencil",7),h.qZA(),h.TgZ(3,"div",6),h._UZ(4,"system-stencil",7),h.qZA(),h.TgZ(5,"div",6),h._UZ(6,"system-stencil",7),h.qZA(),h.TgZ(7,"div"),h._UZ(8,"system-stencil",7),h.qZA()())}let it=(()=>{class HomeDashboardSetContainer{broadcast;metadata;language;renderer;backend;elementRef;cdr;userpreferences;subscriptions=new P.w0;dashboardContainerComponentRef;dashboardsList=[];isLoading=!1;maintabs;moreTabItems;moreTab;activeDashboardContainer;constructor(t,s,e,i,a,n,o,d){this.broadcast=t,this.metadata=s,this.language=e,this.renderer=i,this.backend=a,this.elementRef=n,this.cdr=o,this.userpreferences=d,this.subscribeToBroadcast(),this.loadDashboardConfig()}_activeDashboardId="";_activeDashboardSetId="";get activeDashboardId(){return this._activeDashboardId}set activeDashboardId(t){this._activeDashboardId=t,this.renderView()}get activeDashboardSetId(){return this._activeDashboardSetId}set activeDashboardSetId(t){this._activeDashboardSetId=t}ngOnDestroy(){this.subscriptions.unsubscribe(),this.resetView()}ngAfterViewInit(){this.loadDashboards()}subscribeToBroadcast(){this.subscriptions.add(this.broadcast.message$.subscribe((t=>{this.handleBroadcastSubscription(t)})))}loadDashboards(){this.isLoading=!0,this.cdr.detectChanges(),this.loadDashboardSetDashboards().subscribe((t=>{this.isLoading=!1,t&&(this.dashboardsList=_.toArray(t).map((t=>({label:t.name,value:t.id}))),this.dashboardsList.length>0&&(this.activeDashboardId=this.dashboardsList[0].value),this.cdr.detectChanges())}))}handleBroadcastSubscription(t){if("applauncher.setrole"===t.messagetype)this.loadDashboardConfig()}loadDashboardConfig(){let t=this.userpreferences.toUse.home_dashboard||void 0,s=this.metadata.getActiveRole();this.activeDashboardId=t||s.default_dashboard||"";let e=this.userpreferences.toUse.home_dashboardset||void 0;this.activeDashboardSetId=e||s.default_dashboardset||"",this.dashboardContainerComponentRef&&(this.dashboardContainerComponentRef.instance.dashboardid=this.activeDashboardId)}renderView(){this.resetView(),this.activeDashboardContainer&&this.metadata.addComponent("DashboardContainer",this.activeDashboardContainer).subscribe((t=>{t.instance.dashboardid=this.activeDashboardId,t.instance.context="Home",this.dashboardContainerComponentRef=t}))}resetView(){this.dashboardContainerComponentRef&&(this.dashboardContainerComponentRef.destroy(),this.dashboardContainerComponentRef=void 0)}loadDashboardSetDashboards(){let t=this.userpreferences.toUse.home_dashboardset||this.activeDashboardSetId,s={limit:-99,modulefilter:this.metadata.getComponentConfig("HomeDashboardSetContainer","Home").moduleFilter,sort:{sortfield:"dashboardsets_dashboard_sequence",sortdirection:"ASC"}};return this.backend.getRequest(`module/DashboardSets/${t}/related/dashboards`,s)}static ɵfac=function(t){return new(t||HomeDashboardSetContainer)(h.Y36(m.f),h.Y36(g.Pu),h.Y36(T.d),h.Y36(h.Qsj),h.Y36(x.y),h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(b.z))};static ɵcmp=h.Xpm({type:HomeDashboardSetContainer,selectors:[["home-dashboardset-container"]],viewQuery:function(t,s){if(1&t&&(h.Gf(X,5,h.s_b),h.Gf(K,5,h.s_b),h.Gf(W,5,h.s_b),h.Gf(tt,5,h.s_b)),2&t){let t;h.iGM(t=h.CRH())&&(s.moreTab=t.first),h.iGM(t=h.CRH())&&(s.activeDashboardContainer=t.first),h.iGM(t=h.CRH())&&(s.maintabs=t),h.iGM(t=h.CRH())&&(s.moreTabItems=t)}},decls:7,vars:2,consts:[[1,"slds-p-around--xx-small","slds-scrollable--x","slds-border--bottom"],[4,"ngIf","ngIfElse"],["isLoadingContainer",""],["activeDashboardContainer",""],[3,"inputOptions","ngModel","ngModelChange"],[1,"slds-grid"],[1,"slds-p-right--xx-small"],[2,"line-height","1.6rem"]],template:function(t,s){if(1&t&&(h.TgZ(0,"div")(1,"div",0),h.YNc(2,st,2,2,"div",1),h.YNc(3,et,9,0,"ng-template",null,2,h.W1O),h.qZA(),h._UZ(5,"div",null,3),h.qZA()),2&t){const t=h.MAs(4);h.xp6(2),h.Q6J("ngIf",!s.isLoading)("ngIfElse",t)}},dependencies:[i.O5,a.JJ,a.On,V.p,$.B],encapsulation:2})}return HomeDashboardSetContainer})();function at(t,s){1&t&&(h.ynx(0),h._UZ(1,"home-dashboardset-container"),h.BQk())}function nt(t,s){if(1&t){const t=h.EpF();h.TgZ(0,"div",2)(1,"system-split-container",3),h.NdJ("onExpand",(function(){h.CHM(t);const s=h.oxw();return h.KtG(s.cdRef.detectChanges())})),h.TgZ(2,"system-split-container-left",4),h.YNc(3,at,2,0,"ng-container",5),h.qZA(),h.TgZ(4,"system-split-container-right",6),h._UZ(5,"home-assistant"),h.qZA()()()}if(2&t){const t=h.oxw(),s=h.MAs(3);h.xp6(3),h.Q6J("ngIf",t.hasDashboardSet)("ngIfElse",s)}}function ot(t,s){1&t&&(h.ynx(0),h._UZ(1,"home-dashboardset-container"),h.BQk())}function dt(t,s){if(1&t&&(h.TgZ(0,"div",2)(1,"div",7),h.YNc(2,ot,2,0,"ng-container",5),h.qZA()()),2&t){const t=h.oxw(),s=h.MAs(3);h.xp6(2),h.Q6J("ngIf",t.hasDashboardSet)("ngIfElse",s)}}function lt(t,s){1&t&&h._UZ(0,"home-dashboard")}let rt=(()=>{class Home{broadcast;navigation;metadata;userpreferences;cdRef;hasDashboardSet=!1;constructor(t,s,e,i,a){if(this.broadcast=t,this.navigation=s,this.metadata=e,this.userpreferences=i,this.cdRef=a,this.userpreferences.loadPreferences().subscribe((t=>this.hasDashboardSet=t.home_dashboardset&&t.home_dashboardset.length>0)),!this.hasDashboardSet){let t=this.metadata.getActiveRole();t&&t.default_dashboardset&&t.default_dashboardset&&(this.hasDashboardSet=!0)}this.navigation.setActiveModule("Home")}get displayHomeAssistant(){let t=!this.userpreferences.toUse.home_assistant||"hidden"==this.userpreferences.toUse.home_assistant;return window.innerWidth>1024&&!t}static ɵfac=function(t){return new(t||Home)(h.Y36(m.f),h.Y36(u.G),h.Y36(g.Pu),h.Y36(b.z),h.Y36(h.sBO))};static ɵcmp=h.Xpm({type:Home,selectors:[["home"]],decls:4,vars:2,consts:[["class","slds-grid",4,"ngIf"],["homeDashboardContainer",""],[1,"slds-grid"],[3,"onExpand"],["containerClass","slds-col slds-large-size--3-of-4 slds-medium-size--1-of-2"],[4,"ngIf","ngIfElse"],["containerClass","slds-col slds-large-size--1-of-4 slds-medium-size--1-of-2"],[1,"slds-col","slds-size--1-of-1"]],template:function(t,s){1&t&&(h.YNc(0,nt,6,2,"div",0),h.YNc(1,dt,3,2,"div",0),h.YNc(2,lt,1,0,"ng-template",null,1,h.W1O)),2&t&&(h.Q6J("ngIf",s.displayHomeAssistant),h.xp6(1),h.Q6J("ngIf",!s.displayHomeAssistant))},dependencies:[i.O5,f.n,p.j,v.I,j,E,it],encapsulation:2})}return Home})();var ct=e(55710),ht=e(32294),mt=e(33634),ut=e(30699),gt=e(44561),bt=e(7674),ft=e(31790);function pt(t,s){if(1&t&&(h.ynx(0),h.TgZ(1,"dt",11),h._UZ(2,"system-label-fieldname",12),h.qZA(),h.TgZ(3,"dd",13),h._UZ(4,"field-container",14),h.qZA(),h.BQk()),2&t){const t=s.$implicit,e=h.oxw();h.xp6(2),h.Q6J("module",e.model.module)("field",t.field),h.xp6(2),h.Q6J("field",t.field)("fieldconfig",t.fieldconfig)("fielddisplayclass","slds-truncate")}}let vt=(()=>{class HomeAssistantTile{language;model;view;metadata;item={};tileFields=[];actionset="";constructor(t,s,e,i){this.language=t,this.model=s,this.view=e,this.metadata=i,e.isEditable=!1}ngOnInit(){let t=this.metadata.getComponentConfig("HomeAssistantTile",this.item.module);t&&t.fieldset&&(this.tileFields=this.metadata.getFieldSetFields(t.fieldset)),t&&t.actionset&&(this.actionset=t.actionset),this.model.module=this.item.module,this.model.id=this.item.id,this.model.setData(this.item.data)}goDetail(){this.model.goDetail()}static ɵfac=function(t){return new(t||HomeAssistantTile)(h.Y36(T.d),h.Y36(ct.o),h.Y36(ht.e),h.Y36(g.Pu))};static ɵcmp=h.Xpm({type:HomeAssistantTile,selectors:[["home-assistant-tile"]],inputs:{item:"item"},features:[h._Bn([ct.o,ht.e])],decls:12,vars:6,consts:[[1,"slds-tile","slds-media","slds-p-around--x-small","slds-border--bottom"],[3,"module","size"],[1,"slds-media__body"],[1,"slds-grid","slds-grid_align-spread","slds-has-flexi-truncate","slds-p-bottom--xx-small"],["system-model-popover","",1,"slds-tile__title","slds-truncate"],["href","javascript:void(0);",3,"click"],[1,"slds-shrink-none"],[3,"buttonsize","actionset"],[1,"slds-tile__detail"],[1,"slds-list_horizontal","slds-wrap"],[4,"ngFor","ngForOf"],[1,"slds-item--label","slds-text-color--weak","slds-truncate"],[3,"module","field"],[1,"slds-item--detail","slds-truncate"],[3,"field","fieldconfig","fielddisplayclass"]],template:function(t,s){1&t&&(h.TgZ(0,"article",0),h._UZ(1,"system-icon",1),h.TgZ(2,"div",2)(3,"div",3)(4,"h3",4)(5,"a",5),h.NdJ("click",(function(){return s.goDetail()})),h._uU(6),h.qZA()(),h.TgZ(7,"div",6),h._UZ(8,"object-actionset-menu",7),h.qZA()(),h.TgZ(9,"div",8)(10,"dl",9),h.YNc(11,pt,5,5,"ng-container",10),h.qZA()()()()),2&t&&(h.xp6(1),h.Q6J("module",s.item.module)("size","small"),h.xp6(5),h.Oqu(s.item.data.summary_text),h.xp6(2),h.Q6J("buttonsize","x-small")("actionset",s.actionset),h.xp6(3),h.Q6J("ngForOf",s.tileFields))},dependencies:[i.sg,mt.j,ut.H,gt.f,bt.h,ft.g],encapsulation:2})}return HomeAssistantTile})(),_t=(()=>{class ModuleHome{static ɵfac=function(t){return new(t||ModuleHome)};static ɵmod=h.oAB({type:ModuleHome});static ɵinj=h.cJS({imports:[i.ez,a.u5,n.ObjectFields,o.GlobalComponents,d.ObjectComponents,l.SystemComponents,r.o,c.ModuleActivities]})}return ModuleHome})();("undefined"==typeof ngJitMode||ngJitMode)&&h.kYT(_t,{declarations:[rt,j,vt,R,E,it],imports:[i.ez,a.u5,n.ObjectFields,o.GlobalComponents,d.ObjectComponents,l.SystemComponents,r.o,c.ModuleActivities]})}}]);